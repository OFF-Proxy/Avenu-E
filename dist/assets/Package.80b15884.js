import{b as o,R as h,D as f,K as x,H as F,W as w,a as i,j as a,d as c,v as A,x as C}from"./index.61613632.js";import{T as j,a as I,I as S,d as U,B as g}from"./index.esm.5f8e3b5d.js";/* empty css                */const y=n=>{const[p,b]=o.exports.useState(Array()),[m,k]=o.exports.useState(Object()),[B,N]=o.exports.useState(Boolean(!0));o.exports.useEffect(()=>{n.user?(h(f(c,"users"),e=>{e.docs.map(s=>{s.data().email===n.user.email&&(k(s.data()),h(f(c,"packages"),l=>{l.docs.map(t=>{s.data().bookmarks.length>0?s.data().bookmarks.includes(t.id)?d(r=>({...r,[t.id]:!0})):d(r=>({...r,[t.id]:!1})):d(r=>({...r,[t.id]:!1}))})}))})}),h(x(f(c,"packages"),w("createAt","desc"),F(10)),e=>{b(e.docs.map(s=>({...s.data()}))),N(!1)}),N(!1)):window.location="/login"},[n]);const[u,d]=o.exports.useState(Object()),v=async e=>{const s=A(c),l=C(c,"users",m.id);u[e]?s.update(l,{bookmarks:m.bookmarks.filter(t=>t.match(e)==null)}):s.update(l,{bookmarks:[...m.bookmarks,e]}),s.commit(),d(t=>({...t,[e]:![e]}))};switch(B){case!1:return i("div",{className:"package-wrapper",children:[a("h2",{className:"package-title",children:"New Packages"}),a("p",{children:"\u6700\u8FD1\u767B\u9332\u3055\u308C\u305F\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u3067\u3059\u3002"}),a("div",{className:"card-wrapper",children:p&&p.map(e=>i("div",{className:"portfolio-card card-wrapper-cel",children:[a("div",{className:"portfolio-thumnail",children:a("a",{href:"package/detail?id="+e.id,children:a("img",{src:e.images[0],alt:"",className:"portfolio-image"})})}),i("div",{className:"portfolio-detail",children:[i("h4",{className:"head-title head-title-middle",children:[a("a",{className:"d-inline-block",href:"package/detail?id="+e.id,children:e.title}),a("div",{className:"d-inline-block ms-2",children:a(j,{label:"\u30D6\u30C3\u30AF\u30DE\u30FC\u30AF\u306B\u8FFD\u52A0",bg:"gray",p:"0px 10px",fontSize:"11px",color:"white",children:a(I,{cursor:"pointer",onClick:()=>v(e.id),children:a(S,{as:u[e.id]?U:g,mr:"2.5",fontSize:"22px",color:u[e.id]?"#80CBC4":""})})})})]}),a("p",{className:"portfolio-overview text-muted p-0",children:e.createAt}),a("div",{className:"social-icon-list",children:e.types.map((s,l)=>a("a",{href:"package/detail?id="+e.id,className:"tags-listItem",children:s},s+"_"+l))}),a("span",{className:"line"}),i("div",{className:"m-1",children:[a("a",{className:"d-inline-block",href:"/profile?user="+e.masterUserName,children:a("img",{src:e.masterUserIcon,className:"package-masterUserIcon"})}),i("div",{className:"portfolio-note d-inline-block",children:["\u958B\u767A\u8005\u540D\uFF1A",a("a",{href:"/profile?user="+e.masterUserName,children:e.masterUserName})]})]}),a("p",{className:"portfolio-overview",children:e.content&&e.content.length>150?e.content.slice(0,150)+"\u2026":e.content})]})]},e.title))}),a("div",{className:"mt-30",children:a("a",{href:"https://kojin.dev/application/search",children:a("button",{className:"btn andMore",children:"\u3082\u3063\u3068\u898B\u308B..."})})})]});default:return null}};export{y as default};
