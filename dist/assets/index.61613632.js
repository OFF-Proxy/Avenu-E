function yq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uS(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Z={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=Symbol.for("react.element"),vq=Symbol.for("react.portal"),_q=Symbol.for("react.fragment"),wq=Symbol.for("react.strict_mode"),Eq=Symbol.for("react.profiler"),bq=Symbol.for("react.provider"),Sq=Symbol.for("react.context"),Iq=Symbol.for("react.forward_ref"),Tq=Symbol.for("react.suspense"),Aq=Symbol.for("react.memo"),Cq=Symbol.for("react.lazy"),OC=Symbol.iterator;function Rq(t){return t===null||typeof t!="object"?null:(t=OC&&t[OC]||t["@@iterator"],typeof t=="function"?t:null)}var YD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XD=Object.assign,JD={};function Yl(t,e,n){this.props=t,this.context=e,this.refs=JD,this.updater=n||YD}Yl.prototype.isReactComponent={};Yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZD(){}ZD.prototype=Yl.prototype;function lS(t,e,n){this.props=t,this.context=e,this.refs=JD,this.updater=n||YD}var cS=lS.prototype=new ZD;cS.constructor=lS;XD(cS,Yl.prototype);cS.isPureReactComponent=!0;var kC=Array.isArray,eN=Object.prototype.hasOwnProperty,dS={current:null},tN={key:!0,ref:!0,__self:!0,__source:!0};function nN(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)eN.call(e,r)&&!tN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:of,type:t,key:s,ref:o,props:i,_owner:dS.current}}function Pq(t,e){return{$$typeof:of,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hS(t){return typeof t=="object"&&t!==null&&t.$$typeof===of}function Oq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xC=/\/+/g;function z_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Oq(""+t.key):e.toString(36)}function Yp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case of:case vq:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+z_(o,0):r,kC(i)?(n="",t!=null&&(n=t.replace(xC,"$&/")+"/"),Yp(i,e,n,"",function(l){return l})):i!=null&&(hS(i)&&(i=Pq(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kC(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+z_(s,a);o+=Yp(s,e,n,u,i)}else if(u=Rq(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+z_(s,a++),o+=Yp(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pp(t,e,n){if(t==null)return t;var r=[],i=0;return Yp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yn={current:null},Xp={transition:null},xq={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:Xp,ReactCurrentOwner:dS};Me.Children={map:pp,forEach:function(t,e,n){pp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pp(t,function(){e++}),e},toArray:function(t){return pp(t,function(e){return e})||[]},only:function(t){if(!hS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Yl;Me.Fragment=_q;Me.Profiler=Eq;Me.PureComponent=lS;Me.StrictMode=wq;Me.Suspense=Tq;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xq;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XD({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)eN.call(e,u)&&!tN.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:of,type:t.type,key:i,ref:s,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:Sq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bq,_context:t},t.Consumer=t};Me.createElement=nN;Me.createFactory=function(t){var e=nN.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:Iq,render:t}};Me.isValidElement=hS;Me.lazy=function(t){return{$$typeof:Cq,_payload:{_status:-1,_result:t},_init:kq}};Me.memo=function(t,e){return{$$typeof:Aq,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Xp.transition;Xp.transition={};try{t()}finally{Xp.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return Yn.current.useCallback(t,e)};Me.useContext=function(t){return Yn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Yn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return Yn.current.useEffect(t,e)};Me.useId=function(){return Yn.current.useId()};Me.useImperativeHandle=function(t,e,n){return Yn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return Yn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return Yn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return Yn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return Yn.current.useReducer(t,e,n)};Me.useRef=function(t){return Yn.current.useRef(t)};Me.useState=function(t){return Yn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return Yn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return Yn.current.useTransition()};Me.version="18.2.0";(function(t){t.exports=Me})(Z);const Id=QD(Z.exports),Fke=yq({__proto__:null,default:Id},[Z.exports]);var C0={},fS={exports:{}},Lr={},rN={exports:{}},iN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,re){var se=q.length;q.push(re);e:for(;0<se;){var he=se-1>>>1,ve=q[he];if(0<i(ve,re))q[he]=re,q[se]=ve,se=he;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var re=q[0],se=q.pop();if(se!==re){q[0]=se;e:for(var he=0,ve=q.length,Te=ve>>>1;he<Te;){var $e=2*(he+1)-1,oe=q[$e],H=$e+1,te=q[H];if(0>i(oe,se))H<ve&&0>i(te,oe)?(q[he]=te,q[H]=se,he=H):(q[he]=oe,q[$e]=se,he=$e);else if(H<ve&&0>i(te,se))q[he]=te,q[H]=se,he=H;else break e}}return re}function i(q,re){var se=q.sortIndex-re.sortIndex;return se!==0?se:q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,h=3,m=!1,g=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var re=n(l);re!==null;){if(re.callback===null)r(l);else if(re.startTime<=q)r(l),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(l)}}function b(q){if(_=!1,w(q),!g)if(n(u)!==null)g=!0,F(T);else{var re=n(l);re!==null&&G(b,re.startTime-q)}}function T(q,re){g=!1,_&&(_=!1,v(A),A=-1),m=!0;var se=h;try{for(w(re),d=n(u);d!==null&&(!(d.expirationTime>re)||q&&!D());){var he=d.callback;if(typeof he=="function"){d.callback=null,h=d.priorityLevel;var ve=he(d.expirationTime<=re);re=t.unstable_now(),typeof ve=="function"?d.callback=ve:d===n(u)&&r(u),w(re)}else r(u);d=n(u)}if(d!==null)var Te=!0;else{var $e=n(l);$e!==null&&G(b,$e.startTime-re),Te=!1}return Te}finally{d=null,h=se,m=!1}}var C=!1,I=null,A=-1,L=5,k=-1;function D(){return!(t.unstable_now()-k<L)}function P(){if(I!==null){var q=t.unstable_now();k=q;var re=!0;try{re=I(!0,q)}finally{re?N():(C=!1,I=null)}}else C=!1}var N;if(typeof y=="function")N=function(){y(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=P,N=function(){U.postMessage(null)}}else N=function(){S(P,0)};function F(q){I=q,C||(C=!0,N())}function G(q,re){A=S(function(){q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,F(T))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var re=3;break;default:re=h}var se=h;h=re;try{return q()}finally{h=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=h;h=q;try{return re()}finally{h=se}},t.unstable_scheduleCallback=function(q,re,se){var he=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?he+se:he):se=he,q){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=se+ve,q={id:c++,callback:re,priorityLevel:q,startTime:se,expirationTime:ve,sortIndex:-1},se>he?(q.sortIndex=se,e(l,q),n(u)===null&&q===n(l)&&(_?(v(A),A=-1):_=!0,G(b,se-he))):(q.sortIndex=ve,e(u,q),g||m||(g=!0,F(T))),q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(q){var re=h;return function(){var se=h;h=re;try{return q.apply(this,arguments)}finally{h=se}}}})(iN);(function(t){t.exports=iN})(rN);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=Z.exports,Or=rN.exports;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oN=new Set,Xd={};function ou(t,e){_l(t,e),_l(t+"Capture",e)}function _l(t,e){for(Xd[t]=e,t=0;t<e.length;t++)oN.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R0=Object.prototype.hasOwnProperty,Dq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DC={},NC={};function Nq(t){return R0.call(NC,t)?!0:R0.call(DC,t)?!1:Dq.test(t)?NC[t]=!0:(DC[t]=!0,!1)}function $q(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lq(t,e,n,r){if(e===null||typeof e>"u"||$q(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pS=/[\-:]([a-z])/g;function mS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pS,mS);An[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pS,mS);An[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pS,mS);An[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gS(t,e,n,r){var i=An.hasOwnProperty(e)?An[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lq(e,n,i,r)&&(n=null),r||i===null?Nq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ts=sN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mp=Symbol.for("react.element"),ju=Symbol.for("react.portal"),Vu=Symbol.for("react.fragment"),yS=Symbol.for("react.strict_mode"),P0=Symbol.for("react.profiler"),aN=Symbol.for("react.provider"),uN=Symbol.for("react.context"),vS=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),k0=Symbol.for("react.suspense_list"),_S=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),lN=Symbol.for("react.offscreen"),$C=Symbol.iterator;function jc(t){return t===null||typeof t!="object"?null:(t=$C&&t[$C]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,q_;function pd(t){if(q_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);q_=e&&e[1]||""}return`
`+q_+t}var H_=!1;function G_(t,e){if(!t||H_)return"";H_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{H_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pd(t):""}function Mq(t){switch(t.tag){case 5:return pd(t.type);case 16:return pd("Lazy");case 13:return pd("Suspense");case 19:return pd("SuspenseList");case 0:case 2:case 15:return t=G_(t.type,!1),t;case 11:return t=G_(t.type.render,!1),t;case 1:return t=G_(t.type,!0),t;default:return""}}function x0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vu:return"Fragment";case ju:return"Portal";case P0:return"Profiler";case yS:return"StrictMode";case O0:return"Suspense";case k0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uN:return(t.displayName||"Context")+".Consumer";case aN:return(t._context.displayName||"Context")+".Provider";case vS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _S:return e=t.displayName||null,e!==null?e:x0(t.type)||"Memo";case Vs:e=t._payload,t=t._init;try{return x0(t(e))}catch{}}return null}function Fq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x0(e);case 8:return e===yS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uq(t){var e=cN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gp(t){t._valueTracker||(t._valueTracker=Uq(t))}function dN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _m(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function D0(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function LC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hN(t,e){e=e.checked,e!=null&&gS(t,"checked",e,!1)}function N0(t,e){hN(t,e);var n=wo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$0(t,e.type,n):e.hasOwnProperty("defaultValue")&&$0(t,e.type,wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function MC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $0(t,e,n){(e!=="number"||_m(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var md=Array.isArray;function rl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function L0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(md(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wo(n)}}function fN(t,e){var n=wo(e.value),r=wo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function UC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yp,mN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yp=yp||document.createElement("div"),yp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Td={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bq=["Webkit","ms","Moz","O"];Object.keys(Td).forEach(function(t){Bq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Td[e]=Td[t]})});function gN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Td.hasOwnProperty(t)&&Td[t]?(""+e).trim():e+"px"}function yN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jq=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F0(t,e){if(e){if(jq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function U0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=null;function wS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var j0=null,il=null,sl=null;function BC(t){if(t=lf(t)){if(typeof j0!="function")throw Error(J(280));var e=t.stateNode;e&&(e=ey(e),j0(t.stateNode,t.type,e))}}function vN(t){il?sl?sl.push(t):sl=[t]:il=t}function _N(){if(il){var t=il,e=sl;if(sl=il=null,BC(t),e)for(t=0;t<e.length;t++)BC(e[t])}}function wN(t,e){return t(e)}function EN(){}var K_=!1;function bN(t,e,n){if(K_)return t(e,n);K_=!0;try{return wN(t,e,n)}finally{K_=!1,(il!==null||sl!==null)&&(EN(),_N())}}function Zd(t,e){var n=t.stateNode;if(n===null)return null;var r=ey(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var V0=!1;if(fs)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){V0=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{V0=!1}function Vq(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Ad=!1,wm=null,Em=!1,W0=null,Wq={onError:function(t){Ad=!0,wm=t}};function zq(t,e,n,r,i,s,o,a,u){Ad=!1,wm=null,Vq.apply(Wq,arguments)}function qq(t,e,n,r,i,s,o,a,u){if(zq.apply(this,arguments),Ad){if(Ad){var l=wm;Ad=!1,wm=null}else throw Error(J(198));Em||(Em=!0,W0=l)}}function au(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jC(t){if(au(t)!==t)throw Error(J(188))}function Hq(t){var e=t.alternate;if(!e){if(e=au(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jC(i),t;if(s===r)return jC(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function IN(t){return t=Hq(t),t!==null?TN(t):null}function TN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TN(t);if(e!==null)return e;t=t.sibling}return null}var AN=Or.unstable_scheduleCallback,VC=Or.unstable_cancelCallback,Gq=Or.unstable_shouldYield,Kq=Or.unstable_requestPaint,kt=Or.unstable_now,Qq=Or.unstable_getCurrentPriorityLevel,ES=Or.unstable_ImmediatePriority,CN=Or.unstable_UserBlockingPriority,bm=Or.unstable_NormalPriority,Yq=Or.unstable_LowPriority,RN=Or.unstable_IdlePriority,Yg=null,Ni=null;function Xq(t){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(Yg,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:e5,Jq=Math.log,Zq=Math.LN2;function e5(t){return t>>>=0,t===0?32:31-(Jq(t)/Zq|0)|0}var vp=64,_p=4194304;function gd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=gd(a):(s&=o,s!==0&&(r=gd(s)))}else o=n&~i,o!==0?r=gd(o):s!==0&&(r=gd(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-li(e),i=1<<n,r|=t[n],e&=~i;return r}function t5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-li(s),a=1<<o,u=i[o];u===-1?((a&n)===0||(a&r)!==0)&&(i[o]=t5(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function z0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PN(){var t=vp;return vp<<=1,(vp&4194240)===0&&(vp=64),t}function Q_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function af(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=n}function r5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-li(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function bS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-li(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function ON(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var kN,SS,xN,DN,NN,q0=!1,wp=[],no=null,ro=null,io=null,eh=new Map,th=new Map,zs=[],i5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WC(t,e){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":eh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(e.pointerId)}}function Wc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lf(e),e!==null&&SS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function s5(t,e,n,r,i){switch(e){case"focusin":return no=Wc(no,t,e,n,r,i),!0;case"dragenter":return ro=Wc(ro,t,e,n,r,i),!0;case"mouseover":return io=Wc(io,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return eh.set(s,Wc(eh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,th.set(s,Wc(th.get(s)||null,t,e,n,r,i)),!0}return!1}function $N(t){var e=ha(t.target);if(e!==null){var n=au(e);if(n!==null){if(e=n.tag,e===13){if(e=SN(n),e!==null){t.blockedOn=e,NN(t.priority,function(){xN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=H0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);B0=r,n.target.dispatchEvent(r),B0=null}else return e=lf(n),e!==null&&SS(e),t.blockedOn=n,!1;e.shift()}return!0}function zC(t,e,n){Jp(t)&&n.delete(e)}function o5(){q0=!1,no!==null&&Jp(no)&&(no=null),ro!==null&&Jp(ro)&&(ro=null),io!==null&&Jp(io)&&(io=null),eh.forEach(zC),th.forEach(zC)}function zc(t,e){t.blockedOn===e&&(t.blockedOn=null,q0||(q0=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,o5)))}function nh(t){function e(i){return zc(i,t)}if(0<wp.length){zc(wp[0],t);for(var n=1;n<wp.length;n++){var r=wp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(no!==null&&zc(no,t),ro!==null&&zc(ro,t),io!==null&&zc(io,t),eh.forEach(e),th.forEach(e),n=0;n<zs.length;n++)r=zs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zs.length&&(n=zs[0],n.blockedOn===null);)$N(n),n.blockedOn===null&&zs.shift()}var ol=Ts.ReactCurrentBatchConfig,Im=!0;function a5(t,e,n,r){var i=Ke,s=ol.transition;ol.transition=null;try{Ke=1,IS(t,e,n,r)}finally{Ke=i,ol.transition=s}}function u5(t,e,n,r){var i=Ke,s=ol.transition;ol.transition=null;try{Ke=4,IS(t,e,n,r)}finally{Ke=i,ol.transition=s}}function IS(t,e,n,r){if(Im){var i=H0(t,e,n,r);if(i===null)sw(t,e,r,Tm,n),WC(t,r);else if(s5(i,t,e,n,r))r.stopPropagation();else if(WC(t,r),e&4&&-1<i5.indexOf(t)){for(;i!==null;){var s=lf(i);if(s!==null&&kN(s),s=H0(t,e,n,r),s===null&&sw(t,e,r,Tm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sw(t,e,r,null,n)}}var Tm=null;function H0(t,e,n,r){if(Tm=null,t=wS(r),t=ha(t),t!==null)if(e=au(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tm=t,null}function LN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qq()){case ES:return 1;case CN:return 4;case bm:case Yq:return 16;case RN:return 536870912;default:return 16}default:return 16}}var Qs=null,TS=null,Zp=null;function MN(){if(Zp)return Zp;var t,e=TS,n=e.length,r,i="value"in Qs?Qs.value:Qs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zp=i.slice(t,1<r?1-r:void 0)}function em(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ep(){return!0}function qC(){return!1}function Mr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ep:qC,this.isPropagationStopped=qC,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ep)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ep)},persist:function(){},isPersistent:Ep}),e}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AS=Mr(Xl),uf=bt({},Xl,{view:0,detail:0}),l5=Mr(uf),Y_,X_,qc,Xg=bt({},uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qc&&(qc&&t.type==="mousemove"?(Y_=t.screenX-qc.screenX,X_=t.screenY-qc.screenY):X_=Y_=0,qc=t),Y_)},movementY:function(t){return"movementY"in t?t.movementY:X_}}),HC=Mr(Xg),c5=bt({},Xg,{dataTransfer:0}),d5=Mr(c5),h5=bt({},uf,{relatedTarget:0}),J_=Mr(h5),f5=bt({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),p5=Mr(f5),m5=bt({},Xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g5=Mr(m5),y5=bt({},Xl,{data:0}),GC=Mr(y5),v5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w5[t])?!!e[t]:!1}function CS(){return E5}var b5=bt({},uf,{key:function(t){if(t.key){var e=v5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=em(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CS,charCode:function(t){return t.type==="keypress"?em(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?em(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S5=Mr(b5),I5=bt({},Xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KC=Mr(I5),T5=bt({},uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CS}),A5=Mr(T5),C5=bt({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),R5=Mr(C5),P5=bt({},Xg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O5=Mr(P5),k5=[9,13,27,32],RS=fs&&"CompositionEvent"in window,Cd=null;fs&&"documentMode"in document&&(Cd=document.documentMode);var x5=fs&&"TextEvent"in window&&!Cd,FN=fs&&(!RS||Cd&&8<Cd&&11>=Cd),QC=String.fromCharCode(32),YC=!1;function UN(t,e){switch(t){case"keyup":return k5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wu=!1;function D5(t,e){switch(t){case"compositionend":return BN(e);case"keypress":return e.which!==32?null:(YC=!0,QC);case"textInput":return t=e.data,t===QC&&YC?null:t;default:return null}}function N5(t,e){if(Wu)return t==="compositionend"||!RS&&UN(t,e)?(t=MN(),Zp=TS=Qs=null,Wu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FN&&e.locale!=="ko"?null:e.data;default:return null}}var $5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$5[t.type]:e==="textarea"}function jN(t,e,n,r){vN(r),e=Am(e,"onChange"),0<e.length&&(n=new AS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rd=null,rh=null;function L5(t){JN(t,0)}function Jg(t){var e=Hu(t);if(dN(e))return t}function M5(t,e){if(t==="change")return e}var VN=!1;if(fs){var Z_;if(fs){var ew="oninput"in document;if(!ew){var JC=document.createElement("div");JC.setAttribute("oninput","return;"),ew=typeof JC.oninput=="function"}Z_=ew}else Z_=!1;VN=Z_&&(!document.documentMode||9<document.documentMode)}function ZC(){Rd&&(Rd.detachEvent("onpropertychange",WN),rh=Rd=null)}function WN(t){if(t.propertyName==="value"&&Jg(rh)){var e=[];jN(e,rh,t,wS(t)),bN(L5,e)}}function F5(t,e,n){t==="focusin"?(ZC(),Rd=e,rh=n,Rd.attachEvent("onpropertychange",WN)):t==="focusout"&&ZC()}function U5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jg(rh)}function B5(t,e){if(t==="click")return Jg(e)}function j5(t,e){if(t==="input"||t==="change")return Jg(e)}function V5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:V5;function ih(t,e){if(fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!R0.call(e,i)||!fi(t[i],e[i]))return!1}return!0}function eR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tR(t,e){var n=eR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eR(n)}}function zN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qN(){for(var t=window,e=_m();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_m(t.document)}return e}function PS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W5(t){var e=qN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zN(n.ownerDocument.documentElement,n)){if(r!==null&&PS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tR(n,s);var o=tR(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z5=fs&&"documentMode"in document&&11>=document.documentMode,zu=null,G0=null,Pd=null,K0=!1;function nR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;K0||zu==null||zu!==_m(r)||(r=zu,"selectionStart"in r&&PS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pd&&ih(Pd,r)||(Pd=r,r=Am(G0,"onSelect"),0<r.length&&(e=new AS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zu)))}function bp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qu={animationend:bp("Animation","AnimationEnd"),animationiteration:bp("Animation","AnimationIteration"),animationstart:bp("Animation","AnimationStart"),transitionend:bp("Transition","TransitionEnd")},tw={},HN={};fs&&(HN=document.createElement("div").style,"AnimationEvent"in window||(delete qu.animationend.animation,delete qu.animationiteration.animation,delete qu.animationstart.animation),"TransitionEvent"in window||delete qu.transitionend.transition);function Zg(t){if(tw[t])return tw[t];if(!qu[t])return t;var e=qu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HN)return tw[t]=e[n];return t}var GN=Zg("animationend"),KN=Zg("animationiteration"),QN=Zg("animationstart"),YN=Zg("transitionend"),XN=new Map,rR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){XN.set(t,e),ou(e,[t])}for(var nw=0;nw<rR.length;nw++){var rw=rR[nw],q5=rw.toLowerCase(),H5=rw[0].toUpperCase()+rw.slice(1);Fo(q5,"on"+H5)}Fo(GN,"onAnimationEnd");Fo(KN,"onAnimationIteration");Fo(QN,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(YN,"onTransitionEnd");_l("onMouseEnter",["mouseout","mouseover"]);_l("onMouseLeave",["mouseout","mouseover"]);_l("onPointerEnter",["pointerout","pointerover"]);_l("onPointerLeave",["pointerout","pointerover"]);ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G5=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function iR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qq(r,e,void 0,t),t.currentTarget=null}function JN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;iR(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;iR(i,a,l),s=u}}}if(Em)throw t=W0,Em=!1,W0=null,t}function st(t,e){var n=e[Z0];n===void 0&&(n=e[Z0]=new Set);var r=t+"__bubble";n.has(r)||(ZN(e,t,2,!1),n.add(r))}function iw(t,e,n){var r=0;e&&(r|=4),ZN(n,t,r,e)}var Sp="_reactListening"+Math.random().toString(36).slice(2);function sh(t){if(!t[Sp]){t[Sp]=!0,oN.forEach(function(n){n!=="selectionchange"&&(G5.has(n)||iw(n,!1,t),iw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sp]||(e[Sp]=!0,iw("selectionchange",!1,e))}}function ZN(t,e,n,r){switch(LN(e)){case 1:var i=a5;break;case 4:i=u5;break;default:i=IS}n=i.bind(null,e,n,t),i=void 0,!V0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sw(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ha(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bN(function(){var l=s,c=wS(n),d=[];e:{var h=XN.get(t);if(h!==void 0){var m=AS,g=t;switch(t){case"keypress":if(em(n)===0)break e;case"keydown":case"keyup":m=S5;break;case"focusin":g="focus",m=J_;break;case"focusout":g="blur",m=J_;break;case"beforeblur":case"afterblur":m=J_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=HC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=d5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=A5;break;case GN:case KN:case QN:m=p5;break;case YN:m=R5;break;case"scroll":m=l5;break;case"wheel":m=O5;break;case"copy":case"cut":case"paste":m=g5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=KC}var _=(e&4)!==0,S=!_&&t==="scroll",v=_?h!==null?h+"Capture":null:h;_=[];for(var y=l,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,v!==null&&(b=Zd(y,v),b!=null&&_.push(oh(y,b,w)))),S)break;y=y.return}0<_.length&&(h=new m(h,g,null,n,c),d.push({event:h,listeners:_}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==B0&&(g=n.relatedTarget||n.fromElement)&&(ha(g)||g[ps]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=l,g=g?ha(g):null,g!==null&&(S=au(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=l),m!==g)){if(_=HC,b="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=KC,b="onPointerLeave",v="onPointerEnter",y="pointer"),S=m==null?h:Hu(m),w=g==null?h:Hu(g),h=new _(b,y+"leave",m,n,c),h.target=S,h.relatedTarget=w,b=null,ha(c)===l&&(_=new _(v,y+"enter",g,n,c),_.target=w,_.relatedTarget=S,b=_),S=b,m&&g)t:{for(_=m,v=g,y=0,w=_;w;w=Nu(w))y++;for(w=0,b=v;b;b=Nu(b))w++;for(;0<y-w;)_=Nu(_),y--;for(;0<w-y;)v=Nu(v),w--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=Nu(_),v=Nu(v)}_=null}else _=null;m!==null&&sR(d,h,m,_,!1),g!==null&&S!==null&&sR(d,S,g,_,!0)}}e:{if(h=l?Hu(l):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=M5;else if(XC(h))if(VN)T=j5;else{T=U5;var C=F5}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=B5);if(T&&(T=T(t,l))){jN(d,T,n,c);break e}C&&C(t,h,l),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&$0(h,"number",h.value)}switch(C=l?Hu(l):window,t){case"focusin":(XC(C)||C.contentEditable==="true")&&(zu=C,G0=l,Pd=null);break;case"focusout":Pd=G0=zu=null;break;case"mousedown":K0=!0;break;case"contextmenu":case"mouseup":case"dragend":K0=!1,nR(d,n,c);break;case"selectionchange":if(z5)break;case"keydown":case"keyup":nR(d,n,c)}var I;if(RS)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Wu?UN(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(FN&&n.locale!=="ko"&&(Wu||A!=="onCompositionStart"?A==="onCompositionEnd"&&Wu&&(I=MN()):(Qs=c,TS="value"in Qs?Qs.value:Qs.textContent,Wu=!0)),C=Am(l,A),0<C.length&&(A=new GC(A,t,null,n,c),d.push({event:A,listeners:C}),I?A.data=I:(I=BN(n),I!==null&&(A.data=I)))),(I=x5?D5(t,n):N5(t,n))&&(l=Am(l,"onBeforeInput"),0<l.length&&(c=new GC("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=I))}JN(d,e)})}function oh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Am(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zd(t,n),s!=null&&r.unshift(oh(t,s,i)),s=Zd(t,e),s!=null&&r.push(oh(t,s,i))),t=t.return}return r}function Nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sR(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Zd(n,s),u!=null&&o.unshift(oh(n,u,a))):i||(u=Zd(n,s),u!=null&&o.push(oh(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var K5=/\r\n?/g,Q5=/\u0000|\uFFFD/g;function oR(t){return(typeof t=="string"?t:""+t).replace(K5,`
`).replace(Q5,"")}function Ip(t,e,n){if(e=oR(e),oR(t)!==e&&n)throw Error(J(425))}function Cm(){}var Q0=null,Y0=null;function X0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var J0=typeof setTimeout=="function"?setTimeout:void 0,Y5=typeof clearTimeout=="function"?clearTimeout:void 0,aR=typeof Promise=="function"?Promise:void 0,X5=typeof queueMicrotask=="function"?queueMicrotask:typeof aR<"u"?function(t){return aR.resolve(null).then(t).catch(J5)}:J0;function J5(t){setTimeout(function(){throw t})}function ow(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nh(e)}function so(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Jl,ah="__reactProps$"+Jl,ps="__reactContainer$"+Jl,Z0="__reactEvents$"+Jl,Z5="__reactListeners$"+Jl,eH="__reactHandles$"+Jl;function ha(t){var e=t[Ii];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ps]||n[Ii]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uR(t);t!==null;){if(n=t[Ii])return n;t=uR(t)}return e}t=n,n=t.parentNode}return null}function lf(t){return t=t[Ii]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function ey(t){return t[ah]||null}var eE=[],Gu=-1;function Uo(t){return{current:t}}function ut(t){0>Gu||(t.current=eE[Gu],eE[Gu]=null,Gu--)}function rt(t,e){Gu++,eE[Gu]=t.current,t.current=e}var Eo={},Ln=Uo(Eo),dr=Uo(!1),ka=Eo;function wl(t,e){var n=t.type.contextTypes;if(!n)return Eo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hr(t){return t=t.childContextTypes,t!=null}function Rm(){ut(dr),ut(Ln)}function lR(t,e,n){if(Ln.current!==Eo)throw Error(J(168));rt(Ln,e),rt(dr,n)}function e$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,Fq(t)||"Unknown",i));return bt({},n,r)}function Pm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Eo,ka=Ln.current,rt(Ln,t),rt(dr,dr.current),!0}function cR(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=e$(t,e,ka),r.__reactInternalMemoizedMergedChildContext=t,ut(dr),ut(Ln),rt(Ln,t)):ut(dr),rt(dr,n)}var ns=null,ty=!1,aw=!1;function t$(t){ns===null?ns=[t]:ns.push(t)}function tH(t){ty=!0,t$(t)}function Bo(){if(!aw&&ns!==null){aw=!0;var t=0,e=Ke;try{var n=ns;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ns=null,ty=!1}catch(i){throw ns!==null&&(ns=ns.slice(t+1)),AN(ES,Bo),i}finally{Ke=e,aw=!1}}return null}var Ku=[],Qu=0,Om=null,km=0,Br=[],jr=0,xa=null,rs=1,is="";function ea(t,e){Ku[Qu++]=km,Ku[Qu++]=Om,Om=t,km=e}function n$(t,e,n){Br[jr++]=rs,Br[jr++]=is,Br[jr++]=xa,xa=t;var r=rs;t=is;var i=32-li(r)-1;r&=~(1<<i),n+=1;var s=32-li(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,rs=1<<32-li(e)+i|n<<i|r,is=s+t}else rs=1<<s|n<<i|r,is=t}function OS(t){t.return!==null&&(ea(t,1),n$(t,1,0))}function kS(t){for(;t===Om;)Om=Ku[--Qu],Ku[Qu]=null,km=Ku[--Qu],Ku[Qu]=null;for(;t===xa;)xa=Br[--jr],Br[jr]=null,is=Br[--jr],Br[jr]=null,rs=Br[--jr],Br[jr]=null}var Rr=null,Tr=null,ht=!1,si=null;function r$(t,e){var n=qr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rr=t,Tr=so(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rr=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xa!==null?{id:rs,overflow:is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rr=t,Tr=null,!0):!1;default:return!1}}function tE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nE(t){if(ht){var e=Tr;if(e){var n=e;if(!dR(t,e)){if(tE(t))throw Error(J(418));e=so(n.nextSibling);var r=Rr;e&&dR(t,e)?r$(r,n):(t.flags=t.flags&-4097|2,ht=!1,Rr=t)}}else{if(tE(t))throw Error(J(418));t.flags=t.flags&-4097|2,ht=!1,Rr=t}}}function hR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rr=t}function Tp(t){if(t!==Rr)return!1;if(!ht)return hR(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!X0(t.type,t.memoizedProps)),e&&(e=Tr)){if(tE(t))throw i$(),Error(J(418));for(;e;)r$(t,e),e=so(e.nextSibling)}if(hR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tr=so(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Rr?so(t.stateNode.nextSibling):null;return!0}function i$(){for(var t=Tr;t;)t=so(t.nextSibling)}function El(){Tr=Rr=null,ht=!1}function xS(t){si===null?si=[t]:si.push(t)}var nH=Ts.ReactCurrentBatchConfig;function ri(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xm=Uo(null),Dm=null,Yu=null,DS=null;function NS(){DS=Yu=Dm=null}function $S(t){var e=xm.current;ut(xm),t._currentValue=e}function rE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function al(t,e){Dm=t,DS=Yu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(or=!0),t.firstContext=null)}function Yr(t){var e=t._currentValue;if(DS!==t)if(t={context:t,memoizedValue:e,next:null},Yu===null){if(Dm===null)throw Error(J(308));Yu=t,Dm.dependencies={lanes:0,firstContext:t}}else Yu=Yu.next=t;return e}var fa=null;function LS(t){fa===null?fa=[t]:fa.push(t)}function s$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,LS(e)):(n.next=i.next,i.next=n),e.interleaved=n,ms(t,r)}function ms(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ws=!1;function MS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ze&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ms(t,n)}return i=r.interleaved,i===null?(e.next=e,LS(r)):(e.next=i.next,i.next=e),r.interleaved=e,ms(t,n)}function tm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bS(t,n)}}function fR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nm(t,e,n,r){var i=t.updateQueue;Ws=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(h=e,m=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=bt({},d,h);break e;case 2:Ws=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=m,u=d):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Na|=o,t.lanes=o,t.memoizedState=d}}function pR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var a$=new sN.Component().refs;function iE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ny={isMounted:function(t){return(t=t._reactInternals)?au(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gn(),i=uo(t),s=cs(r,i);s.payload=e,n!=null&&(s.callback=n),e=oo(t,s,i),e!==null&&(ci(e,t,i,r),tm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gn(),i=uo(t),s=cs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=oo(t,s,i),e!==null&&(ci(e,t,i,r),tm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gn(),r=uo(t),i=cs(n,r);i.tag=2,e!=null&&(i.callback=e),e=oo(t,i,r),e!==null&&(ci(e,t,r,n),tm(e,t,r))}};function mR(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ih(n,r)||!ih(i,s):!0}function u$(t,e,n){var r=!1,i=Eo,s=e.contextType;return typeof s=="object"&&s!==null?s=Yr(s):(i=hr(e)?ka:Ln.current,r=e.contextTypes,s=(r=r!=null)?wl(t,i):Eo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ny,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ny.enqueueReplaceState(e,e.state,null)}function sE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=a$,MS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yr(s):(s=hr(e)?ka:Ln.current,i.context=wl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ny.enqueueReplaceState(i,i.state,null),Nm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===a$&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Ap(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yR(t){var e=t._init;return e(t._payload)}function l$(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=lo(v,y),v.index=0,v.sibling=null,v}function s(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,w,b){return y===null||y.tag!==6?(y=pw(w,v.mode,b),y.return=v,y):(y=i(y,w),y.return=v,y)}function u(v,y,w,b){var T=w.type;return T===Vu?c(v,y,w.props.children,b,w.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vs&&yR(T)===y.type)?(b=i(y,w.props),b.ref=Hc(v,y,w),b.return=v,b):(b=am(w.type,w.key,w.props,null,v.mode,b),b.ref=Hc(v,y,w),b.return=v,b)}function l(v,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=mw(w,v.mode,b),y.return=v,y):(y=i(y,w.children||[]),y.return=v,y)}function c(v,y,w,b,T){return y===null||y.tag!==7?(y=Ia(w,v.mode,b,T),y.return=v,y):(y=i(y,w),y.return=v,y)}function d(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pw(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mp:return w=am(y.type,y.key,y.props,null,v.mode,w),w.ref=Hc(v,null,y),w.return=v,w;case ju:return y=mw(y,v.mode,w),y.return=v,y;case Vs:var b=y._init;return d(v,b(y._payload),w)}if(md(y)||jc(y))return y=Ia(y,v.mode,w,null),y.return=v,y;Ap(v,y)}return null}function h(v,y,w,b){var T=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(v,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mp:return w.key===T?u(v,y,w,b):null;case ju:return w.key===T?l(v,y,w,b):null;case Vs:return T=w._init,h(v,y,T(w._payload),b)}if(md(w)||jc(w))return T!==null?null:c(v,y,w,b,null);Ap(v,w)}return null}function m(v,y,w,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(w)||null,a(y,v,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mp:return v=v.get(b.key===null?w:b.key)||null,u(y,v,b,T);case ju:return v=v.get(b.key===null?w:b.key)||null,l(y,v,b,T);case Vs:var C=b._init;return m(v,y,w,C(b._payload),T)}if(md(b)||jc(b))return v=v.get(w)||null,c(y,v,b,T,null);Ap(y,b)}return null}function g(v,y,w,b){for(var T=null,C=null,I=y,A=y=0,L=null;I!==null&&A<w.length;A++){I.index>A?(L=I,I=null):L=I.sibling;var k=h(v,I,w[A],b);if(k===null){I===null&&(I=L);break}t&&I&&k.alternate===null&&e(v,I),y=s(k,y,A),C===null?T=k:C.sibling=k,C=k,I=L}if(A===w.length)return n(v,I),ht&&ea(v,A),T;if(I===null){for(;A<w.length;A++)I=d(v,w[A],b),I!==null&&(y=s(I,y,A),C===null?T=I:C.sibling=I,C=I);return ht&&ea(v,A),T}for(I=r(v,I);A<w.length;A++)L=m(I,v,A,w[A],b),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?A:L.key),y=s(L,y,A),C===null?T=L:C.sibling=L,C=L);return t&&I.forEach(function(D){return e(v,D)}),ht&&ea(v,A),T}function _(v,y,w,b){var T=jc(w);if(typeof T!="function")throw Error(J(150));if(w=T.call(w),w==null)throw Error(J(151));for(var C=T=null,I=y,A=y=0,L=null,k=w.next();I!==null&&!k.done;A++,k=w.next()){I.index>A?(L=I,I=null):L=I.sibling;var D=h(v,I,k.value,b);if(D===null){I===null&&(I=L);break}t&&I&&D.alternate===null&&e(v,I),y=s(D,y,A),C===null?T=D:C.sibling=D,C=D,I=L}if(k.done)return n(v,I),ht&&ea(v,A),T;if(I===null){for(;!k.done;A++,k=w.next())k=d(v,k.value,b),k!==null&&(y=s(k,y,A),C===null?T=k:C.sibling=k,C=k);return ht&&ea(v,A),T}for(I=r(v,I);!k.done;A++,k=w.next())k=m(I,v,A,k.value,b),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?A:k.key),y=s(k,y,A),C===null?T=k:C.sibling=k,C=k);return t&&I.forEach(function(P){return e(v,P)}),ht&&ea(v,A),T}function S(v,y,w,b){if(typeof w=="object"&&w!==null&&w.type===Vu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case mp:e:{for(var T=w.key,C=y;C!==null;){if(C.key===T){if(T=w.type,T===Vu){if(C.tag===7){n(v,C.sibling),y=i(C,w.props.children),y.return=v,v=y;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vs&&yR(T)===C.type){n(v,C.sibling),y=i(C,w.props),y.ref=Hc(v,C,w),y.return=v,v=y;break e}n(v,C);break}else e(v,C);C=C.sibling}w.type===Vu?(y=Ia(w.props.children,v.mode,b,w.key),y.return=v,v=y):(b=am(w.type,w.key,w.props,null,v.mode,b),b.ref=Hc(v,y,w),b.return=v,v=b)}return o(v);case ju:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=i(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=mw(w,v.mode,b),y.return=v,v=y}return o(v);case Vs:return C=w._init,S(v,y,C(w._payload),b)}if(md(w))return g(v,y,w,b);if(jc(w))return _(v,y,w,b);Ap(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,w),y.return=v,v=y):(n(v,y),y=pw(w,v.mode,b),y.return=v,v=y),o(v)):n(v,y)}return S}var bl=l$(!0),c$=l$(!1),cf={},$i=Uo(cf),uh=Uo(cf),lh=Uo(cf);function pa(t){if(t===cf)throw Error(J(174));return t}function FS(t,e){switch(rt(lh,e),rt(uh,t),rt($i,cf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:M0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=M0(e,t)}ut($i),rt($i,e)}function Sl(){ut($i),ut(uh),ut(lh)}function d$(t){pa(lh.current);var e=pa($i.current),n=M0(e,t.type);e!==n&&(rt(uh,t),rt($i,n))}function US(t){uh.current===t&&(ut($i),ut(uh))}var vt=Uo(0);function $m(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uw=[];function BS(){for(var t=0;t<uw.length;t++)uw[t]._workInProgressVersionPrimary=null;uw.length=0}var nm=Ts.ReactCurrentDispatcher,lw=Ts.ReactCurrentBatchConfig,Da=0,Et=null,Vt=null,Jt=null,Lm=!1,Od=!1,ch=0,rH=0;function On(){throw Error(J(321))}function jS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fi(t[n],e[n]))return!1;return!0}function VS(t,e,n,r,i,s){if(Da=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nm.current=t===null||t.memoizedState===null?aH:uH,t=n(r,i),Od){s=0;do{if(Od=!1,ch=0,25<=s)throw Error(J(301));s+=1,Jt=Vt=null,e.updateQueue=null,nm.current=lH,t=n(r,i)}while(Od)}if(nm.current=Mm,e=Vt!==null&&Vt.next!==null,Da=0,Jt=Vt=Et=null,Lm=!1,e)throw Error(J(300));return t}function WS(){var t=ch!==0;return ch=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Et.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Xr(){if(Vt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Jt===null?Et.memoizedState:Jt.next;if(e!==null)Jt=e,Vt=t;else{if(t===null)throw Error(J(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Jt===null?Et.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function dh(t,e){return typeof e=="function"?e(t):e}function cw(t){var e=Xr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Da&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,Et.lanes|=c,Na|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,fi(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Et.lanes|=s,Na|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dw(t){var e=Xr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fi(s,e.memoizedState)||(or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function h$(){}function f$(t,e){var n=Et,r=Xr(),i=e(),s=!fi(r.memoizedState,i);if(s&&(r.memoizedState=i,or=!0),r=r.queue,zS(g$.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,hh(9,m$.bind(null,n,r,i,e),void 0,null),sn===null)throw Error(J(349));(Da&30)!==0||p$(n,e,i)}return i}function p$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function m$(t,e,n,r){e.value=n,e.getSnapshot=r,y$(e)&&v$(t)}function g$(t,e,n){return n(function(){y$(e)&&v$(t)})}function y$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fi(t,n)}catch{return!0}}function v$(t){var e=ms(t,1);e!==null&&ci(e,t,1,-1)}function vR(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:t},e.queue=t,t=t.dispatch=oH.bind(null,Et,t),[e.memoizedState,t]}function hh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _$(){return Xr().memoizedState}function rm(t,e,n,r){var i=Si();Et.flags|=t,i.memoizedState=hh(1|e,n,void 0,r===void 0?null:r)}function ry(t,e,n,r){var i=Xr();r=r===void 0?null:r;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,r!==null&&jS(r,o.deps)){i.memoizedState=hh(e,n,s,r);return}}Et.flags|=t,i.memoizedState=hh(1|e,n,s,r)}function _R(t,e){return rm(8390656,8,t,e)}function zS(t,e){return ry(2048,8,t,e)}function w$(t,e){return ry(4,2,t,e)}function E$(t,e){return ry(4,4,t,e)}function b$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S$(t,e,n){return n=n!=null?n.concat([t]):null,ry(4,4,b$.bind(null,e,t),n)}function qS(){}function I$(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function T$(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function A$(t,e,n){return(Da&21)===0?(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=n):(fi(n,e)||(n=PN(),Et.lanes|=n,Na|=n,t.baseState=!0),e)}function iH(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=lw.transition;lw.transition={};try{t(!1),e()}finally{Ke=n,lw.transition=r}}function C$(){return Xr().memoizedState}function sH(t,e,n){var r=uo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},R$(t))P$(e,n);else if(n=s$(t,e,n,r),n!==null){var i=Gn();ci(n,t,r,i),O$(n,e,r)}}function oH(t,e,n){var r=uo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(R$(t))P$(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fi(a,o)){var u=e.interleaved;u===null?(i.next=i,LS(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=s$(t,e,i,r),n!==null&&(i=Gn(),ci(n,t,r,i),O$(n,e,r))}}function R$(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function P$(t,e){Od=Lm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function O$(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bS(t,n)}}var Mm={readContext:Yr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},aH={readContext:Yr,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:Yr,useEffect:_R,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rm(4194308,4,b$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rm(4194308,4,t,e)},useInsertionEffect:function(t,e){return rm(4,2,t,e)},useMemo:function(t,e){var n=Si();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Si();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sH.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:vR,useDebugValue:qS,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=vR(!1),e=t[0];return t=iH.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Et,i=Si();if(ht){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),sn===null)throw Error(J(349));(Da&30)!==0||p$(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,_R(g$.bind(null,r,s,t),[t]),r.flags|=2048,hh(9,m$.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Si(),e=sn.identifierPrefix;if(ht){var n=is,r=rs;n=(r&~(1<<32-li(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ch++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uH={readContext:Yr,useCallback:I$,useContext:Yr,useEffect:zS,useImperativeHandle:S$,useInsertionEffect:w$,useLayoutEffect:E$,useMemo:T$,useReducer:cw,useRef:_$,useState:function(){return cw(dh)},useDebugValue:qS,useDeferredValue:function(t){var e=Xr();return A$(e,Vt.memoizedState,t)},useTransition:function(){var t=cw(dh)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:h$,useSyncExternalStore:f$,useId:C$,unstable_isNewReconciler:!1},lH={readContext:Yr,useCallback:I$,useContext:Yr,useEffect:zS,useImperativeHandle:S$,useInsertionEffect:w$,useLayoutEffect:E$,useMemo:T$,useReducer:dw,useRef:_$,useState:function(){return dw(dh)},useDebugValue:qS,useDeferredValue:function(t){var e=Xr();return Vt===null?e.memoizedState=t:A$(e,Vt.memoizedState,t)},useTransition:function(){var t=dw(dh)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:h$,useSyncExternalStore:f$,useId:C$,unstable_isNewReconciler:!1};function Il(t,e){try{var n="",r=e;do n+=Mq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hw(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function oE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cH=typeof WeakMap=="function"?WeakMap:Map;function k$(t,e,n){n=cs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Um||(Um=!0,gE=r),oE(t,e)},n}function x$(t,e,n){n=cs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){oE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oE(t,e),typeof r!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IH.bind(null,t,e,n),e.then(t,t))}function ER(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bR(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cs(-1,1),e.tag=2,oo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var dH=Ts.ReactCurrentOwner,or=!1;function Bn(t,e,n,r){e.child=t===null?c$(e,null,n,r):bl(e,t.child,n,r)}function SR(t,e,n,r,i){n=n.render;var s=e.ref;return al(e,i),r=VS(t,e,n,r,s,i),n=WS(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gs(t,e,i)):(ht&&n&&OS(e),e.flags|=1,Bn(t,e,r,i),e.child)}function IR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ZS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,D$(t,e,s,r,i)):(t=am(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ih,n(o,r)&&t.ref===e.ref)return gs(t,e,i)}return e.flags|=1,t=lo(s,r),t.ref=e.ref,t.return=e,e.child=t}function D$(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ih(s,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(or=!0);else return e.lanes=t.lanes,gs(t,e,i)}return aE(t,e,n,r,i)}function N$(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ju,br),br|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(Ju,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(Ju,br),br|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(Ju,br),br|=r;return Bn(t,e,i,n),e.child}function $$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function aE(t,e,n,r,i){var s=hr(n)?ka:Ln.current;return s=wl(e,s),al(e,i),n=VS(t,e,n,r,s,i),r=WS(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gs(t,e,i)):(ht&&r&&OS(e),e.flags|=1,Bn(t,e,n,i),e.child)}function TR(t,e,n,r,i){if(hr(n)){var s=!0;Pm(e)}else s=!1;if(al(e,i),e.stateNode===null)im(t,e),u$(e,n,r),sE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Yr(l):(l=hr(n)?ka:Ln.current,l=wl(e,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&gR(e,o,r,l),Ws=!1;var h=e.memoizedState;o.state=h,Nm(e,r,o,i),u=e.memoizedState,a!==r||h!==u||dr.current||Ws?(typeof c=="function"&&(iE(e,n,c,r),u=e.memoizedState),(a=Ws||mR(e,n,a,r,h,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,o$(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ri(e.type,a),o.props=l,d=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Yr(u):(u=hr(n)?ka:Ln.current,u=wl(e,u));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==u)&&gR(e,o,r,u),Ws=!1,h=e.memoizedState,o.state=h,Nm(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||dr.current||Ws?(typeof m=="function"&&(iE(e,n,m,r),g=e.memoizedState),(l=Ws||mR(e,n,l,r,h,g,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return uE(t,e,n,r,s,i)}function uE(t,e,n,r,i,s){$$(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cR(e,n,!1),gs(t,e,s);r=e.stateNode,dH.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bl(e,t.child,null,s),e.child=bl(e,null,a,s)):Bn(t,e,a,s),e.memoizedState=r.state,i&&cR(e,n,!0),e.child}function L$(t){var e=t.stateNode;e.pendingContext?lR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lR(t,e.context,!1),FS(t,e.containerInfo)}function AR(t,e,n,r,i){return El(),xS(i),e.flags|=256,Bn(t,e,n,r),e.child}var lE={dehydrated:null,treeContext:null,retryLane:0};function cE(t){return{baseLanes:t,cachePool:null,transitions:null}}function M$(t,e,n){var r=e.pendingProps,i=vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(vt,i&1),t===null)return nE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=oy(o,r,0,null),t=Ia(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cE(n),e.memoizedState=lE,t):HS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hH(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=lo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=lo(a,s):(s=Ia(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lE,r}return s=t.child,t=s.sibling,r=lo(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function HS(t,e){return e=oy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cp(t,e,n,r){return r!==null&&xS(r),bl(e,t.child,null,n),t=HS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hH(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hw(Error(J(422))),Cp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=oy({mode:"visible",children:r.children},i,0,null),s=Ia(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&bl(e,t.child,null,o),e.child.memoizedState=cE(o),e.memoizedState=lE,s);if((e.mode&1)===0)return Cp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=hw(s,r,void 0),Cp(t,e,o,r)}if(a=(o&t.childLanes)!==0,or||a){if(r=sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ms(t,i),ci(r,t,i,-1))}return JS(),r=hw(Error(J(421))),Cp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TH.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tr=so(i.nextSibling),Rr=e,ht=!0,si=null,t!==null&&(Br[jr++]=rs,Br[jr++]=is,Br[jr++]=xa,rs=t.id,is=t.overflow,xa=e),e=HS(e,r.children),e.flags|=4096,e)}function CR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rE(t.return,e,n)}function fw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function F$(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bn(t,e,r.children,n),r=vt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CR(t,n,e);else if(t.tag===19)CR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(vt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$m(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$m(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fw(e,!0,n,null,s);break;case"together":fw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function im(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Na|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fH(t,e,n){switch(e.tag){case 3:L$(e),El();break;case 5:d$(e);break;case 1:hr(e.type)&&Pm(e);break;case 4:FS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(xm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(vt,vt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?M$(t,e,n):(rt(vt,vt.current&1),t=gs(t,e,n),t!==null?t.sibling:null);rt(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return F$(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,N$(t,e,n)}return gs(t,e,n)}var U$,dE,B$,j$;U$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dE=function(){};B$=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pa($i.current);var s=null;switch(n){case"input":i=D0(t,i),r=D0(t,r),s=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),s=[];break;case"textarea":i=L0(t,i),r=L0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cm)}F0(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Xd.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Xd.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&st("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};j$=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gc(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pH(t,e,n){var r=e.pendingProps;switch(kS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return hr(e.type)&&Rm(),kn(e),null;case 3:return r=e.stateNode,Sl(),ut(dr),ut(Ln),BS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,si!==null&&(_E(si),si=null))),dE(t,e),kn(e),null;case 5:US(e);var i=pa(lh.current);if(n=e.type,t!==null&&e.stateNode!=null)B$(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return kn(e),null}if(t=pa($i.current),Tp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ii]=e,r[ah]=s,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<yd.length;i++)st(yd[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":LC(r,s),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},st("invalid",r);break;case"textarea":FC(r,s),st("invalid",r)}F0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ip(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ip(r.textContent,a,t),i=["children",""+a]):Xd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&st("scroll",r)}switch(n){case"input":gp(r),MC(r,s,!0);break;case"textarea":gp(r),UC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ii]=e,t[ah]=r,U$(t,e,!1,!1),e.stateNode=t;e:{switch(o=U0(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<yd.length;i++)st(yd[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":LC(t,r),i=D0(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),st("invalid",t);break;case"textarea":FC(t,r),i=L0(t,r),st("invalid",t);break;default:i=r}F0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?yN(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&mN(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Jd(t,u):typeof u=="number"&&Jd(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xd.hasOwnProperty(s)?u!=null&&s==="onScroll"&&st("scroll",t):u!=null&&gS(t,s,u,o))}switch(n){case"input":gp(t),MC(t,r,!1);break;case"textarea":gp(t),UC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?rl(t,!!r.multiple,s,!1):r.defaultValue!=null&&rl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)j$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=pa(lh.current),pa($i.current),Tp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ii]=e,(s=r.nodeValue!==n)&&(t=Rr,t!==null))switch(t.tag){case 3:Ip(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ip(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ii]=e,e.stateNode=r}return kn(e),null;case 13:if(ut(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&Tr!==null&&(e.mode&1)!==0&&(e.flags&128)===0)i$(),El(),e.flags|=98560,s=!1;else if(s=Tp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Ii]=e}else El(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;kn(e),s=!1}else si!==null&&(_E(si),si=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(vt.current&1)!==0?qt===0&&(qt=3):JS())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Sl(),dE(t,e),t===null&&sh(e.stateNode.containerInfo),kn(e),null;case 10:return $S(e.type._context),kn(e),null;case 17:return hr(e.type)&&Rm(),kn(e),null;case 19:if(ut(vt),s=e.memoizedState,s===null)return kn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Gc(s,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=$m(t),o!==null){for(e.flags|=128,Gc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(vt,vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&kt()>Tl&&(e.flags|=128,r=!0,Gc(s,!1),e.lanes=4194304)}else{if(!r)if(t=$m(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ht)return kn(e),null}else 2*kt()-s.renderingStartTime>Tl&&n!==1073741824&&(e.flags|=128,r=!0,Gc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kt(),e.sibling=null,n=vt.current,rt(vt,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return XS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(br&1073741824)!==0&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function mH(t,e){switch(kS(e),e.tag){case 1:return hr(e.type)&&Rm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sl(),ut(dr),ut(Ln),BS(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return US(e),null;case 13:if(ut(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));El()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(vt),null;case 4:return Sl(),null;case 10:return $S(e.type._context),null;case 22:case 23:return XS(),null;case 24:return null;default:return null}}var Rp=!1,xn=!1,gH=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Xu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function hE(t,e,n){try{n()}catch(r){It(t,e,r)}}var RR=!1;function yH(t,e){if(Q0=Im,t=qN(),PS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++l===i&&(a=o),h===s&&++c===r&&(u=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y0={focusedElem:t,selectionRange:n},Im=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var g=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,S=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:ri(e.type,_),S);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){It(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return g=RR,RR=!1,g}function kd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hE(e,n,s)}i=i.next}while(i!==r)}}function iy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V$(t){var e=t.alternate;e!==null&&(t.alternate=null,V$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ii],delete e[ah],delete e[Z0],delete e[Z5],delete e[eH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W$(t){return t.tag===5||t.tag===3||t.tag===4}function PR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cm));else if(r!==4&&(t=t.child,t!==null))for(pE(t,e,n),t=t.sibling;t!==null;)pE(t,e,n),t=t.sibling}function mE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mE(t,e,n),t=t.sibling;t!==null;)mE(t,e,n),t=t.sibling}var yn=null,ii=!1;function Ms(t,e,n){for(n=n.child;n!==null;)z$(t,e,n),n=n.sibling}function z$(t,e,n){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(Yg,n)}catch{}switch(n.tag){case 5:xn||Xu(n,e);case 6:var r=yn,i=ii;yn=null,Ms(t,e,n),yn=r,ii=i,yn!==null&&(ii?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(ii?(t=yn,n=n.stateNode,t.nodeType===8?ow(t.parentNode,n):t.nodeType===1&&ow(t,n),nh(t)):ow(yn,n.stateNode));break;case 4:r=yn,i=ii,yn=n.stateNode.containerInfo,ii=!0,Ms(t,e,n),yn=r,ii=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&hE(n,e,o),i=i.next}while(i!==r)}Ms(t,e,n);break;case 1:if(!xn&&(Xu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){It(n,e,a)}Ms(t,e,n);break;case 21:Ms(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,Ms(t,e,n),xn=r):Ms(t,e,n);break;default:Ms(t,e,n)}}function OR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gH),e.forEach(function(r){var i=AH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ti(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yn=a.stateNode,ii=!1;break e;case 3:yn=a.stateNode.containerInfo,ii=!0;break e;case 4:yn=a.stateNode.containerInfo,ii=!0;break e}a=a.return}if(yn===null)throw Error(J(160));z$(s,o,i),yn=null,ii=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){It(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q$(e,t),e=e.sibling}function q$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ti(e,t),Ei(t),r&4){try{kd(3,t,t.return),iy(3,t)}catch(_){It(t,t.return,_)}try{kd(5,t,t.return)}catch(_){It(t,t.return,_)}}break;case 1:ti(e,t),Ei(t),r&512&&n!==null&&Xu(n,n.return);break;case 5:if(ti(e,t),Ei(t),r&512&&n!==null&&Xu(n,n.return),t.flags&32){var i=t.stateNode;try{Jd(i,"")}catch(_){It(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hN(i,s),U0(a,o);var l=U0(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?yN(i,d):c==="dangerouslySetInnerHTML"?mN(i,d):c==="children"?Jd(i,d):gS(i,c,d,l)}switch(a){case"input":N0(i,s);break;case"textarea":fN(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?rl(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?rl(i,!!s.multiple,s.defaultValue,!0):rl(i,!!s.multiple,s.multiple?[]:"",!1))}i[ah]=s}catch(_){It(t,t.return,_)}}break;case 6:if(ti(e,t),Ei(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){It(t,t.return,_)}}break;case 3:if(ti(e,t),Ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nh(e.containerInfo)}catch(_){It(t,t.return,_)}break;case 4:ti(e,t),Ei(t);break;case 13:ti(e,t),Ei(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(QS=kt())),r&4&&OR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(l=xn)||c,ti(e,t),xn=l):ti(e,t),Ei(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&(t.mode&1)!==0)for(pe=t,c=t.child;c!==null;){for(d=pe=c;pe!==null;){switch(h=pe,m=h.child,h.tag){case 0:case 11:case 14:case 15:kd(4,h,h.return);break;case 1:Xu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){It(r,n,_)}}break;case 5:Xu(h,h.return);break;case 22:if(h.memoizedState!==null){xR(d);continue}}m!==null?(m.return=h,pe=m):xR(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=gN("display",o))}catch(_){It(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(_){It(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ti(e,t),Ei(t),r&4&&OR(t);break;case 21:break;default:ti(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(W$(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jd(i,""),r.flags&=-33);var s=PR(t);mE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=PR(t);pE(t,a,o);break;default:throw Error(J(161))}}catch(u){It(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vH(t,e,n){pe=t,H$(t)}function H$(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rp;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||xn;a=Rp;var l=xn;if(Rp=o,(xn=u)&&!l)for(pe=i;pe!==null;)o=pe,u=o.child,o.tag===22&&o.memoizedState!==null?DR(i):u!==null?(u.return=o,pe=u):DR(i);for(;s!==null;)pe=s,H$(s),s=s.sibling;pe=i,Rp=a,xn=l}kR(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,pe=s):kR(t)}}function kR(t){for(;pe!==null;){var e=pe;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:xn||iy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ri(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pR(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pR(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&nh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}xn||e.flags&512&&fE(e)}catch(h){It(e,e.return,h)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function xR(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function DR(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iy(4,e)}catch(u){It(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){It(e,i,u)}}var s=e.return;try{fE(e)}catch(u){It(e,s,u)}break;case 5:var o=e.return;try{fE(e)}catch(u){It(e,o,u)}}}catch(u){It(e,e.return,u)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var _H=Math.ceil,Fm=Ts.ReactCurrentDispatcher,GS=Ts.ReactCurrentOwner,Qr=Ts.ReactCurrentBatchConfig,ze=0,sn=null,Mt=null,bn=0,br=0,Ju=Uo(0),qt=0,fh=null,Na=0,sy=0,KS=0,xd=null,rr=null,QS=0,Tl=1/0,ts=null,Um=!1,gE=null,ao=null,Pp=!1,Ys=null,Bm=0,Dd=0,yE=null,sm=-1,om=0;function Gn(){return(ze&6)!==0?kt():sm!==-1?sm:sm=kt()}function uo(t){return(t.mode&1)===0?1:(ze&2)!==0&&bn!==0?bn&-bn:nH.transition!==null?(om===0&&(om=PN()),om):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:LN(t.type)),t)}function ci(t,e,n,r){if(50<Dd)throw Dd=0,yE=null,Error(J(185));af(t,n,r),((ze&2)===0||t!==sn)&&(t===sn&&((ze&2)===0&&(sy|=n),qt===4&&qs(t,bn)),fr(t,r),n===1&&ze===0&&(e.mode&1)===0&&(Tl=kt()+500,ty&&Bo()))}function fr(t,e){var n=t.callbackNode;n5(t,e);var r=Sm(t,t===sn?bn:0);if(r===0)n!==null&&VC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&VC(n),e===1)t.tag===0?tH(NR.bind(null,t)):t$(NR.bind(null,t)),X5(function(){(ze&6)===0&&Bo()}),n=null;else{switch(ON(r)){case 1:n=ES;break;case 4:n=CN;break;case 16:n=bm;break;case 536870912:n=RN;break;default:n=bm}n=e2(n,G$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G$(t,e){if(sm=-1,om=0,(ze&6)!==0)throw Error(J(327));var n=t.callbackNode;if(ul()&&t.callbackNode!==n)return null;var r=Sm(t,t===sn?bn:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=jm(t,r);else{e=r;var i=ze;ze|=2;var s=Q$();(sn!==t||bn!==e)&&(ts=null,Tl=kt()+500,Sa(t,e));do try{bH();break}catch(a){K$(t,a)}while(1);NS(),Fm.current=s,ze=i,Mt!==null?e=0:(sn=null,bn=0,e=qt)}if(e!==0){if(e===2&&(i=z0(t),i!==0&&(r=i,e=vE(t,i))),e===1)throw n=fh,Sa(t,0),qs(t,r),fr(t,kt()),n;if(e===6)qs(t,r);else{if(i=t.current.alternate,(r&30)===0&&!wH(i)&&(e=jm(t,r),e===2&&(s=z0(t),s!==0&&(r=s,e=vE(t,s))),e===1))throw n=fh,Sa(t,0),qs(t,r),fr(t,kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ta(t,rr,ts);break;case 3:if(qs(t,r),(r&130023424)===r&&(e=QS+500-kt(),10<e)){if(Sm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=J0(ta.bind(null,t,rr,ts),e);break}ta(t,rr,ts);break;case 4:if(qs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-li(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_H(r/1960))-r,10<r){t.timeoutHandle=J0(ta.bind(null,t,rr,ts),r);break}ta(t,rr,ts);break;case 5:ta(t,rr,ts);break;default:throw Error(J(329))}}}return fr(t,kt()),t.callbackNode===n?G$.bind(null,t):null}function vE(t,e){var n=xd;return t.current.memoizedState.isDehydrated&&(Sa(t,e).flags|=256),t=jm(t,e),t!==2&&(e=rr,rr=n,e!==null&&_E(e)),t}function _E(t){rr===null?rr=t:rr.push.apply(rr,t)}function wH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qs(t,e){for(e&=~KS,e&=~sy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-li(e),r=1<<n;t[n]=-1,e&=~r}}function NR(t){if((ze&6)!==0)throw Error(J(327));ul();var e=Sm(t,0);if((e&1)===0)return fr(t,kt()),null;var n=jm(t,e);if(t.tag!==0&&n===2){var r=z0(t);r!==0&&(e=r,n=vE(t,r))}if(n===1)throw n=fh,Sa(t,0),qs(t,e),fr(t,kt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ta(t,rr,ts),fr(t,kt()),null}function YS(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Tl=kt()+500,ty&&Bo())}}function $a(t){Ys!==null&&Ys.tag===0&&(ze&6)===0&&ul();var e=ze;ze|=1;var n=Qr.transition,r=Ke;try{if(Qr.transition=null,Ke=1,t)return t()}finally{Ke=r,Qr.transition=n,ze=e,(ze&6)===0&&Bo()}}function XS(){br=Ju.current,ut(Ju)}function Sa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y5(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(kS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rm();break;case 3:Sl(),ut(dr),ut(Ln),BS();break;case 5:US(r);break;case 4:Sl();break;case 13:ut(vt);break;case 19:ut(vt);break;case 10:$S(r.type._context);break;case 22:case 23:XS()}n=n.return}if(sn=t,Mt=t=lo(t.current,null),bn=br=e,qt=0,fh=null,KS=sy=Na=0,rr=xd=null,fa!==null){for(e=0;e<fa.length;e++)if(n=fa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}fa=null}return t}function K$(t,e){do{var n=Mt;try{if(NS(),nm.current=Mm,Lm){for(var r=Et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lm=!1}if(Da=0,Jt=Vt=Et=null,Od=!1,ch=0,GS.current=null,n===null||n.return===null){qt=1,fh=e,Mt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=bn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ER(o);if(m!==null){m.flags&=-257,bR(m,o,a,s,e),m.mode&1&&wR(s,l,e),e=m,u=l;var g=e.updateQueue;if(g===null){var _=new Set;_.add(u),e.updateQueue=_}else g.add(u);break e}else{if((e&1)===0){wR(s,l,e),JS();break e}u=Error(J(426))}}else if(ht&&a.mode&1){var S=ER(o);if(S!==null){(S.flags&65536)===0&&(S.flags|=256),bR(S,o,a,s,e),xS(Il(u,a));break e}}s=u=Il(u,a),qt!==4&&(qt=2),xd===null?xd=[s]:xd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=k$(s,u,e);fR(s,v);break e;case 1:a=u;var y=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ao===null||!ao.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=x$(s,a,e);fR(s,b);break e}}s=s.return}while(s!==null)}X$(n)}catch(T){e=T,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(1)}function Q$(){var t=Fm.current;return Fm.current=Mm,t===null?Mm:t}function JS(){(qt===0||qt===3||qt===2)&&(qt=4),sn===null||(Na&268435455)===0&&(sy&268435455)===0||qs(sn,bn)}function jm(t,e){var n=ze;ze|=2;var r=Q$();(sn!==t||bn!==e)&&(ts=null,Sa(t,e));do try{EH();break}catch(i){K$(t,i)}while(1);if(NS(),ze=n,Fm.current=r,Mt!==null)throw Error(J(261));return sn=null,bn=0,qt}function EH(){for(;Mt!==null;)Y$(Mt)}function bH(){for(;Mt!==null&&!Gq();)Y$(Mt)}function Y$(t){var e=Z$(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?X$(t):Mt=e,GS.current=null}function X$(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=pH(n,e,br),n!==null){Mt=n;return}}else{if(n=mH(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,Mt=null;return}}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);qt===0&&(qt=5)}function ta(t,e,n){var r=Ke,i=Qr.transition;try{Qr.transition=null,Ke=1,SH(t,e,n,r)}finally{Qr.transition=i,Ke=r}return null}function SH(t,e,n,r){do ul();while(Ys!==null);if((ze&6)!==0)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(r5(t,s),t===sn&&(Mt=sn=null,bn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Pp||(Pp=!0,e2(bm,function(){return ul(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Qr.transition,Qr.transition=null;var o=Ke;Ke=1;var a=ze;ze|=4,GS.current=null,yH(t,n),q$(n,t),W5(Y0),Im=!!Q0,Y0=Q0=null,t.current=n,vH(n),Kq(),ze=a,Ke=o,Qr.transition=s}else t.current=n;if(Pp&&(Pp=!1,Ys=t,Bm=i),s=t.pendingLanes,s===0&&(ao=null),Xq(n.stateNode),fr(t,kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Um)throw Um=!1,t=gE,gE=null,t;return(Bm&1)!==0&&t.tag!==0&&ul(),s=t.pendingLanes,(s&1)!==0?t===yE?Dd++:(Dd=0,yE=t):Dd=0,Bo(),null}function ul(){if(Ys!==null){var t=ON(Bm),e=Qr.transition,n=Ke;try{if(Qr.transition=null,Ke=16>t?16:t,Ys===null)var r=!1;else{if(t=Ys,Ys=null,Bm=0,(ze&6)!==0)throw Error(J(331));var i=ze;for(ze|=4,pe=t.current;pe!==null;){var s=pe,o=s.child;if((pe.flags&16)!==0){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(pe=l;pe!==null;){var c=pe;switch(c.tag){case 0:case 11:case 15:kd(8,c,s)}var d=c.child;if(d!==null)d.return=c,pe=d;else for(;pe!==null;){c=pe;var h=c.sibling,m=c.return;if(V$(c),c===l){pe=null;break}if(h!==null){h.return=m,pe=h;break}pe=m}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}pe=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,pe=o;else e:for(;pe!==null;){if(s=pe,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:kd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,pe=v;break e}pe=s.return}}var y=t.current;for(pe=y;pe!==null;){o=pe;var w=o.child;if((o.subtreeFlags&2064)!==0&&w!==null)w.return=o,pe=w;else e:for(o=y;pe!==null;){if(a=pe,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:iy(9,a)}}catch(T){It(a,a.return,T)}if(a===o){pe=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,pe=b;break e}pe=a.return}}if(ze=i,Bo(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(Yg,t)}catch{}r=!0}return r}finally{Ke=n,Qr.transition=e}}return!1}function $R(t,e,n){e=Il(n,e),e=k$(t,e,1),t=oo(t,e,1),e=Gn(),t!==null&&(af(t,1,e),fr(t,e))}function It(t,e,n){if(t.tag===3)$R(t,t,n);else for(;e!==null;){if(e.tag===3){$R(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ao===null||!ao.has(r))){t=Il(n,t),t=x$(e,t,1),e=oo(e,t,1),t=Gn(),e!==null&&(af(e,1,t),fr(e,t));break}}e=e.return}}function IH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gn(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(bn&n)===n&&(qt===4||qt===3&&(bn&130023424)===bn&&500>kt()-QS?Sa(t,0):KS|=n),fr(t,e)}function J$(t,e){e===0&&((t.mode&1)===0?e=1:(e=_p,_p<<=1,(_p&130023424)===0&&(_p=4194304)));var n=Gn();t=ms(t,e),t!==null&&(af(t,e,n),fr(t,n))}function TH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J$(t,n)}function AH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),J$(t,n)}var Z$;Z$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)or=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return or=!1,fH(t,e,n);or=(t.flags&131072)!==0}else or=!1,ht&&(e.flags&1048576)!==0&&n$(e,km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;im(t,e),t=e.pendingProps;var i=wl(e,Ln.current);al(e,n),i=VS(null,e,r,t,i,n);var s=WS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hr(r)?(s=!0,Pm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,MS(e),i.updater=ny,e.stateNode=i,i._reactInternals=e,sE(e,r,t,n),e=uE(null,e,r,!0,s,n)):(e.tag=0,ht&&s&&OS(e),Bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(im(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RH(r),t=ri(r,t),i){case 0:e=aE(null,e,r,t,n);break e;case 1:e=TR(null,e,r,t,n);break e;case 11:e=SR(null,e,r,t,n);break e;case 14:e=IR(null,e,r,ri(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),aE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),TR(t,e,r,i,n);case 3:e:{if(L$(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,o$(t,e),Nm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Il(Error(J(423)),e),e=AR(t,e,r,n,i);break e}else if(r!==i){i=Il(Error(J(424)),e),e=AR(t,e,r,n,i);break e}else for(Tr=so(e.stateNode.containerInfo.firstChild),Rr=e,ht=!0,si=null,n=c$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(El(),r===i){e=gs(t,e,n);break e}Bn(t,e,r,n)}e=e.child}return e;case 5:return d$(e),t===null&&nE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,X0(r,i)?o=null:s!==null&&X0(r,s)&&(e.flags|=32),$$(t,e),Bn(t,e,o,n),e.child;case 6:return t===null&&nE(e),null;case 13:return M$(t,e,n);case 4:return FS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bl(e,null,r,n):Bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),SR(t,e,r,i,n);case 7:return Bn(t,e,e.pendingProps,n),e.child;case 8:return Bn(t,e,e.pendingProps.children,n),e.child;case 12:return Bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(xm,r._currentValue),r._currentValue=o,s!==null)if(fi(s.value,o)){if(s.children===i.children&&!dr.current){e=gs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=cs(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),rE(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,al(e,n),i=Yr(i),r=r(i),e.flags|=1,Bn(t,e,r,n),e.child;case 14:return r=e.type,i=ri(r,e.pendingProps),i=ri(r.type,i),IR(t,e,r,i,n);case 15:return D$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),im(t,e),e.tag=1,hr(r)?(t=!0,Pm(e)):t=!1,al(e,n),u$(e,r,i),sE(e,r,i,n),uE(null,e,r,!0,t,n);case 19:return F$(t,e,n);case 22:return N$(t,e,n)}throw Error(J(156,e.tag))};function e2(t,e){return AN(t,e)}function CH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(t,e,n,r){return new CH(t,e,n,r)}function ZS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RH(t){if(typeof t=="function")return ZS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vS)return 11;if(t===_S)return 14}return 2}function lo(t,e){var n=t.alternate;return n===null?(n=qr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function am(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ZS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vu:return Ia(n.children,i,s,e);case yS:o=8,i|=8;break;case P0:return t=qr(12,n,e,i|2),t.elementType=P0,t.lanes=s,t;case O0:return t=qr(13,n,e,i),t.elementType=O0,t.lanes=s,t;case k0:return t=qr(19,n,e,i),t.elementType=k0,t.lanes=s,t;case lN:return oy(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aN:o=10;break e;case uN:o=9;break e;case vS:o=11;break e;case _S:o=14;break e;case Vs:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=qr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ia(t,e,n,r){return t=qr(7,t,r,e),t.lanes=n,t}function oy(t,e,n,r){return t=qr(22,t,r,e),t.elementType=lN,t.lanes=n,t.stateNode={isHidden:!1},t}function pw(t,e,n){return t=qr(6,t,null,e),t.lanes=n,t}function mw(t,e,n){return e=qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Q_(0),this.expirationTimes=Q_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eI(t,e,n,r,i,s,o,a,u){return t=new PH(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},MS(s),t}function OH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ju,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function t2(t){if(!t)return Eo;t=t._reactInternals;e:{if(au(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(hr(n))return e$(t,n,e)}return e}function n2(t,e,n,r,i,s,o,a,u){return t=eI(n,r,!0,t,i,s,o,a,u),t.context=t2(null),n=t.current,r=Gn(),i=uo(n),s=cs(r,i),s.callback=e!=null?e:null,oo(n,s,i),t.current.lanes=i,af(t,i,r),fr(t,r),t}function ay(t,e,n,r){var i=e.current,s=Gn(),o=uo(i);return n=t2(n),e.context===null?e.context=n:e.pendingContext=n,e=cs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oo(i,e,o),t!==null&&(ci(t,i,o,s),tm(t,i,o)),o}function Vm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tI(t,e){LR(t,e),(t=t.alternate)&&LR(t,e)}function kH(){return null}var r2=typeof reportError=="function"?reportError:function(t){console.error(t)};function nI(t){this._internalRoot=t}uy.prototype.render=nI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));ay(t,e,null,null)};uy.prototype.unmount=nI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$a(function(){ay(null,t,null,null)}),e[ps]=null}};function uy(t){this._internalRoot=t}uy.prototype.unstable_scheduleHydration=function(t){if(t){var e=DN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zs.length&&e!==0&&e<zs[n].priority;n++);zs.splice(n,0,t),n===0&&$N(t)}};function rI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ly(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MR(){}function xH(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Vm(o);s.call(l)}}var o=n2(e,r,t,0,null,!1,!1,"",MR);return t._reactRootContainer=o,t[ps]=o.current,sh(t.nodeType===8?t.parentNode:t),$a(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Vm(u);a.call(l)}}var u=eI(t,0,!1,null,null,!1,!1,"",MR);return t._reactRootContainer=u,t[ps]=u.current,sh(t.nodeType===8?t.parentNode:t),$a(function(){ay(e,u,n,r)}),u}function cy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Vm(o);a.call(u)}}ay(e,o,t,i)}else o=xH(n,e,t,i,r);return Vm(o)}kN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gd(e.pendingLanes);n!==0&&(bS(e,n|1),fr(e,kt()),(ze&6)===0&&(Tl=kt()+500,Bo()))}break;case 13:$a(function(){var r=ms(t,1);if(r!==null){var i=Gn();ci(r,t,1,i)}}),tI(t,1)}};SS=function(t){if(t.tag===13){var e=ms(t,134217728);if(e!==null){var n=Gn();ci(e,t,134217728,n)}tI(t,134217728)}};xN=function(t){if(t.tag===13){var e=uo(t),n=ms(t,e);if(n!==null){var r=Gn();ci(n,t,e,r)}tI(t,e)}};DN=function(){return Ke};NN=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};j0=function(t,e,n){switch(e){case"input":if(N0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ey(r);if(!i)throw Error(J(90));dN(r),N0(r,i)}}}break;case"textarea":fN(t,n);break;case"select":e=n.value,e!=null&&rl(t,!!n.multiple,e,!1)}};wN=YS;EN=$a;var DH={usingClientEntryPoint:!1,Events:[lf,Hu,ey,vN,_N,YS]},Kc={findFiberByHostInstance:ha,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NH={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IN(t),t===null?null:t.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||kH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{Yg=Op.inject(NH),Ni=Op}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DH;Lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rI(e))throw Error(J(200));return OH(t,e,null,n)};Lr.createRoot=function(t,e){if(!rI(t))throw Error(J(299));var n=!1,r="",i=r2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=eI(t,1,!1,null,null,n,!1,r,i),t[ps]=e.current,sh(t.nodeType===8?t.parentNode:t),new nI(e)};Lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=IN(e),t=t===null?null:t.stateNode,t};Lr.flushSync=function(t){return $a(t)};Lr.hydrate=function(t,e,n){if(!ly(e))throw Error(J(200));return cy(null,t,e,!0,n)};Lr.hydrateRoot=function(t,e,n){if(!rI(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=r2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=n2(e,null,t,1,n!=null?n:null,i,!1,s,o),t[ps]=e.current,sh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uy(e)};Lr.render=function(t,e,n){if(!ly(e))throw Error(J(200));return cy(null,t,e,!1,n)};Lr.unmountComponentAtNode=function(t){if(!ly(t))throw Error(J(40));return t._reactRootContainer?($a(function(){cy(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Lr.unstable_batchedUpdates=YS;Lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ly(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return cy(t,e,n,!1,r)};Lr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Lr})(fS);var i2,FR=fS.exports;i2=C0.createRoot=FR.createRoot,C0.hydrateRoot=FR.hydrateRoot;const $H="modulepreload",LH=function(t){return"/"+t},UR={},Fe=function(e,n,r){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=LH(i),i in UR)return;UR[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":$H,s||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),s)return new Promise((u,l)=>{a.addEventListener("load",u),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}var ma;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ma||(ma={}));var BR=function(t){return t},jR="beforeunload",MH="popstate";function FH(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var I=r.location,A=I.pathname,L=I.search,k=I.hash,D=i.state||{};return[D.idx,BR({pathname:A,search:L,hash:k,state:D.usr||null,key:D.key||"default"})]}var o=null;function a(){if(o)m.call(o),o=null;else{var I=ma.Pop,A=s(),L=A[0],k=A[1];if(m.length){if(L!=null){var D=c-L;D&&(o={action:I,location:k,retry:function(){T(D*-1)}},T(D))}}else y(I)}}r.addEventListener(MH,a);var u=ma.Pop,l=s(),c=l[0],d=l[1],h=WR(),m=WR();c==null&&(c=0,i.replaceState(Wm({},i.state,{idx:c}),""));function g(I){return typeof I=="string"?I:wE(I)}function _(I,A){return A===void 0&&(A=null),BR(Wm({pathname:d.pathname,hash:"",search:""},typeof I=="string"?uu(I):I,{state:A,key:UH()}))}function S(I,A){return[{usr:I.state,key:I.key,idx:A},g(I)]}function v(I,A,L){return!m.length||(m.call({action:I,location:A,retry:L}),!1)}function y(I){u=I;var A=s();c=A[0],d=A[1],h.call({action:u,location:d})}function w(I,A){var L=ma.Push,k=_(I,A);function D(){w(I,A)}if(v(L,k,D)){var P=S(k,c+1),N=P[0],O=P[1];try{i.pushState(N,"",O)}catch{r.location.assign(O)}y(L)}}function b(I,A){var L=ma.Replace,k=_(I,A);function D(){b(I,A)}if(v(L,k,D)){var P=S(k,c),N=P[0],O=P[1];i.replaceState(N,"",O),y(L)}}function T(I){i.go(I)}var C={get action(){return u},get location(){return d},createHref:g,push:w,replace:b,go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(A){return h.push(A)},block:function(A){var L=m.push(A);return m.length===1&&r.addEventListener(jR,VR),function(){L(),m.length||r.removeEventListener(jR,VR)}}};return C}function VR(t){t.preventDefault(),t.returnValue=""}function WR(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function UH(){return Math.random().toString(36).substr(2,8)}function wE(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,s=t.hash,o=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function uu(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const iI=Z.exports.createContext(null),sI=Z.exports.createContext(null),dy=Z.exports.createContext({outlet:null,matches:[]});function Bi(t,e){if(!t)throw new Error(e)}function BH(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?uu(e):e,i=a2(r.pathname||"/",n);if(i==null)return null;let s=s2(t);jH(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=YH(s[a],i);return o}function s2(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||Bi(!1),o.relativePath=o.relativePath.slice(r.length));let a=co([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(i.index===!0&&Bi(!1),s2(i.children,e,u,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:KH(a,i.index),routesMeta:u})}),e}function jH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VH=/^:\w+$/,WH=3,zH=2,qH=1,HH=10,GH=-2,zR=t=>t==="*";function KH(t,e){let n=t.split("/"),r=n.length;return n.some(zR)&&(r+=GH),e&&(r+=zH),n.filter(i=>!zR(i)).reduce((i,s)=>i+(VH.test(s)?WH:s===""?qH:HH),r)}function QH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YH(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=XH({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:co([i,c.pathname]),pathnameBase:u2(co([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=co([i,c.pathnameBase]))}return s}function XH(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return l[c]=ZH(a[d]||""),l},{}),pathname:s,pathnameBase:o,pattern:t}}function JH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function ZH(t,e){try{return decodeURIComponent(t)}catch{return t}}function eG(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uu(t):t;return{pathname:n?n.startsWith("/")?n:tG(n,e):e,search:rG(r),hash:iG(i)}}function tG(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o2(t,e,n){let r=typeof t=="string"?uu(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let a=e.length-1;if(i.startsWith("..")){let u=i.split("/");for(;u[0]==="..";)u.shift(),a-=1;r.pathname=u.join("/")}s=a>=0?e[a]:"/"}let o=eG(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function nG(t){return t===""||t.pathname===""?"/":typeof t=="string"?uu(t).pathname:t.pathname}function a2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const co=t=>t.join("/").replace(/\/\/+/g,"/"),u2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sG(t){df()||Bi(!1);let{basename:e,navigator:n}=Z.exports.useContext(iI),{hash:r,pathname:i,search:s}=l2(t),o=i;if(e!=="/"){let a=nG(t),u=a!=null&&a.endsWith("/");o=i==="/"?e+(u?"/":""):co([e,i])}return n.createHref({pathname:o,search:s,hash:r})}function df(){return Z.exports.useContext(sI)!=null}function hy(){return df()||Bi(!1),Z.exports.useContext(sI).location}function oG(){df()||Bi(!1);let{basename:t,navigator:e}=Z.exports.useContext(iI),{matches:n}=Z.exports.useContext(dy),{pathname:r}=hy(),i=JSON.stringify(n.map(a=>a.pathnameBase)),s=Z.exports.useRef(!1);return Z.exports.useEffect(()=>{s.current=!0}),Z.exports.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let l=o2(a,JSON.parse(i),r);t!=="/"&&(l.pathname=co([t,l.pathname])),(u.replace?e.replace:e.push)(l,u.state)},[t,e,i,r])}function l2(t){let{matches:e}=Z.exports.useContext(dy),{pathname:n}=hy(),r=JSON.stringify(e.map(i=>i.pathnameBase));return Z.exports.useMemo(()=>o2(t,JSON.parse(r),n),[t,r,n])}function aG(t,e){df()||Bi(!1);let{matches:n}=Z.exports.useContext(dy),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=hy(),a;if(e){var u;let h=typeof e=="string"?uu(e):e;s==="/"||((u=h.pathname)==null?void 0:u.startsWith(s))||Bi(!1),a=h}else a=o;let l=a.pathname||"/",c=s==="/"?l:l.slice(s.length)||"/",d=BH(t,{pathname:c});return uG(d&&d.map(h=>Object.assign({},h,{params:Object.assign({},i,h.params),pathname:co([s,h.pathname]),pathnameBase:h.pathnameBase==="/"?s:co([s,h.pathnameBase])})),n)}function uG(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>Z.exports.createElement(dy.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function He(t){Bi(!1)}function lG(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ma.Pop,navigator:s,static:o=!1}=t;df()&&Bi(!1);let a=u2(e),u=Z.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=uu(r));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:m="default"}=r,g=Z.exports.useMemo(()=>{let _=a2(l,a);return _==null?null:{pathname:_,search:c,hash:d,state:h,key:m}},[a,l,c,d,h,m]);return g==null?null:Z.exports.createElement(iI.Provider,{value:u},Z.exports.createElement(sI.Provider,{children:n,value:{location:g,navigationType:i}}))}function cG(t){let{children:e,location:n}=t;return aG(EE(e),n)}function EE(t){let e=[];return Z.exports.Children.forEach(t,n=>{if(!Z.exports.isValidElement(n))return;if(n.type===Z.exports.Fragment){e.push.apply(e,EE(n.props.children));return}n.type!==He&&Bi(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=EE(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bE(){return bE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function dG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const hG=["onClick","reloadDocument","replace","state","target","to"];function fG(t){let{basename:e,children:n,window:r}=t,i=Z.exports.useRef();i.current==null&&(i.current=FH({window:r}));let s=i.current,[o,a]=Z.exports.useState({action:s.action,location:s.location});return Z.exports.useLayoutEffect(()=>s.listen(a),[s]),Z.exports.createElement(lG,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}function pG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Uke=Z.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:u}=e,l=dG(e,hG),c=sG(u),d=mG(u,{replace:s,state:o,target:a});function h(m){r&&r(m),!m.defaultPrevented&&!i&&d(m)}return Z.exports.createElement("a",bE({},l,{href:c,onClick:h,ref:n,target:a}))});function mG(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,s=oG(),o=hy(),a=l2(t);return Z.exports.useCallback(u=>{if(u.button===0&&(!n||n==="_self")&&!pG(u)){u.preventDefault();let l=!!r||wE(o)===wE(a);s(t,{replace:l,state:i})}},[o,s,a,r,i,n,t])}var fy={exports:{}},py={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gG=Z.exports,yG=Symbol.for("react.element"),vG=Symbol.for("react.fragment"),_G=Object.prototype.hasOwnProperty,wG=gG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EG={key:!0,ref:!0,__self:!0,__source:!0};function c2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_G.call(e,r)&&!EG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yG,type:t,key:s,ref:o,props:i,_owner:wG.current}}py.Fragment=vG;py.jsx=c2;py.jsxs=c2;(function(t){t.exports=py})(fy);const Bke=fy.exports.Fragment,de=fy.exports.jsx,qR=fy.exports.jsxs,bG=Z.exports.lazy(()=>Fe(()=>import("./Header.28243816.js"),["assets/Header.28243816.js","assets/Layouts.44b1fd74.css","assets/Avenu-E Main Logo.9e18ca0e.js"])),SG=Z.exports.lazy(()=>Fe(()=>import("./Footer.e67f1de4.js"),["assets/Footer.e67f1de4.js","assets/Layouts.44b1fd74.css","assets/Avenu-E Main Logo.9e18ca0e.js"])),IG=Z.exports.lazy(()=>Fe(()=>import("./Subheader.b02c4073.js"),["assets/Subheader.b02c4073.js","assets/Layouts.44b1fd74.css"])),TG=Z.exports.lazy(()=>Fe(()=>import("./SearchBar.ae1068d4.js"),["assets/SearchBar.ae1068d4.js","assets/Layouts.44b1fd74.css"])),AG=Z.exports.lazy(()=>Fe(()=>import("./ToTop.014031e7.js"),[])),CG=Z.exports.lazy(()=>Fe(()=>import("./ScrollToTop.12fa8768.js"),[])),RG=Z.exports.lazy(()=>Fe(()=>import("./Home.5d29b71b.js"),[])),PG=Z.exports.lazy(()=>Fe(()=>import("./Company.9325c118.js"),[])),OG=Z.exports.lazy(()=>Fe(()=>import("./Register.15baad34.js"),["assets/Register.15baad34.js","assets/Account.82dbcede.css","assets/useDispatch.0b74632c.js"])),kG=Z.exports.lazy(()=>Fe(()=>import("./Login.2e339a61.js"),["assets/Login.2e339a61.js","assets/Account.82dbcede.css"])),xG=Z.exports.lazy(()=>Fe(()=>import("./ForgotPs.23913dd6.js"),["assets/ForgotPs.23913dd6.js","assets/Account.82dbcede.css"])),DG=Z.exports.lazy(()=>Fe(()=>import("./Profile.d6c22256.js"),["assets/Profile.d6c22256.js","assets/Account.82dbcede.css"])),NG=Z.exports.lazy(()=>Fe(()=>import("./EditProfile.a7b3a26c.js"),["assets/EditProfile.a7b3a26c.js","assets/Account.82dbcede.css","assets/index.49b092ce.js"])),$G=Z.exports.lazy(()=>Fe(()=>import("./EditMetadata.56bb484f.js"),["assets/EditMetadata.56bb484f.js","assets/Account.82dbcede.css"])),LG=Z.exports.lazy(()=>Fe(()=>import("./Bookmarks.225ba898.js"),["assets/Bookmarks.225ba898.js","assets/Account.82dbcede.css","assets/Scraps.bb618e4d.css","assets/Package.1dd8a8c0.css","assets/index.esm.e6574437.js","assets/index.esm.5f8e3b5d.js"])),MG=Z.exports.lazy(()=>Fe(()=>import("./PostedDatas.fc8dde69.js"),["assets/PostedDatas.fc8dde69.js","assets/Account.82dbcede.css","assets/Scraps.bb618e4d.css","assets/Package.1dd8a8c0.css","assets/index.esm.e6574437.js","assets/index.esm.5f8e3b5d.js"])),FG=Z.exports.lazy(()=>Fe(()=>import("./Email.6aadbd2c.js"),["assets/Email.6aadbd2c.js","assets/Account.82dbcede.css"])),UG=Z.exports.lazy(()=>Fe(()=>import("./Password.9bc7caf0.js"),["assets/Password.9bc7caf0.js","assets/Account.82dbcede.css"])),BG=Z.exports.lazy(()=>Fe(()=>import("./Sns.e53d5a37.js"),["assets/Sns.e53d5a37.js","assets/Account.82dbcede.css"])),jG=Z.exports.lazy(()=>Fe(()=>import("./Package.80b15884.js"),["assets/Package.80b15884.js","assets/Package.1dd8a8c0.css","assets/index.esm.5f8e3b5d.js"])),VG=Z.exports.lazy(()=>Fe(()=>import("./PackagePost.0c0a657e.js"),["assets/PackagePost.0c0a657e.js","assets/Package.1dd8a8c0.css","assets/index.49b092ce.js","assets/useDispatch.0b74632c.js"])),WG=Z.exports.lazy(()=>Fe(()=>import("./PackageDetail.e16bfef2.js"),["assets/PackageDetail.e16bfef2.js","assets/Package.1dd8a8c0.css"])),zG=Z.exports.lazy(()=>Fe(()=>import("./Scraps.2dee8a8b.js"),["assets/Scraps.2dee8a8b.js","assets/Scraps.bb618e4d.css","assets/index.esm.e6574437.js","assets/index.esm.5f8e3b5d.js"])),qG=Z.exports.lazy(()=>Fe(()=>import("./ScrapPost.66aa9240.js"),["assets/ScrapPost.66aa9240.js","assets/Scraps.bb618e4d.css","assets/index.49b092ce.js","assets/index.e2c02267.js","assets/react-markdown.6538e4a4.js","assets/index.esm.e6574437.js","assets/index.esm.5f8e3b5d.js","assets/useDispatch.0b74632c.js"])),HG=Z.exports.lazy(()=>Fe(()=>import("./ScrapDetail.2040ebfe.js"),["assets/ScrapDetail.2040ebfe.js","assets/Scraps.bb618e4d.css","assets/index.e2c02267.js","assets/react-markdown.6538e4a4.js"])),GG=Z.exports.lazy(()=>Fe(()=>import("./ScrapSearched.9aaf937f.js"),["assets/ScrapSearched.9aaf937f.js","assets/Scraps.bb618e4d.css","assets/index.esm.e6574437.js","assets/index.esm.5f8e3b5d.js"])),KG=Z.exports.lazy(()=>Fe(()=>import("./Inquiry.897dc144.js"),["assets/Inquiry.897dc144.js","assets/Inquiry.75e2036e.css"])),QG=Z.exports.lazy(()=>Fe(()=>import("./InquiryManagementForm.74a7339e.js"),["assets/InquiryManagementForm.74a7339e.js","assets/Inquiry.75e2036e.css","assets/useDispatch.0b74632c.js"])),YG=Z.exports.lazy(()=>Fe(()=>import("./InquiryConfirm.5f175382.js"),["assets/InquiryConfirm.5f175382.js","assets/Inquiry.75e2036e.css","assets/useDispatch.0b74632c.js"])),XG=Z.exports.lazy(()=>Fe(()=>import("./InquiryThanks.904a753a.js"),["assets/InquiryThanks.904a753a.js","assets/Inquiry.75e2036e.css"])),JG=Z.exports.lazy(()=>Fe(()=>import("./Admin.2062230b.js"),[])),ZG=Z.exports.lazy(()=>Fe(()=>import("./Term.b2818ec2.js"),[])),eK=Z.exports.lazy(()=>Fe(()=>import("./Help.c47274fa.js"),["assets/Help.c47274fa.js","assets/Helps.39a0813b.css"])),tK=Z.exports.lazy(()=>Fe(()=>import("./Format.761add5a.js"),["assets/Format.761add5a.js","assets/Helps.39a0813b.css","assets/react-markdown.6538e4a4.js"])),nK=Z.exports.lazy(()=>Fe(()=>import("./Privacypolicy.95609e34.js"),[])),rK=t=>de(fG,{children:qR(Z.exports.Suspense,{children:[de(bG,{user:t.user}),de(IG,{user:t.user}),de(TG,{}),de(AG,{}),de(CG,{}),qR(cG,{children:[de(He,{path:"/",element:de(RG,{user:t.user})}),de(He,{path:"/company",element:de(PG,{})}),de(He,{path:"/register",element:de(OG,{})}),de(He,{path:"/login",element:de(kG,{user:t.user})}),de(He,{path:"/password/reset",element:de(xG,{user:t.user})}),de(He,{path:"/profile",element:de(DG,{user:t.user})}),de(He,{path:"/profile/edit",element:de(NG,{user:t.user})}),de(He,{path:"/profile/metadata",element:de($G,{user:t.user})}),de(He,{path:"/profile/metadata/bookmarks",element:de(LG,{user:t.user})}),de(He,{path:"/profile/metadata/post-datas",element:de(MG,{user:t.user})}),de(He,{path:"/profile/reset/email",element:de(FG,{user:t.user})}),de(He,{path:"/profile/reset/sns",element:de(BG,{user:t.user})}),de(He,{path:"/profile/reset/password",element:de(UG,{user:t.user})}),de(He,{path:"/package",element:de(jG,{user:t.user})}),de(He,{path:"/package/post",element:de(VG,{user:t.user})}),de(He,{path:"/package/detail",element:de(WG,{user:t.user})}),de(He,{path:"/scraps",element:de(zG,{user:t.user})}),de(He,{path:"/scraps/post",element:de(qG,{user:t.user})}),de(He,{path:"/scraps/detail",element:de(HG,{user:t.user})}),de(He,{path:"/scraps/result",element:de(GG,{user:t.user})}),de(He,{path:"/inquiry",element:de(KG,{user:t.user})}),de(He,{path:"/inquiry/confirm",element:de(YG,{user:t.user})}),de(He,{path:"/inquiry/thanks",element:de(XG,{user:t.user})}),de(He,{path:"/admin",element:de(JG,{user:t.user})}),de(He,{path:"/term",element:de(ZG,{})}),de(He,{path:"/privacypolicy",element:de(nK,{})}),de(He,{path:"/help",element:de(eK,{})}),de(He,{path:"/help/format",element:de(tK,{})}),de(He,{path:"/admin/inquiry/list",element:de(QG,{user:t.user})})]}),de(SG,{user:t.user})]})});var d2={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(t,e){(function(n,r){t.exports=r()})(Er,function(){var n={};n.version="0.2.0";var r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(g){var _,S;for(_ in g)S=g[_],S!==void 0&&g.hasOwnProperty(_)&&(r[_]=S);return this},n.status=null,n.set=function(g){var _=n.isStarted();g=i(g,r.minimum,1),n.status=g===1?null:g;var S=n.render(!_),v=S.querySelector(r.barSelector),y=r.speed,w=r.easing;return S.offsetWidth,a(function(b){r.positionUsing===""&&(r.positionUsing=n.getPositioningCSS()),u(v,o(g,y,w)),g===1?(u(S,{transition:"none",opacity:1}),S.offsetWidth,setTimeout(function(){u(S,{transition:"all "+y+"ms linear",opacity:0}),setTimeout(function(){n.remove(),b()},y)},y)):setTimeout(b,y)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var g=function(){setTimeout(function(){!n.status||(n.trickle(),g())},r.trickleSpeed)};return r.trickle&&g(),this},n.done=function(g){return!g&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(g){var _=n.status;return _?(typeof g!="number"&&(g=(1-_)*i(Math.random()*_,.1,.95)),_=i(_+g,0,.994),n.set(_)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},function(){var g=0,_=0;n.promise=function(S){return!S||S.state()==="resolved"?this:(_===0&&n.start(),g++,_++,S.always(function(){_--,_===0?(g=0,n.done()):n.set((g-_)/g)}),this)}}(),n.render=function(g){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var _=document.createElement("div");_.id="nprogress",_.innerHTML=r.template;var S=_.querySelector(r.barSelector),v=g?"-100":s(n.status||0),y=document.querySelector(r.parent),w;return u(S,{transition:"all 0 linear",transform:"translate3d("+v+"%,0,0)"}),r.showSpinner||(w=_.querySelector(r.spinnerSelector),w&&m(w)),y!=document.body&&c(y,"nprogress-custom-parent"),y.appendChild(_),_},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var g=document.getElementById("nprogress");g&&m(g)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var g=document.body.style,_="WebkitTransform"in g?"Webkit":"MozTransform"in g?"Moz":"msTransform"in g?"ms":"OTransform"in g?"O":"";return _+"Perspective"in g?"translate3d":_+"Transform"in g?"translate":"margin"};function i(g,_,S){return g<_?_:g>S?S:g}function s(g){return(-1+g)*100}function o(g,_,S){var v;return r.positionUsing==="translate3d"?v={transform:"translate3d("+s(g)+"%,0,0)"}:r.positionUsing==="translate"?v={transform:"translate("+s(g)+"%,0)"}:v={"margin-left":s(g)+"%"},v.transition="all "+_+"ms "+S,v}var a=function(){var g=[];function _(){var S=g.shift();S&&S(_)}return function(S){g.push(S),g.length==1&&_()}}(),u=function(){var g=["Webkit","O","Moz","ms"],_={};function S(b){return b.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(T,C){return C.toUpperCase()})}function v(b){var T=document.body.style;if(b in T)return b;for(var C=g.length,I=b.charAt(0).toUpperCase()+b.slice(1),A;C--;)if(A=g[C]+I,A in T)return A;return b}function y(b){return b=S(b),_[b]||(_[b]=v(b))}function w(b,T,C){T=y(T),b.style[T]=C}return function(b,T){var C=arguments,I,A;if(C.length==2)for(I in T)A=T[I],A!==void 0&&T.hasOwnProperty(I)&&w(b,I,A);else w(b,C[1],C[2])}}();function l(g,_){var S=typeof g=="string"?g:h(g);return S.indexOf(" "+_+" ")>=0}function c(g,_){var S=h(g),v=S+_;l(S,_)||(g.className=v.substring(1))}function d(g,_){var S=h(g),v;!l(g,_)||(v=S.replace(" "+_+" "," "),g.className=v.substring(1,v.length-1))}function h(g){return(" "+(g.className||"")+" ").replace(/\s+/gi," ")}function m(g){g&&g.parentNode&&g.parentNode.removeChild(g)}return n})})(d2);const gw=d2.exports;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Zl(e)},Zl=function(t){return new Error("Firebase Database ("+h2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iK=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|l>>6,m=l&63;u||(m=64,o||(h=64)),r.push(n[c],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),l!==64){const m=a<<4&240|l>>2;if(r.push(m),d!==64){const g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},p2=function(t){const e=f2(t);return oI.encodeByteArray(e,!0)},zm=function(t){return p2(t).replace(/\./g,"")},SE=function(t){try{return oI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(t){return ph(void 0,t)}function ph(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oK(n)||(t[n]=ph(t[n],e[n]));return t}function oK(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[zm(JSON.stringify(n)),zm(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function my(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function aI(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aK(){return typeof self=="object"&&self.self===self}function uI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uK(){return ct().indexOf("Electron/")>=0}function lI(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lK(){return ct().indexOf("MSAppHost/")>=0}function g2(){return h2.NODE_ADMIN===!0}function cK(){return!aI()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mh(){return typeof indexedDB=="object"}function dK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK="FirebaseError";class Dn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hK,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fK(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Dn(i,a,r)}}function fK(t,e){return t.replace(pK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pK=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return JSON.parse(t)}function zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=gh(SE(s[0])||""),n=gh(SE(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},mK=function(t){const e=y2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gK=function(t){const e=y2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function La(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Gm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(HR(s)&&HR(o)){if(!Gm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function HR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4],l,c;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),c=1518500249):(l=s^o^a,c=1859775393):d<60?(l=s&o|a&(s|o),c=2400959708):(l=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+l+u+c+r[d]&4294967295;u=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function v2(t,e){const n=new vK(t,e);return n.subscribe.bind(n)}class vK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_K(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yw),i.error===void 0&&(i.error=yw),i.complete===void 0&&(i.complete=yw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _K(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function pr(t,e){return`${t} failed: ${e} argument `}function Zt(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(pr(t,e)+"must be a valid function.")}function GR(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(pr(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gy=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bK(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EK(t){return t===na?void 0:t}function bK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=[];var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const E2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},SK=je.INFO,IK={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},TK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ec{constructor(e){this.name=e,this._logLevel=SK,this._logHandler=TK,this._userLogHandler=null,cI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function AK(t){cI.forEach(e=>{e.setLogLevel(t)})}function CK(t,e){for(const n of cI){let r=null;e&&e.level&&(r=E2[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r!=null?r:i.logLevel)&&t({level:je[s].toLowerCase(),message:a,args:o,type:i.name})}}}const RK=(t,e)=>e.some(n=>t instanceof n);let KR,QR;function PK(){return KR||(KR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OK(){return QR||(QR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b2=new WeakMap,IE=new WeakMap,S2=new WeakMap,vw=new WeakMap,dI=new WeakMap;function kK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ho(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b2.set(n,t)}).catch(()=>{}),dI.set(e,t),e}function xK(t){if(IE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});IE.set(t,e)}let TE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return IE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DK(t){TE=t(TE)}function NK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_w(this),e,...n);return S2.set(r,e.sort?e.sort():[e]),ho(r)}:OK().includes(t)?function(...e){return t.apply(_w(this),e),ho(b2.get(this))}:function(...e){return ho(t.apply(_w(this),e))}}function $K(t){return typeof t=="function"?NK(t):(t instanceof IDBTransaction&&xK(t),RK(t,PK())?new Proxy(t,TE):t)}function ho(t){if(t instanceof IDBRequest)return kK(t);if(vw.has(t))return vw.get(t);const e=$K(t);return e!==t&&(vw.set(t,e),dI.set(e,t)),e}const _w=t=>dI.get(t);function LK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ho(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ho(o.result),u.oldVersion,u.newVersion,ho(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const MK=["get","getKey","getAll","getAllKeys","count"],FK=["put","add","delete","clear"],ww=new Map;function YR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ww.get(e))return ww.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MK.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return ww.set(e,s),s}DK(t=>({...t,get:(e,n,r)=>YR(e,n)||t.get(e,n,r),has:(e,n)=>!!YR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const AE="@firebase/app",XR="0.7.31";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new ec("@firebase/app"),jK="@firebase/app-compat",VK="@firebase/analytics-compat",WK="@firebase/analytics",zK="@firebase/app-check-compat",qK="@firebase/app-check",HK="@firebase/auth",GK="@firebase/auth-compat",KK="@firebase/database",QK="@firebase/database-compat",YK="@firebase/functions",XK="@firebase/functions-compat",JK="@firebase/installations",ZK="@firebase/installations-compat",e6="@firebase/messaging",t6="@firebase/messaging-compat",n6="@firebase/performance",r6="@firebase/performance-compat",i6="@firebase/remote-config",s6="@firebase/remote-config-compat",o6="@firebase/storage",a6="@firebase/storage-compat",u6="@firebase/firestore",l6="@firebase/firestore-compat",c6="firebase",d6="9.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]",h6={[AE]:"fire-core",[jK]:"fire-core-compat",[WK]:"fire-analytics",[VK]:"fire-analytics-compat",[qK]:"fire-app-check",[zK]:"fire-app-check-compat",[HK]:"fire-auth",[GK]:"fire-auth-compat",[KK]:"fire-rtdb",[QK]:"fire-rtdb-compat",[YK]:"fire-fn",[XK]:"fire-fn-compat",[JK]:"fire-iid",[ZK]:"fire-iid-compat",[e6]:"fire-fcm",[t6]:"fire-fcm-compat",[n6]:"fire-perf",[r6]:"fire-perf-compat",[i6]:"fire-rc",[s6]:"fire-rc-compat",[o6]:"fire-gcs",[a6]:"fire-gcs-compat",[u6]:"fire-fst",[l6]:"fire-fst-compat","fire-js":"fire-js",[c6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Map,yh=new Map;function Km(t,e){try{t.container.addComponent(e)}catch(n){Ma.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function I2(t,e){t.container.addOrOverwriteComponent(e)}function ji(t){const e=t.name;if(yh.has(e))return Ma.debug(`There were multiple attempts to register component ${e}.`),!1;yh.set(e,t);for(const n of bo.values())Km(n,t);return!0}function tc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function f6(t,e,n=Fa){tc(t,e).clearInstance(n)}function p6(){yh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},So=new lu("app","Firebase",m6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=d6;function hI(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Fa,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw So.create("bad-app-name",{appName:String(r)});const i=bo.get(r);if(i){if(Gm(t,i.options)&&Gm(n,i.config))return i;throw So.create("duplicate-app",{appName:r})}const s=new w2(r);for(const a of yh.values())s.addComponent(a);const o=new g6(t,n,s);return bo.set(r,o),o}function yy(t=Fa){const e=bo.get(t);if(!e)throw So.create("no-app",{appName:t});return e}function y6(){return Array.from(bo.values())}async function T2(t){const e=t.name;bo.has(e)&&(bo.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Kn(t,e,n){var r;let i=(r=h6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ma.warn(a.join(" "));return}ji(new mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function A2(t,e){if(t!==null&&typeof t!="function")throw So.create("invalid-log-argument");CK(t,e)}function C2(t){AK(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="firebase-heartbeat-database",_6=1,vh="firebase-heartbeat-store";let Ew=null;function R2(){return Ew||(Ew=LK(v6,_6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vh)}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),Ew}async function w6(t){var e;try{return(await R2()).transaction(vh).objectStore(vh).get(P2(t))}catch(n){if(n instanceof Dn)Ma.warn(n.message);else{const r=So.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Ma.warn(r.message)}}}async function JR(t,e){var n;try{const i=(await R2()).transaction(vh,"readwrite");return await i.objectStore(vh).put(e,P2(t)),i.done}catch(r){if(r instanceof Dn)Ma.warn(r.message);else{const i=So.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Ma.warn(i.message)}}}function P2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=1024,b6=30*24*60*60*1e3;class S6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ZR();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=b6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZR(),{heartbeatsToSend:n,unsentEntries:r}=I6(this._heartbeatsCache.heartbeats),i=zm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ZR(){return new Date().toISOString().substring(0,10)}function I6(t,e=E6){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mh()?dK().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await w6(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eP(t){return zm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){ji(new mr("platform-logger",e=>new UK(e),"PRIVATE")),ji(new mr("heartbeat",e=>new S6(e),"PRIVATE")),Kn(AE,XR,t),Kn(AE,XR,"esm2017"),Kn("fire-js","")}A6("");const C6=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:As,_DEFAULT_ENTRY_NAME:Fa,_addComponent:Km,_addOrOverwriteComponent:I2,_apps:bo,_clearComponents:p6,_components:yh,_getProvider:tc,_registerComponent:ji,_removeServiceInstance:f6,deleteApp:T2,getApp:yy,getApps:y6,initializeApp:hI,onLog:A2,registerVersion:Kn,setLogLevel:C2,FirebaseError:Dn},Symbol.toStringTag,{value:"Module"}));var R6="firebase",P6="9.9.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(R6,P6,"app");var O6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me,fI=fI||{},Ae=O6||self;function Qm(){}function CE(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ff(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function k6(t){return Object.prototype.hasOwnProperty.call(t,bw)&&t[bw]||(t[bw]=++x6)}var bw="closure_uid_"+(1e9*Math.random()>>>0),x6=0;function D6(t,e,n){return t.call.apply(t.bind,arguments)}function N6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Sn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Sn=D6:Sn=N6,Sn.apply(null,arguments)}function kp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Cn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function jo(){this.s=this.s,this.o=this.o}var $6=0;jo.prototype.s=!1;jo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),$6!=0)&&k6(this)};jo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const O2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k2=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function L6(t){e:{var e=C8;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function tP(t){return Array.prototype.concat.apply([],arguments)}function pI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ym(t){return/^[\s\xa0]*$/.test(t)}var nP=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Wn(t,e){return t.indexOf(e)!=-1}function Sw(t,e){return t<e?-1:t>e?1:0}var zn;e:{var rP=Ae.navigator;if(rP){var iP=rP.userAgent;if(iP){zn=iP;break e}}zn=""}function mI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function x2(t){const e={};for(const n in t)e[n]=t[n];return e}var sP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D2(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<sP.length;s++)n=sP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gI(t){return gI[" "](t),t}gI[" "]=Qm;function M6(t){var e=B6;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var F6=Wn(zn,"Opera"),Al=Wn(zn,"Trident")||Wn(zn,"MSIE"),N2=Wn(zn,"Edge"),RE=N2||Al,$2=Wn(zn,"Gecko")&&!(Wn(zn.toLowerCase(),"webkit")&&!Wn(zn,"Edge"))&&!(Wn(zn,"Trident")||Wn(zn,"MSIE"))&&!Wn(zn,"Edge"),U6=Wn(zn.toLowerCase(),"webkit")&&!Wn(zn,"Edge");function L2(){var t=Ae.document;return t?t.documentMode:void 0}var Xm;e:{var Iw="",Tw=function(){var t=zn;if($2)return/rv:([^\);]+)(\)|;)/.exec(t);if(N2)return/Edge\/([\d\.]+)/.exec(t);if(Al)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(U6)return/WebKit\/(\S+)/.exec(t);if(F6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tw&&(Iw=Tw?Tw[1]:""),Al){var Aw=L2();if(Aw!=null&&Aw>parseFloat(Iw)){Xm=String(Aw);break e}}Xm=Iw}var B6={};function j6(){return M6(function(){let t=0;const e=nP(String(Xm)).split("."),n=nP("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Sw(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Sw(i[2].length==0,s[2].length==0)||Sw(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var PE;if(Ae.document&&Al){var oP=L2();PE=oP||parseInt(Xm,10)||void 0}else PE=void 0;var V6=PE,W6=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ae.addEventListener("test",Qm,e),Ae.removeEventListener("test",Qm,e)}catch{}return t}();function Nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};function _h(t,e){if(Nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($2){e:{try{gI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:z6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_h.Z.h.call(this)}}Cn(_h,Nn);var z6={2:"touch",3:"pen",4:"mouse"};_h.prototype.h=function(){_h.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var pf="closure_listenable_"+(1e6*Math.random()|0),q6=0;function H6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++q6,this.ca=this.fa=!1}function vy(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function _y(t){this.src=t,this.g={},this.h=0}_y.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=kE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new H6(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function OE(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=O2(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var yI="closure_lm_"+(1e6*Math.random()|0),Cw={};function M2(t,e,n,r,i){if(r&&r.once)return U2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)M2(t,e[s],n,r,i);return null}return n=wI(n),t&&t[pf]?t.N(e,n,ff(r)?!!r.capture:!!r,i):F2(t,e,n,!1,r,i)}function F2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ff(i)?!!i.capture:!!i,a=_I(t);if(a||(t[yI]=a=new _y(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=G6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)W6||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(j2(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function G6(){function t(n){return e.call(t.src,t.listener,n)}var e=K6;return t}function U2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)U2(t,e[s],n,r,i);return null}return n=wI(n),t&&t[pf]?t.O(e,n,ff(r)?!!r.capture:!!r,i):F2(t,e,n,!0,r,i)}function B2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)B2(t,e[s],n,r,i);else r=ff(r)?!!r.capture:!!r,n=wI(n),t&&t[pf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=kE(s,n,r,i),-1<n&&(vy(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=_I(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kE(e,n,r,i)),(n=-1<t?e[t]:null)&&vI(n))}function vI(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[pf])OE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(j2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_I(e))?(OE(n,t),n.h==0&&(n.src=null,e[yI]=null)):vy(t)}}}function j2(t){return t in Cw?Cw[t]:Cw[t]="on"+t}function K6(t,e){if(t.ca)t=!0;else{e=new _h(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&vI(t),t=n.call(r,e)}return t}function _I(t){return t=t[yI],t instanceof _y?t:null}var Rw="__closure_events_fn_"+(1e9*Math.random()>>>0);function wI(t){return typeof t=="function"?t:(t[Rw]||(t[Rw]=function(e){return t.handleEvent(e)}),t[Rw])}function un(){jo.call(this),this.i=new _y(this),this.P=this,this.I=null}Cn(un,jo);un.prototype[pf]=!0;un.prototype.removeEventListener=function(t,e,n,r){B2(this,t,e,n,r)};function In(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Nn(e,t);else if(e instanceof Nn)e.target=e.target||t;else{var i=e;e=new Nn(r,t),D2(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=xp(o,r,!0,e)&&i}if(o=e.g=t,i=xp(o,r,!0,e)&&i,i=xp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=xp(o,r,!1,e)&&i}un.prototype.M=function(){if(un.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vy(n[r]);delete t.g[e],t.h--}}this.I=null};un.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};un.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function xp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&OE(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var EI=Ae.JSON.stringify;function Q6(){var t=W2;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Y6{constructor(){this.h=this.g=null}add(e,n){const r=V2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var V2=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new X6,t=>t.reset());class X6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function J6(t){Ae.setTimeout(()=>{throw t},0)}function bI(t,e){xE||Z6(),DE||(xE(),DE=!0),W2.add(t,e)}var xE;function Z6(){var t=Ae.Promise.resolve(void 0);xE=function(){t.then(e8)}}var DE=!1,W2=new Y6;function e8(){for(var t;t=Q6();){try{t.h.call(t.g)}catch(n){J6(n)}var e=V2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}DE=!1}function wy(t,e){un.call(this),this.h=t||1,this.g=e||Ae,this.j=Sn(this.kb,this),this.l=Date.now()}Cn(wy,un);me=wy.prototype;me.da=!1;me.S=null;me.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),In(this,"tick"),this.da&&(SI(this),this.start()))}};me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function SI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}me.M=function(){wy.Z.M.call(this),SI(this),delete this.g};function II(t,e,n){if(typeof t=="function")n&&(t=Sn(t,n));else if(t&&typeof t.handleEvent=="function")t=Sn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ae.setTimeout(t,e||0)}function z2(t){t.g=II(()=>{t.g=null,t.i&&(t.i=!1,z2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class t8 extends jo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:z2(this)}M(){super.M(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wh(t){jo.call(this),this.h=t,this.g={}}Cn(wh,jo);var aP=[];function q2(t,e,n,r){Array.isArray(n)||(n&&(aP[0]=n.toString()),n=aP);for(var i=0;i<n.length;i++){var s=M2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function H2(t){mI(t.g,function(e,n){this.g.hasOwnProperty(n)&&vI(e)},t),t.g={}}wh.prototype.M=function(){wh.Z.M.call(this),H2(this)};wh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ey(){this.g=!0}Ey.prototype.Aa=function(){this.g=!1};function n8(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function r8(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function el(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+s8(t,n)+(r?" "+r:"")})}function i8(t,e){t.info(function(){return"TIMEOUT: "+e})}Ey.prototype.info=function(){};function s8(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return EI(n)}catch{return e}}var du={},uP=null;function by(){return uP=uP||new un}du.Ma="serverreachability";function G2(t){Nn.call(this,du.Ma,t)}Cn(G2,Nn);function Eh(t){const e=by();In(e,new G2(e))}du.STAT_EVENT="statevent";function K2(t,e){Nn.call(this,du.STAT_EVENT,t),this.stat=e}Cn(K2,Nn);function qn(t){const e=by();In(e,new K2(e,t))}du.Na="timingevent";function Q2(t,e){Nn.call(this,du.Na,t),this.size=e}Cn(Q2,Nn);function mf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){t()},e)}var Sy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Y2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function TI(){}TI.prototype.h=null;function lP(t){return t.h||(t.h=t.i())}function X2(){}var gf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function AI(){Nn.call(this,"d")}Cn(AI,Nn);function CI(){Nn.call(this,"c")}Cn(CI,Nn);var NE;function Iy(){}Cn(Iy,TI);Iy.prototype.g=function(){return new XMLHttpRequest};Iy.prototype.i=function(){return{}};NE=new Iy;function yf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new wh(this),this.P=o8,t=RE?125:void 0,this.W=new wy(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new J2}function J2(){this.i=null,this.g="",this.h=!1}var o8=45e3,$E={},Jm={};me=yf.prototype;me.setTimeout=function(t){this.P=t};function LE(t,e,n){t.K=1,t.v=Ay(ys(e)),t.s=n,t.U=!0,Z2(t,null)}function Z2(t,e){t.F=Date.now(),vf(t),t.A=ys(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),oL(n.h,"t",r),t.C=0,n=t.l.H,t.h=new J2,t.g=AL(t.l,n?e:null,!t.s),0<t.O&&(t.L=new t8(Sn(t.Ia,t,t.g),t.O)),q2(t.V,t.g,"readystatechange",t.gb),e=t.H?x2(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Eh(),n8(t.j,t.u,t.A,t.m,t.X,t.s)}me.gb=function(t){t=t.target;const e=this.L;e&&ss(t)==3?e.l():this.Ia(t)};me.Ia=function(t){try{if(t==this.g)e:{const c=ss(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(c!=3||RE||this.g&&(this.h.h||this.g.ga()||fP(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?Eh(3):Eh(2)),Ty(this);var n=this.g.ba();this.N=n;t:if(eL(this)){var r=fP(this.g);t="";var i=r.length,s=ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ga(this),Nd(this);var o="";break t}this.h.i=new Ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,r8(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ym(a)){var l=a;break t}}l=null}if(n=l)el(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ME(this,n);else{this.i=!1,this.o=3,qn(12),ga(this),Nd(this);break e}}this.U?(tL(this,c,o),RE&&this.i&&c==3&&(q2(this.V,this.W,"tick",this.fb),this.W.start())):(el(this.j,this.m,o,null),ME(this,o)),c==4&&ga(this),this.i&&!this.I&&(c==4?bL(this.l,this):(this.i=!1,vf(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,qn(12)):(this.o=0,qn(13)),ga(this),Nd(this)}}}catch{}finally{}};function eL(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function tL(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=a8(t,n),i==Jm){e==4&&(t.o=4,qn(14),r=!1),el(t.j,t.m,null,"[Incomplete Response]");break}else if(i==$E){t.o=4,qn(15),el(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else el(t.j,t.m,i,null),ME(t,i);eL(t)&&i!=Jm&&i!=$E&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),LI(e),e.L=!0,qn(11))):(el(t.j,t.m,n,"[Invalid Chunked Response]"),ga(t),Nd(t))}me.fb=function(){if(this.g){var t=ss(this.g),e=this.g.ga();this.C<e.length&&(Ty(this),tL(this,t,e),this.i&&t!=4&&vf(this))}};function a8(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Jm:(n=Number(e.substring(n,r)),isNaN(n)?$E:(r+=1,r+n>e.length?Jm:(e=e.substr(r,n),t.C=r+n,e)))}me.cancel=function(){this.I=!0,ga(this)};function vf(t){t.Y=Date.now()+t.P,nL(t,t.P)}function nL(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=mf(Sn(t.eb,t),e)}function Ty(t){t.B&&(Ae.clearTimeout(t.B),t.B=null)}me.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(i8(this.j,this.A),this.K!=2&&(Eh(),qn(17)),ga(this),this.o=2,Nd(this)):nL(this,this.Y-t)};function Nd(t){t.l.G==0||t.I||bL(t.l,t)}function ga(t){Ty(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,SI(t.W),H2(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ME(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||FE(n.i,t))){if(n.I=t.N,!t.J&&FE(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ng(n),Py(n);else break e;$I(n),qn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=mf(Sn(n.ab,n),6e3));if(1>=lL(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ya(n,11)}else if((t.J||n.g==t)&&ng(n),!Ym(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const c=l[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const d=l[4];d!=null&&(n.za=d,n.h.info("SVER="+n.za));const h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;!s.g&&(Wn(g,"spdy")||Wn(g,"quic")||Wn(g,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(OI(s,s.h),s.h=null))}if(r.D){const _=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,ft(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=TL(r,r.H?r.la:null,r.W),o.J){cL(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Ty(a),vf(a)),r.g=o}else wL(r);0<n.l.length&&Oy(n)}else l[0]!="stop"&&l[0]!="close"||ya(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ya(n,7):NI(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}Eh(4)}catch{}}function u8(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(CE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(CE(t)||typeof t=="string")k2(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(CE(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=u8(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function nc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof nc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}me=nc.prototype;me.R=function(){PI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};me.T=function(){return PI(this),this.g.concat()};function PI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ua(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Ua(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}me.get=function(t,e){return Ua(this.h,t)?this.h[t]:e};me.set=function(t,e){Ua(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};me.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Ua(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var rL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function l8(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ba(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ba){this.g=e!==void 0?e:t.g,Zm(this,t.j),this.s=t.s,eg(this,t.i),tg(this,t.m),this.l=t.l,e=t.h;var n=new bh;n.i=e.i,e.g&&(n.g=new nc(e.g),n.h=e.h),cP(this,n),this.o=t.o}else t&&(n=String(t).match(rL))?(this.g=!!e,Zm(this,n[1]||"",!0),this.s=$d(n[2]||""),eg(this,n[3]||"",!0),tg(this,n[4]),this.l=$d(n[5]||"",!0),cP(this,n[6]||"",!0),this.o=$d(n[7]||"")):(this.g=!!e,this.h=new bh(null,this.g))}Ba.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_d(e,dP,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_d(e,dP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(_d(n,n.charAt(0)=="/"?p8:f8,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_d(n,g8)),t.join("")};function ys(t){return new Ba(t)}function Zm(t,e,n){t.j=n?$d(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eg(t,e,n){t.i=n?$d(e,!0):e}function tg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cP(t,e,n){e instanceof bh?(t.h=e,y8(t.h,t.g)):(n||(e=_d(e,m8)),t.h=new bh(e,t.g))}function ft(t,e,n){t.h.set(e,n)}function Ay(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function c8(t){return t instanceof Ba?ys(t):new Ba(t,void 0)}function d8(t,e,n,r){var i=new Ba(null,void 0);return t&&Zm(i,t),e&&eg(i,e),n&&tg(i,n),r&&(i.l=r),i}function $d(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _d(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,h8),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function h8(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var dP=/[#\/\?@]/g,f8=/[#\?:]/g,p8=/[#\?]/g,m8=/[#\?@]/g,g8=/#/g;function bh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vo(t){t.g||(t.g=new nc,t.h=0,t.i&&l8(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}me=bh.prototype;me.add=function(t,e){Vo(this),this.i=null,t=rc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function iL(t,e){Vo(t),e=rc(t,e),Ua(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ua(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&PI(t)))}function sL(t,e){return Vo(t),e=rc(t,e),Ua(t.g.h,e)}me.forEach=function(t,e){Vo(this),this.g.forEach(function(n,r){k2(n,function(i){t.call(e,i,r,this)},this)},this)};me.T=function(){Vo(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};me.R=function(t){Vo(this);var e=[];if(typeof t=="string")sL(this,t)&&(e=tP(e,this.g.get(rc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=tP(e,t[n])}return e};me.set=function(t,e){return Vo(this),this.i=null,t=rc(this,t),sL(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};me.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function oL(t,e,n){iL(t,e),0<n.length&&(t.i=null,t.g.set(rc(t,e),pI(n)),t.h+=n.length)}me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function rc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function y8(t,e){e&&!t.j&&(Vo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iL(this,r),oL(this,i,n))},t)),t.j=e}var v8=class{constructor(t,e){this.h=t,this.g=e}};function aL(t){this.l=t||_8,Ae.PerformanceNavigationTiming?(t=Ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ae.g&&Ae.g.Ea&&Ae.g.Ea()&&Ae.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _8=10;function uL(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lL(t){return t.h?1:t.g?t.g.size:0}function FE(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function OI(t,e){t.g?t.g.add(e):t.h=e}function cL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aL.prototype.cancel=function(){if(this.i=dL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dL(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return pI(t.i)}function kI(){}kI.prototype.stringify=function(t){return Ae.JSON.stringify(t,void 0)};kI.prototype.parse=function(t){return Ae.JSON.parse(t,void 0)};function w8(){this.g=new kI}function E8(t,e,n){const r=n||"";try{RI(t,function(i,s){let o=i;ff(i)&&(o=EI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function b8(t,e){const n=new Ey;if(Ae.Image){const r=new Image;r.onload=kp(Dp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=kp(Dp,n,r,"TestLoadImage: error",!1,e),r.onabort=kp(Dp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=kp(Dp,n,r,"TestLoadImage: timeout",!1,e),Ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Dp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function _f(t){this.l=t.$b||null,this.j=t.ib||!1}Cn(_f,TI);_f.prototype.g=function(){return new Cy(this.l,this.j)};_f.prototype.i=function(t){return function(){return t}}({});function Cy(t,e){un.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=xI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cn(Cy,un);var xI=0;me=Cy.prototype;me.open=function(t,e){if(this.readyState!=xI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sh(this)};me.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ae).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wf(this)),this.readyState=xI};me.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sh(this)),this.g&&(this.readyState=3,Sh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hL(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function hL(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}me.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wf(this):Sh(this),this.readyState==3&&hL(this)}};me.Ua=function(t){this.g&&(this.response=this.responseText=t,wf(this))};me.Ta=function(t){this.g&&(this.response=t,wf(this))};me.ha=function(){this.g&&wf(this)};function wf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sh(t)}me.setRequestHeader=function(t,e){this.v.append(t,e)};me.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};me.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Sh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Cy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var S8=Ae.JSON.parse;function Ut(t){un.call(this),this.headers=new nc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fL,this.K=this.L=!1}Cn(Ut,un);var fL="",I8=/^https?$/i,T8=["POST","PUT"];me=Ut.prototype;me.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():NE.g(),this.C=this.u?lP(this.u):lP(NE),this.g.onreadystatechange=Sn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){hP(this,s);return}t=n||"";const i=new nc(this.headers);r&&RI(r,function(s,o){i.set(o,s)}),r=L6(i.T()),n=Ae.FormData&&t instanceof Ae.FormData,!(0<=O2(T8,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gL(this),0<this.B&&((this.K=A8(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.pa,this)):this.A=II(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){hP(this,s)}};function A8(t){return Al&&j6()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function C8(t){return t.toLowerCase()=="content-type"}me.pa=function(){typeof fI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,In(this,"timeout"),this.abort(8))};function hP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pL(t),Ry(t)}function pL(t){t.D||(t.D=!0,In(t,"complete"),In(t,"error"))}me.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,In(this,"complete"),In(this,"abort"),Ry(this))};me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ry(this,!0)),Ut.Z.M.call(this)};me.Fa=function(){this.s||(this.F||this.v||this.l?mL(this):this.cb())};me.cb=function(){mL(this)};function mL(t){if(t.h&&typeof fI<"u"&&(!t.C[1]||ss(t)!=4||t.ba()!=2)){if(t.v&&ss(t)==4)II(t.Fa,0,t);else if(In(t,"readystatechange"),ss(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(rL)[1]||null;if(!i&&Ae.self&&Ae.self.location){var s=Ae.self.location.protocol;i=s.substr(0,s.length-1)}r=!I8.test(i?i.toLowerCase():"")}n=r}if(n)In(t,"complete"),In(t,"success");else{t.m=6;try{var o=2<ss(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",pL(t)}}finally{Ry(t)}}}}function Ry(t,e){if(t.g){gL(t);const n=t.g,r=t.C[0]?Qm:null;t.g=null,t.C=null,e||In(t,"ready");try{n.onreadystatechange=r}catch{}}}function gL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ae.clearTimeout(t.A),t.A=null)}function ss(t){return t.g?t.g.readyState:0}me.ba=function(){try{return 2<ss(this)?this.g.status:-1}catch{return-1}};me.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};me.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),S8(e)}};function fP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case fL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}me.Da=function(){return this.m};me.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function R8(t){let e="";return mI(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function DI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=R8(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ft(t,e,n))}function Qc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yL(t){this.za=0,this.l=[],this.h=new Ey,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qc("baseRetryDelayMs",5e3,t),this.$a=Qc("retryDelaySeedMs",1e4,t),this.Ya=Qc("forwardChannelMaxRetries",2,t),this.ra=Qc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new aL(t&&t.concurrentRequestLimit),this.Ca=new w8,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}me=yL.prototype;me.ma=8;me.G=1;function NI(t){if(vL(t),t.G==3){var e=t.V++,n=ys(t.F);ft(n,"SID",t.J),ft(n,"RID",e),ft(n,"TYPE","terminate"),Ef(t,n),e=new yf(t,t.h,e,void 0),e.K=2,e.v=Ay(ys(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon&&(n=Ae.navigator.sendBeacon(e.v.toString(),"")),!n&&Ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=AL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vf(e)}IL(t)}me.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Py(t){t.g&&(LI(t),t.g.cancel(),t.g=null)}function vL(t){Py(t),t.u&&(Ae.clearTimeout(t.u),t.u=null),ng(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ae.clearTimeout(t.m),t.m=null)}function Pw(t,e){t.l.push(new v8(t.Za++,e)),t.G==3&&Oy(t)}function Oy(t){uL(t.i)||t.m||(t.m=!0,bI(t.Ha,t),t.C=0)}function P8(t,e){return lL(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=mf(Sn(t.Ha,t,e),SL(t,t.C)),t.C++,!0)}me.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new yf(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=x2(s),D2(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_L(this,i,e),n=ys(this.F),ft(n,"RID",t),ft(n,"CVER",22),this.D&&ft(n,"X-HTTP-Session-Id",this.D),Ef(this,n),this.o&&s&&DI(n,this.o,s),OI(this.i,i),this.Ra&&ft(n,"TYPE","init"),this.ja?(ft(n,"$req",e),ft(n,"SID","null"),i.$=!0,LE(i,n,null)):LE(i,n,e),this.G=2}}else this.G==3&&(t?pP(this,t):this.l.length==0||uL(this.i)||pP(this))};function pP(t,e){var n;e?n=e.m:n=t.V++;const r=ys(t.F);ft(r,"SID",t.J),ft(r,"RID",n),ft(r,"AID",t.U),Ef(t,r),t.o&&t.s&&DI(r,t.o,t.s),n=new yf(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=_L(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),OI(t.i,n),LE(n,r,e)}function Ef(t,e){t.j&&RI({},function(n,r){ft(e,r,n)})}function _L(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Sn(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{E8(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function wL(t){t.g||t.u||(t.Y=1,bI(t.Ga,t),t.A=0)}function $I(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=mf(Sn(t.Ga,t),SL(t,t.A)),t.A++,!0)}me.Ga=function(){if(this.u=null,EL(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=mf(Sn(this.bb,this),t)}};me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qn(10),Py(this),EL(this))};function LI(t){t.B!=null&&(Ae.clearTimeout(t.B),t.B=null)}function EL(t){t.g=new yf(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=ys(t.oa);ft(e,"RID","rpc"),ft(e,"SID",t.J),ft(e,"CI",t.N?"0":"1"),ft(e,"AID",t.U),Ef(t,e),ft(e,"TYPE","xmlhttp"),t.o&&t.s&&DI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ay(ys(e)),n.s=null,n.U=!0,Z2(n,t)}me.ab=function(){this.v!=null&&(this.v=null,Py(this),$I(this),qn(19))};function ng(t){t.v!=null&&(Ae.clearTimeout(t.v),t.v=null)}function bL(t,e){var n=null;if(t.g==e){ng(t),LI(t),t.g=null;var r=2}else if(FE(t.i,e))n=e.D,cL(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=by(),In(r,new Q2(r,n)),Oy(t)}else wL(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&P8(t,e)||r==2&&$I(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ya(t,5);break;case 4:ya(t,10);break;case 3:ya(t,6);break;default:ya(t,2)}}}function SL(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ya(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Sn(t.jb,t);n||(n=new Ba("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||Zm(n,"https"),Ay(n)),b8(n.toString(),r)}else qn(2);t.G=0,t.j&&t.j.va(e),IL(t),vL(t)}me.jb=function(t){t?(this.h.info("Successfully pinged google.com"),qn(2)):(this.h.info("Failed to ping google.com"),qn(1))};function IL(t){t.G=0,t.I=-1,t.j&&((dL(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,pI(t.l),t.l.length=0),t.j.ua())}function TL(t,e,n){let r=c8(n);if(r.i!="")e&&eg(r,e+"."+r.i),tg(r,r.m);else{const i=Ae.location;r=d8(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&mI(t.aa,function(i,s){ft(r,s,i)}),e=t.D,n=t.sa,e&&n&&ft(r,e,n),ft(r,"VER",t.ma),Ef(t,r),r}function AL(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Ut(new _f({ib:!0})):new Ut(t.qa),e.L=t.H,e}function CL(){}me=CL.prototype;me.xa=function(){};me.wa=function(){};me.va=function(){};me.ua=function(){};me.Oa=function(){};function rg(){if(Al&&!(10<=Number(V6)))throw Error("Environmental error: no available transport.")}rg.prototype.g=function(t,e){return new xr(t,e)};function xr(t,e){un.call(this),this.g=new yL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ym(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ym(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ic(this)}Cn(xr,un);xr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),bI(Sn(t.hb,t,e))),qn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=TL(t,null,t.W),Oy(t)};xr.prototype.close=function(){NI(this.g)};xr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Pw(this.g,e)}else this.v?(e={},e.__data__=EI(t),Pw(this.g,e)):Pw(this.g,t)};xr.prototype.M=function(){this.g.j=null,delete this.j,NI(this.g),delete this.g,xr.Z.M.call(this)};function RL(t){AI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Cn(RL,AI);function PL(){CI.call(this),this.status=1}Cn(PL,CI);function ic(t){this.g=t}Cn(ic,CL);ic.prototype.xa=function(){In(this.g,"a")};ic.prototype.wa=function(t){In(this.g,new RL(t))};ic.prototype.va=function(t){In(this.g,new PL)};ic.prototype.ua=function(){In(this.g,"b")};rg.prototype.createWebChannel=rg.prototype.g;xr.prototype.send=xr.prototype.u;xr.prototype.open=xr.prototype.m;xr.prototype.close=xr.prototype.close;Sy.NO_ERROR=0;Sy.TIMEOUT=8;Sy.HTTP_ERROR=6;Y2.COMPLETE="complete";X2.EventType=gf;gf.OPEN="a";gf.CLOSE="b";gf.ERROR="c";gf.MESSAGE="d";un.prototype.listen=un.prototype.N;Ut.prototype.listenOnce=Ut.prototype.O;Ut.prototype.getLastError=Ut.prototype.La;Ut.prototype.getLastErrorCode=Ut.prototype.Da;Ut.prototype.getStatus=Ut.prototype.ba;Ut.prototype.getResponseJson=Ut.prototype.Qa;Ut.prototype.getResponseText=Ut.prototype.ga;Ut.prototype.send=Ut.prototype.ea;var O8=function(){return new rg},k8=function(){return by()},Ow=Sy,x8=Y2,D8=du,mP={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},N8=_f,Np=X2,$8=Ut;const gP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc="9.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new ec("@firebase/firestore");function UE(){return Io.logLevel}function L8(t){Io.setLogLevel(t)}function X(t,...e){if(Io.logLevel<=je.DEBUG){const n=e.map(MI);Io.debug(`Firestore (${sc}): ${t}`,...n)}}function xt(t,...e){if(Io.logLevel<=je.ERROR){const n=e.map(MI);Io.error(`Firestore (${sc}): ${t}`,...n)}}function Cl(t,...e){if(Io.logLevel<=je.WARN){const n=e.map(MI);Io.warn(`Firestore (${sc}): ${t}`,...n)}}function MI(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: `+t;throw xt(e),new Error(e)}function Ie(t,e){t||ge()}function M8(t,e){t||ge()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class U8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B8{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new on;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new on,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new on)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new OL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new en(e)}}class j8{constructor(e,n,r){this.type="FirstParty",this.user=en.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class V8{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new j8(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z8{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.p=n.token,new W8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=q8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Rl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function xL(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new gt(0,0))}static max(){return new Se(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ih.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ih?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends Ih{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const H8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Ih{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return H8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ve.fromString(e))}static fromName(e){return new ie(Ve.fromString(e).popFirst(5))}static empty(){return new ie(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function BE(t){return t.fields.find(e=>e.kind===2)}function ra(t){return t.fields.filter(e=>e.kind!==2)}DL.UNKNOWN_ID=-1;class G8{constructor(e,n){this.fieldPath=e,this.kind=n}}class ig{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ig(0,Dr.min())}}function NL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Dr(i,ie.empty(),e)}function $L(t){return new Dr(t.readTime,t.key,-1)}class Dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dr(Se.min(),ie.empty(),-1)}static max(){return new Dr(Se.max(),ie.empty(),-1)}}function FI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ML{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==LL)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.T=new on,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{n.error?this.T.reject(new Ld(e,n.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=UI(r.target.error);this.T.reject(new Ld(e,i))}}static open(e,n,r,i){try{return new ky(n,e.transaction(i,r))}catch(s){throw new Ld(n,s)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Q8(n)}}class ai{constructor(e,n,r){this.name=e,this.version=n,this.P=r,ai.v(ct())===12.2&&xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),aa(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!mh())return!1;if(ai.S())return!0;const e=ct(),n=ai.v(e),r=0<n&&n<10,i=ai.D(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static S(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.C)==="YES"}static N(e,n){return e.store(n)}static v(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async k(e){return this.db||(X("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Ld(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Y(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Y(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ld(e,o))},i.onupgradeneeded=s=>{X("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.P.M(o,i.transaction,s.oldVersion,this.version).next(()=>{X("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.O&&(this.db.onversionchange=n=>this.O(n)),this.db}F(e){this.O=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=ky.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.R(),l)).catch(l=>(a.abort(l),M.reject(l))).toPromise();return u.catch(()=>{}),await a.A,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(X("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class K8{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return aa(this.$.delete())}}class Ld extends Y{constructor(e,n){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function zo(t){return t.name==="IndexedDbTransactionError"}class Q8{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),aa(r)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),aa(this.store.add(e))}get(e){return aa(this.store.get(e)).next(n=>(n===void 0&&(n=null),X("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),aa(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),aa(this.store.count())}K(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new M((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}W(e,n){X("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Y(e){const n=this.cursor({});return new M((r,i)=>{n.onerror=s=>{const o=UI(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new K8(a),l=n(a.primaryKey,a.value,u);if(l instanceof M){const c=l.catch(d=>(u.done(),M.reject(d)));r.push(c)}u.isDone?i():u.U===null?a.continue():a.continue(u.U)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function aa(t){return new M((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=UI(r.target.error);n(i)}})}let yP=!1;function UI(t){const e=ai.v(ct());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yP||(yP=!0,setTimeout(()=>{throw r},0)),r}}return t}class Y8{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}Z(e){X("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{X("IndexBackiller",`Documents written: ${await this.X.tt()}`)}catch(n){zo(n)?X("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Wo(n)}await this.Z(1)})}}class X8{constructor(e,n){this.localStore=e,this.persistence=n}async tt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.et(n,e))}et(e,n){const r=new Set;let i=n,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return X("IndexBackiller",`Processing collection: ${o}`),this.nt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}nt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.st(i,s)).next(a=>(X("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}st(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=$L(s);FI(o,r)>0&&(r=o)}),new Dr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.ot=-1;class Rt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $p(this.root,e,this.comparator,!1)}getReverseIterator(){return new $p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $p(this.root,e,this.comparator,!0)}}class $p{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:_n.RED,this.left=i!=null?i:_n.EMPTY,this.right=s!=null?s:_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _n(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _n(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _P(this.data.getIterator())}getIteratorFrom(e){return new _P(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class _P{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $u(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Je(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ht(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Z8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=Z8.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ja(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function UL(t){const e=t.mapValue.fields.__previous_value__;return BI(e)?UL(e):e}function Th(t){const e=To(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class vs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return t==null}function Ah(t){return t===0&&1/t==-1/0}function BL(t){return typeof t=="number"&&Number.isInteger(t)&&!Ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},um={nullValue:"NULL_VALUE"};function Va(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?BI(t)?4:jL(t)?9007199254740991:10:ge()}function Vi(t,e){if(t===e)return!0;const n=Va(t);if(n!==Va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Th(t).isEqual(Th(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=To(r.timestampValue),o=To(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ja(r.bytesValue).isEqual(ja(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Tt(r.geoPointValue.latitude)===Tt(i.geoPointValue.latitude)&&Tt(r.geoPointValue.longitude)===Tt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Tt(r.integerValue)===Tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Tt(r.doubleValue),o=Tt(i.doubleValue);return s===o?Ah(s)===Ah(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(vP(s)!==vP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Vi(s[a],o[a])))return!1;return!0}(t,e);default:return ge()}}function Ch(t,e){return(t.values||[]).find(n=>Vi(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=Va(t),r=Va(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Tt(i.integerValue||i.doubleValue),a=Tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return wP(t.timestampValue,e.timestampValue);case 4:return wP(Th(t),Th(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ja(i),a=ja(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=Re(o[u],a[u]);if(l!==0)return l}return Re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Re(Tt(i.latitude),Tt(s.latitude));return o!==0?o:Re(Tt(i.longitude),Tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Ao(o[u],a[u]);if(l)return l}return Re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Xs.mapValue&&s===Xs.mapValue)return 0;if(i===Xs.mapValue)return 1;if(s===Xs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=Re(a[c],l[c]);if(d!==0)return d;const h=Ao(o[a[c]],u[l[c]]);if(h!==0)return h}return Re(a.length,l.length)}(t.mapValue,e.mapValue);default:throw ge()}}function wP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=To(t),r=To(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function ll(t){return jE(t)}function jE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=To(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ja(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ie.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jE(r.fields[a])}`;return s+"}"}(t.mapValue):ge();var e,n}function Wa(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function VE(t){return!!t&&"integerValue"in t}function Rh(t){return!!t&&"arrayValue"in t}function EP(t){return!!t&&"nullValue"in t}function bP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lm(t){return!!t&&"mapValue"in t}function Md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Md(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function tQ(t){return"nullValue"in t?um:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Wa(vs.empty(),ie.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ge()}function nQ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Wa(vs.empty(),ie.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Xs:ge()}function SP(t,e){const n=Ao(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function IP(t,e){const n=Ao(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Md(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(Md(this.value))}}function VL(t){const e=[];return hu(t.fields,(n,r)=>{const i=new Dt([n]);if(lm(r)){const s=VL(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new nt(e,0,Se.min(),Se.min(),wn.empty(),0)}static newFoundDocument(e,n,r){return new nt(e,1,n,Se.min(),r,0)}static newNoDocument(e,n){return new nt(e,2,n,Se.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,Se.min(),wn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function TP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new rQ(t,e,n,r,i,s,o)}function za(t){const e=ae(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ll(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ll(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ll(r)).join(",")),e.ut=n}return e.ut}function iQ(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${ll(r.value)}`;var r}).join(", ")}]`),bf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ll(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ll(n)).join(",")),`Target(${e})`}function Sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!hQ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Vi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PP(t.startAt,e.startAt)&&PP(t.endAt,e.endAt)}function sg(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function og(t,e){return t.filters.filter(n=>n instanceof En&&n.field.isEqual(e))}function AP(t,e,n){let r=um,i=!0;for(const s of og(t,e)){let o=um,a=!0;switch(s.op){case"<":case"<=":o=tQ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=um}SP({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];SP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function CP(t,e,n){let r=Xs,i=!0;for(const s of og(t,e)){let o=Xs,a=!0;switch(s.op){case">=":case">":o=nQ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Xs}IP({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];IP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}class En extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,r):new sQ(e,n,r):n==="array-contains"?new uQ(e,r):n==="in"?new lQ(e,r):n==="not-in"?new cQ(e,r):n==="array-contains-any"?new dQ(e,r):new En(e,n,r)}static ct(e,n,r){return n==="in"?new oQ(e,r):new aQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(Ao(n,this.value)):n!==null&&Va(this.value)===Va(n)&&this.at(Ao(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sQ extends En{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.at(n)}}class oQ extends En{constructor(e,n){super(e,"in",n),this.keys=WL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aQ extends En{constructor(e,n){super(e,"not-in",n),this.keys=WL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class uQ extends En{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rh(n)&&Ch(n.arrayValue,this.value)}}class lQ extends En{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ch(this.value.arrayValue,n)}}class cQ extends En{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ch(this.value.arrayValue,n)}}class dQ extends En{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ch(this.value.arrayValue,r))}}class Co{constructor(e,n){this.position=e,this.inclusive=n}}class cl{constructor(e,n="asc"){this.field=e,this.dir=n}}function hQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function RP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}}function zL(t,e,n,r,i,s,o,a){return new Cs(t,e,n,r,i,s,o,a)}function oc(t){return new Cs(t)}function OP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function VI(t){for(const e of t.filters)if(e.ht())return e.field;return null}function WI(t){return t.collectionGroup!==null}function Pl(t){const e=ae(t);if(e.lt===null){e.lt=[];const n=VI(e),r=jI(e);if(n!==null&&r===null)n.isKeyField()||e.lt.push(new cl(n)),e.lt.push(new cl(Dt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new cl(Dt.keyField(),s))}}}return e.lt}function gr(t){const e=ae(t);if(!e.ft)if(e.limitType==="F")e.ft=TP(e.path,e.collectionGroup,Pl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Pl(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new cl(s.field,o))}const r=e.endAt?new Co(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Co(e.startAt.position,e.startAt.inclusive):null;e.ft=TP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function ag(t,e,n){return new Cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function If(t,e){return Sf(gr(t),gr(e))&&t.limitType===e.limitType}function qL(t){return`${za(gr(t))}|lt:${t.limitType}`}function WE(t){return`Query(target=${iQ(gr(t))}; limitType=${t.limitType})`}function zI(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ie.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=RP(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Pl(n),r)||n.endAt&&!function(i,s,o){const a=RP(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Pl(n),r))}(t,e)}function HL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GL(t){return(e,n)=>{let r=!1;for(const i of Pl(t)){const s=fQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fQ(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?Ao(a,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function QL(t){return{integerValue:""+t}}function YL(t,e){return BL(e)?QL(e):KL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this._=void 0}}function pQ(t,e,n){return t instanceof Ol?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof qa?JL(t,e):t instanceof Ha?ZL(t,e):function(r,i){const s=XL(r,i),o=kP(s)+kP(r._t);return VE(s)&&VE(r._t)?QL(o):KL(r.wt,o)}(t,e)}function mQ(t,e,n){return t instanceof qa?JL(t,e):t instanceof Ha?ZL(t,e):n}function XL(t,e){return t instanceof kl?VE(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ol extends xy{}class qa extends xy{constructor(e){super(),this.elements=e}}function JL(t,e){const n=eM(e);for(const r of t.elements)n.some(i=>Vi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ha extends xy{constructor(e){super(),this.elements=e}}function ZL(t,e){let n=eM(e);for(const r of t.elements)n=n.filter(i=>!Vi(i,r));return{arrayValue:{values:n}}}class kl extends xy{constructor(e,n){super(),this.wt=e,this._t=n}}function kP(t){return Tt(t.integerValue||t.doubleValue)}function eM(t){return Rh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.field=e,this.transform=n}}function gQ(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof qa&&r instanceof qa||n instanceof Ha&&r instanceof Ha?Rl(n.elements,r.elements,Vi):n instanceof kl&&r instanceof kl?Vi(n._t,r._t):n instanceof Ol&&r instanceof Ol}(t.transform,e.transform)}class yQ{constructor(e,n){this.version=e,this.transformResults=n}}class wt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wt}static exists(e){return new wt(void 0,e)}static updateTime(e){return new wt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dy{}function tM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uc(t.key,wt.none()):new ac(t.key,t.data,wt.none());{const n=t.data,r=wn.empty();let i=new Je(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Rs(t.key,r,new Pr(i.toArray()),wt.none())}}function vQ(t,e,n){t instanceof ac?function(r,i,s){const o=r.value.clone(),a=DP(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(r,i,s){if(!cm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=DP(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(nM(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fd(t,e,n,r){return t instanceof ac?function(i,s,o,a){if(!cm(i.precondition,s))return o;const u=i.value.clone(),l=NP(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rs?function(i,s,o,a){if(!cm(i.precondition,s))return o;const u=NP(i.fieldTransforms,a,s),l=s.data;return l.setAll(nM(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return cm(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function _Q(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=XL(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function xP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Rl(n,r,(i,s)=>gQ(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ac extends Dy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rs extends Dy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DP(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mQ(o,a,n[i]))}return r}function NP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,pQ(s,o,e))}return r}class uc extends Dy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qI extends Dy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Be;function rM(t){switch(t){default:return ge();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function iM(t){if(t===void 0)return xt("GRPC error has no .code"),j.UNKNOWN;switch(t){case Lt.OK:return j.OK;case Lt.CANCELLED:return j.CANCELLED;case Lt.UNKNOWN:return j.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return j.INTERNAL;case Lt.UNAVAILABLE:return j.UNAVAILABLE;case Lt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Lt.NOT_FOUND:return j.NOT_FOUND;case Lt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Lt.ABORTED:return j.ABORTED;case Lt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Lt.DATA_LOSS:return j.DATA_LOSS;default:return ge()}}(Be=Lt||(Lt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=new Rt(ie.comparator);function ur(){return EQ}const sM=new Rt(ie.comparator);function wd(...t){let e=sM;for(const n of t)e=e.insert(n.key,n);return e}function oM(t){let e=sM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return Ud()}function aM(){return Ud()}function Ud(){return new qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const bQ=new Rt(ie.comparator),SQ=new Je(ie.comparator);function Pe(...t){let e=SQ;for(const n of t)e=e.add(n);return e}const IQ=new Je(Re);function Ny(){return IQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Cf.createSynthesizedTargetChangeForCurrentChange(e,n)),new Af(Se.min(),r,Ny(),ur(),Pe())}}class Cf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Cf(Ht.EMPTY_BYTE_STRING,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class uM{constructor(e,n){this.targetId=e,this.It=n}}class lM{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $P{constructor(){this.Tt=0,this.Et=MP(),this.At=Ht.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Pe(),n=Pe(),r=Pe();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Cf(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=MP()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class TQ{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=ur(),this.Bt=LP(),this.Lt=new Je(Re)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const s=i.target;if(sg(s))if(r===0){const o=new ie(s.path);this.Kt(n,o,nt.newNoDocument(o,Se.min()))}else Ie(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&sg(a.target)){const u=new ie(a.target.path);this.$t.get(u)!==null||this.Xt(o,u)||this.Kt(o,u,nt.newNoDocument(u,e))}s.vt&&(n.set(o,s.St()),s.Dt())}});let r=Pe();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ht(u);return!l||l.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new Af(e,n,this.Lt,this.$t,r);return this.$t=ur(),this.Bt=LP(),this.Lt=new Je(Re),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new $P,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Je(Re),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new $P),this.Ot.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Ot.getRemoteKeysForTarget(e).has(n)}}function LP(){return new Rt(ie.comparator)}function MP(){return new Rt(ie.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),CQ=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class RQ{constructor(e,n){this.databaseId=e,this.dt=n}}function Ph(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cM(t,e){return t.dt?e.toBase64():e.toUint8Array()}function PQ(t,e){return Ph(t,e.toTimestamp())}function an(t){return Ie(!!t),Se.fromTimestamp(function(e){const n=To(e);return new gt(n.seconds,n.nanos)}(t))}function HI(t,e){return function(n){return new Ve(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function dM(t){const e=Ve.fromString(t);return Ie(_M(e)),e}function Oh(t,e){return HI(t.databaseId,e.path)}function Li(t,e){const n=dM(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(fM(n))}function zE(t,e){return HI(t.databaseId,e)}function hM(t){const e=dM(t);return e.length===4?Ve.emptyPath():fM(e)}function kh(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fM(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FP(t,e,n){return{name:Oh(t,e),fields:n.value.mapValue.fields}}function pM(t,e,n){const r=Li(t,e.name),i=an(e.updateTime),s=new wn({mapValue:{fields:e.fields}}),o=nt.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function OQ(t,e){return"found"in e?function(n,r){Ie(!!r.found),r.found.name,r.found.updateTime;const i=Li(n,r.found.name),s=an(r.found.updateTime),o=new wn({mapValue:{fields:r.found.fields}});return nt.newFoundDocument(i,s,o)}(t,e):"missing"in e?function(n,r){Ie(!!r.missing),Ie(!!r.readTime);const i=Li(n,r.missing),s=an(r.readTime);return nt.newNoDocument(i,s)}(t,e):ge()}function kQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.dt?(Ie(l===void 0||typeof l=="string"),Ht.fromBase64String(l||"")):(Ie(l===void 0||l instanceof Uint8Array),Ht.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=u.code===void 0?j.UNKNOWN:iM(u.code);return new Y(l,u.message||"")}(o);n=new lM(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Li(t,r.document.name),s=an(r.document.updateTime),o=new wn({mapValue:{fields:r.document.fields}}),a=nt.newFoundDocument(i,s,o),u=r.targetIds||[],l=r.removedTargetIds||[];n=new dm(u,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Li(t,r.document),s=r.readTime?an(r.readTime):Se.min(),o=nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Li(t,r.document),s=r.removedTargetIds||[];n=new dm([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new wQ(i),o=r.targetId;n=new uM(o,s)}}return n}function xh(t,e){let n;if(e instanceof ac)n={update:FP(t,e.key,e.value)};else if(e instanceof uc)n={delete:Oh(t,e.key)};else if(e instanceof Rs)n={update:FP(t,e.key,e.data),updateMask:FQ(e.fieldMask)};else{if(!(e instanceof qI))return ge();n={verify:Oh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ol)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ha)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof kl)return{fieldPath:s.field.canonicalString(),increment:o._t};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:PQ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(t,e.precondition)),n}function qE(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?wt.updateTime(an(i.updateTime)):i.exists!==void 0?wt.exists(i.exists):wt.none()}(e.currentDocument):wt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)Ie(o.setToServerValue==="REQUEST_TIME"),a=new Ol;else if("appendMissingElements"in o){const l=o.appendMissingElements.values||[];a=new qa(l)}else if("removeAllFromArray"in o){const l=o.removeAllFromArray.values||[];a=new Ha(l)}else"increment"in o?a=new kl(s,o.increment):ge();const u=Dt.fromServerFormat(o.fieldPath);return new Tf(u,a)}(t,i)):[];if(e.update){e.update.name;const i=Li(t,e.update.name),s=new wn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const u=a.fieldPaths||[];return new Pr(u.map(l=>Dt.fromServerFormat(l)))}(e.updateMask);return new Rs(i,s,o,n,r)}return new ac(i,s,n,r)}if(e.delete){const i=Li(t,e.delete);return new uc(i,n)}if(e.verify){const i=Li(t,e.verify);return new qI(i,n)}return ge()}function xQ(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?an(r.updateTime):an(i);return s.isEqual(Se.min())&&(s=an(i)),new yQ(s,r.transformResults||[])}(n,e))):[]}function mM(t,e){return{documents:[zE(t,e.path)]}}function gM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=zE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length===0)return;const l=u.map(c=>function(d){if(d.op==="=="){if(bP(d.value))return{unaryFilter:{field:Lu(d.field),op:"IS_NAN"}};if(EP(d.value))return{unaryFilter:{field:Lu(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(bP(d.value))return{unaryFilter:{field:Lu(d.field),op:"IS_NOT_NAN"}};if(EP(d.value))return{unaryFilter:{field:Lu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(d.field),op:$Q(d.op),value:d.value}}}(c));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(c){return{field:Lu(c.field),direction:NQ(c.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(u,l){return u.dt||bf(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function yM(t){let e=hM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=vM(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new cl(tl(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,bf(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(c){const d=!!c.before,h=c.values||[];return new Co(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const d=!c.before,h=c.values||[];return new Co(h,d)}(n.endAt)),zL(e,i,o,s,a,"F",u,l)}function DQ(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function vM(t){return t?t.unaryFilter!==void 0?[MQ(t)]:t.fieldFilter!==void 0?[LQ(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>vM(e)).reduce((e,n)=>e.concat(n)):ge():[]}function NQ(t){return AQ[t]}function $Q(t){return CQ[t]}function Lu(t){return{fieldPath:t.canonicalString()}}function tl(t){return Dt.fromServerFormat(t.fieldPath)}function LQ(t){return En.create(tl(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(t.fieldFilter.op),t.fieldFilter.value)}function MQ(t){switch(t.unaryFilter.op){case"IS_NAN":const e=tl(t.unaryFilter.field);return En.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=tl(t.unaryFilter.field);return En.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=tl(t.unaryFilter.field);return En.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=tl(t.unaryFilter.field);return En.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}function FQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _M(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UP(e)),e=UQ(t.get(n),e);return UP(e)}function UQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function UP(t){return t+""}function Ri(t){const e=t.length;if(Ie(e>=2),e===2)return Ie(t.charAt(0)===""&&t.charAt(1)===""),Ve.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ge(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ge()}s=o+2}return new Ve(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t,e){return[t,Qn(e)]}function wM(t,e,n){return[t,Qn(e),n]}const BQ={},jQ=["prefixPath","collectionGroup","readTime","documentId"],VQ=["prefixPath","collectionGroup","documentId"],WQ=["collectionGroup","readTime","prefixPath","documentId"],zQ=["canonicalId","targetId"],qQ=["targetId","path"],HQ=["path","targetId"],GQ=["collectionId","parent"],KQ=["indexId","uid"],QQ=["uid","sequenceNumber"],YQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XQ=["indexId","uid","orderedDocumentKey"],JQ=["userId","collectionPath","documentId"],ZQ=["userId","collectionPath","largestBatchId"],e7=["userId","collectionGroup","largestBatchId"],EM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],t7=[...EM,"documentOverlays"],bM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SM=bM,n7=[...SM,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends ML{constructor(e,n){super(),this.ee=e,this.currentSequenceNumber=n}}function hn(t,e){const n=ae(t);return ai.N(n.ee,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=tM(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(n,r)=>xP(n,r))&&Rl(this.baseMutations,e.baseMutations,(n,r)=>xP(n,r))}}class KI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=bQ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new KI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=Ht.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.ne=e}}function r7(t,e){let n;if(e.document)n=pM(t.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ie.fromSegments(e.noDocument.path),i=Ka(e.noDocument.readTime);n=nt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge();{const r=ie.fromSegments(e.unknownDocument.path),i=Ka(e.unknownDocument.version);n=nt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new gt(r[0],r[1]);return Se.fromTimestamp(i)}(e.readTime)),n}function jP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ug(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:Oh(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Ph(i,s.version.toTimestamp())}}(t.ne,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ga(e.version)};else{if(!e.isUnknownDocument())return ge();r.unknownDocument={path:n.path.toArray(),version:Ga(e.version)}}return r}function ug(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ga(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ka(t){const e=new gt(t.seconds,t.nanoseconds);return Se.fromTimestamp(e)}function ua(t,e){const n=(e.baseMutations||[]).map(s=>qE(t.ne,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>qE(t.ne,s)),i=gt.fromMillis(e.localWriteTimeMs);return new GI(e.batchId,i,n,r)}function Ed(t){const e=Ka(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ka(t.lastLimboFreeSnapshotVersion):Se.min();let r;var i;return t.query.documents!==void 0?(Ie((i=t.query).documents.length===1),r=gr(oc(hM(i.documents[0])))):r=function(s){return gr(yM(s))}(t.query),new fo(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Ht.fromBase64String(t.resumeToken))}function TM(t,e){const n=Ga(e.snapshotVersion),r=Ga(e.lastLimboFreeSnapshotVersion);let i;i=sg(e.target)?mM(t.ne,e.target):gM(t.ne,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:za(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function YI(t){const e=yM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ag(e,e.limit,"L"):e}function kw(t,e){return new QI(e.largestBatchId,qE(t.ne,e.overlayMutation))}function VP(t,e){const n=e.path.lastSegment();return[t,Qn(e.path.popLast()),n]}function WP(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Ga(r.readTime),documentKey:Qn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{getBundleMetadata(e,n){return zP(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ka(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return zP(e).put({bundleId:(r=n).id,createTime:Ga(an(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return qP(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:YI(i.bundledQuery),readTime:Ka(i.readTime)};var i})}saveNamedQuery(e,n){return qP(e).put(function(r){return{name:r.name,readTime:Ga(an(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function zP(t){return hn(t,"bundles")}function qP(t){return hn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.wt=e,this.userId=n}static se(e,n){const r=n.uid||"";return new $y(e,r)}getOverlay(e,n){return Yc(e).get(VP(this.userId,n)).next(r=>r?kw(this.wt,r):null)}getOverlays(e,n){const r=Ci();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new QI(n,o);i.push(this.ie(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Qn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Yc(e).W("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ci(),s=Qn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Yc(e).K("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=kw(this.wt,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Ci();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Yc(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,c)=>{const d=kw(this.wt,l);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}ie(e,n){return Yc(e).put(function(r,i,s){const[o,a,u]=VP(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:xh(r.ne,s.mutation)}}(this.wt,this.userId,n))}}function Yc(t){return hn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.ce(n,13):(this.ce(n,15),Ah(r)?n.ae(0):n.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(n,20),typeof r=="string"?n.he(r):(n.he(`${r.seconds||""}`),n.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(ja(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(n,45),n.ae(r.latitude||0),n.ae(r.longitude||0)}else"mapValue"in e?jL(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):ge()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const r=e.fields||{};this.ce(n,55);for(const i of Object.keys(r))this.le(i,n),this.oe(r[i],n)}me(e,n){const r=e.values||[];this.ce(n,50);for(const i of r)this.oe(i,n)}_e(e,n){this.ce(n,37),ie.fromName(e).path.forEach(r=>{this.ce(n,60),this.ge(r,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}la.ye=new la;function s7(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function HP(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=s7(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class o7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ie(r.value),r=n.next();this.Te()}Ee(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ae(r.value),r=n.next();this.Re()}be(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=n.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=n.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const n=this.Ve(e),r=HP(n);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}De(e){const n=this.Ve(e),r=HP(n);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ie(e){const n=255&e;n===0?(this.xe(0),this.xe(255)):n===255?(this.xe(255),this.xe(0)):this.xe(n)}Ae(e){const n=255&e;n===0?(this.ke(0),this.ke(255)):n===255?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class a7{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class u7{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class Xc{constructor(){this.Oe=new o7,this.Fe=new a7(this.Oe),this.$e=new u7(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return e===0?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ca(this.indexId,this.documentKey,this.arrayValue,r)}}function Xo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=GP(t.arrayValue,e.arrayValue),n!==0?n:(n=GP(t.directionalValue,e.directionalValue),n!==0?n:ie.comparator(t.documentKey,e.documentKey)))}function GP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const n of e.filters){const r=n;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const n=BE(e);if(n!==void 0&&!this.Qe(n))return!1;const r=ra(e);let i=0,s=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(this.Ke!==void 0){const o=r[i];if(!this.je(this.Ke,o)||!this.We(this.Ue[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],o))return!1}return!0}Qe(e){for(const n of this.qe)if(this.je(n,e))return!0;return!1}je(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(){this.ze=new XI}addToCollectionParentIndex(e,n){return this.ze.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Dr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class XI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Uint8Array(0);class d7{constructor(e,n){this.user=e,this.databaseId=n,this.He=new XI,this.Je=new qo(r=>za(r),(r,i)=>Sf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.He.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.He.add(n)});const s={collectionId:r,parent:Qn(i)};return KP(e).put(s)}return M.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[xL(n),""],!1,!0);return KP(e).K(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ri(o.parent))}return r})}addFieldIndex(e,n){const r=Mp(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Zc(e);return s.next(a=>{o.put(WP(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Mp(e),i=Zc(e),s=Jc(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Jc(e);let i=!0;const s=new Map;return M.forEach(this.Ye(n),o=>this.Xe(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Pe();const a=[];return M.forEach(s,(u,l)=>{var c;X("IndexedDbIndexManager",`Using index ${c=u,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`} to execute ${za(n)}`);const d=function(w,b){const T=BE(b);if(T===void 0)return null;for(const C of og(w,T.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(l,u),h=function(w,b){const T=new Map;for(const C of ra(b))for(const I of og(w,C.fieldPath))switch(I.op){case"==":case"in":T.set(C.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return T.set(C.fieldPath.canonicalString(),I.value),Array.from(T.values())}return null}(l,u),m=function(w,b){const T=[];let C=!0;for(const I of ra(b)){const A=I.kind===0?AP(w,I.fieldPath,w.startAt):CP(w,I.fieldPath,w.startAt);T.push(A.value),C&&(C=A.inclusive)}return new Co(T,C)}(l,u),g=function(w,b){const T=[];let C=!0;for(const I of ra(b)){const A=I.kind===0?CP(w,I.fieldPath,w.endAt):AP(w,I.fieldPath,w.endAt);T.push(A.value),C&&(C=A.inclusive)}return new Co(T,C)}(l,u),_=this.Ze(u,l,m),S=this.Ze(u,l,g),v=this.tn(u,l,h),y=this.en(u.indexId,d,_,m.inclusive,S,g.inclusive,v);return M.forEach(y,w=>r.j(w,n.limit).next(b=>{b.forEach(T=>{const C=ie.fromSegments(T.documentKey);o.has(C)||(o=o.add(C),a.push(C))})}))}).next(()=>a)}return M.resolve(null)})}Ye(e){let n=this.Je.get(e);return n||(n=[e],this.Je.set(e,n),n)}en(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),c=[];for(let d=0;d<u;++d){const h=n?this.nn(n[d/l]):Lp,m=this.sn(e,h,r[d%l],i),g=this.rn(e,h,s[d%l],o),_=a.map(S=>this.sn(e,h,S,!0));c.push(...this.createRange(m,g,_))}return c}sn(e,n,r,i){const s=new ca(e,ie.empty(),n,r);return i?s:s.Le()}rn(e,n,r,i){const s=new ca(e,ie.empty(),n,r);return i?s.Le():s}Xe(e,n){const r=new l7(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.Ge(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;return M.forEach(this.Ye(n),i=>this.Xe(e,i).next(s=>{s?r!==0&&s.fields.length<function(o){let a=new Je(Dt.comparator),u=!1;for(const l of o.filters){const c=l;c.field.isKeyField()||(c.op==="array-contains"||c.op==="array-contains-any"?u=!0:a=a.add(c.field))}for(const l of o.orderBy)l.field.isKeyField()||(a=a.add(l.field));return a.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,n){const r=new Xc;for(const i of ra(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Be(i.kind);la.ye.re(s,o)}return r.Me()}nn(e){const n=new Xc;return la.ye.re(e,n.Be(0)),n.Me()}un(e,n){const r=new Xc;return la.ye.re(Wa(this.databaseId,n),r.Be(function(i){const s=ra(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Me()}tn(e,n,r){if(r===null)return[];let i=[];i.push(new Xc);let s=0;for(const o of ra(e)){const a=r[s++];for(const u of i)if(this.cn(n,o.fieldPath)&&Rh(a))i=this.an(i,o,a);else{const l=u.Be(o.kind);la.ye.re(a,l)}}return this.hn(i)}Ze(e,n,r){return this.tn(e,n,r.position)}hn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Me();return n}an(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Xc;u.seed(a.Me()),la.ye.re(o,u.Be(n.kind)),s.push(u)}return s}cn(e,n){return!!e.filters.find(r=>r instanceof En&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Mp(e),i=Zc(e);return(n?r.K("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.K()).next(s=>{const o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(l,c){const d=c?new ig(c.sequenceNumber,new Dr(Ka(c.readTime),new ie(Ri(c.documentKey)),c.largestBatchId)):ig.empty(),h=l.fields.map(([m,g])=>new G8(Dt.fromServerFormat(m),g));return new DL(l.indexId,l.collectionGroup,h,d)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Re(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Mp(e),s=Zc(e);return this.ln(e).next(o=>i.K("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>M.forEach(a,u=>s.put(WP(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return M.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,u=>this.fn(e,i,u).next(l=>{const c=this.dn(s,u);return l.isEqual(c)?M.resolve():this._n(e,s,u,l,c)}))))})}wn(e,n,r,i){return Jc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,n.key),documentKey:n.key.path.toArray()})}mn(e,n,r,i){return Jc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,n.key),n.key.path.toArray()])}fn(e,n,r){const i=Jc(e);let s=new Je(Xo);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,n)])},(o,a)=>{s=s.add(new ca(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}dn(e,n){let r=new Je(Xo);const i=this.on(n,e);if(i==null)return r;const s=BE(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Rh(o))for(const a of o.arrayValue.values||[])r=r.add(new ca(n.indexId,e.key,this.nn(a),i))}else r=r.add(new ca(n.indexId,e.key,Lp,i));return r}_n(e,n,r,i,s){X("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,u,l,c,d){const h=a.getIterator(),m=u.getIterator();let g=$u(h),_=$u(m);for(;g||_;){let S=!1,v=!1;if(g&&_){const y=l(g,_);y<0?v=!0:y>0&&(S=!0)}else g!=null?v=!0:S=!0;S?(c(_),_=$u(m)):v?(d(g),g=$u(h)):(g=$u(h),_=$u(m))}}(i,s,Xo,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.mn(e,n,r,a))}),M.waitFor(o)}ln(e){let n=1;return Zc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Xo(o,a)).filter((o,a,u)=>!a||Xo(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Xo(o,e),u=Xo(o,n);if(a===0)i[0]=e.Le();else if(a>0&&u<0)i.push(o),i.push(o.Le());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Lp,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Lp,[]]));return s}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(QP)}getMinOffset(e,n){return M.mapArray(this.Ye(n),r=>this.Xe(e,r).next(i=>i||ge())).next(QP)}}function KP(t){return hn(t,"collectionParents")}function Jc(t){return hn(t,"indexEntries")}function Mp(t){return hn(t,"indexConfiguration")}function Zc(t){return hn(t,"indexState")}function QP(t){Ie(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;FI(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.J({range:o},(c,d,h)=>(a++,h.delete()));s.push(u.next(()=>{Ie(a===1)}));const l=[];for(const c of n.mutations){const d=wM(e,c.key.path,n.batchId);s.push(i.delete(d)),l.push(c.key)}return M.waitFor(s).next(()=>l)}function lg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ge();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(41943040,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);class Ly{constructor(e,n,r,i){this.userId=e,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,n,r,i){Ie(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Ly(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Bu(e),o=Fs(e);return o.add({}).next(a=>{Ie(typeof a=="number");const u=new GI(a,n,r,i),l=function(h,m,g){const _=g.baseMutations.map(v=>xh(h.ne,v)),S=g.mutations.map(v=>xh(h.ne,v));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:_,mutations:S}}(this.wt,this.userId,u),c=[];let d=new Je((h,m)=>Re(h.canonicalString(),m.canonicalString()));for(const h of i){const m=wM(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(l)),c.push(s.put(m,BQ))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.gn[a]=u.keys()}),M.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return Fs(e).get(n).next(r=>r?(Ie(r.userId===this.userId),ua(this.wt,r)):null)}yn(e,n){return this.gn[n]?M.resolve(this.gn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.gn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Fs(e).J({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(Ie(a.batchId>=r),s=ua(this.wt,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fs(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).K("userMutationsIndex",n).next(r=>r.map(i=>ua(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=hm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Bu(e).J({range:i},(o,a,u)=>{const[l,c,d]=o,h=Ri(c);if(l===this.userId&&n.path.isEqual(h))return Fs(e).get(d).next(m=>{if(!m)throw ge();Ie(m.userId===this.userId),s.push(ua(this.wt,m))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(Re);const i=[];return n.forEach(s=>{const o=hm(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Bu(e).J({range:a},(l,c,d)=>{const[h,m,g]=l,_=Ri(m);h===this.userId&&s.path.isEqual(_)?r=r.add(g):d.done()});i.push(u)}),M.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=hm(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Je(Re);return Bu(e).J({range:o},(u,l,c)=>{const[d,h,m]=u,g=Ri(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(m)):c.done()}).next(()=>this.pn(e,a))}pn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Fs(e).get(s).next(o=>{if(o===null)throw ge();Ie(o.userId===this.userId),r.push(ua(this.wt,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return AM(e.ee,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.In(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Bu(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Ri(s[1]);i.push(u)}else a.done()}).next(()=>{Ie(i.length===0)})})}containsKey(e,n){return CM(e,this.userId,n)}Tn(e){return RM(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function CM(t,e,n){const r=hm(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Bu(t).J({range:s,H:!0},(a,u,l)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),l.done()}).next(()=>o)}function Fs(t){return hn(t,"mutations")}function Bu(t){return hn(t,"documentMutations")}function RM(t){return hn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Qa(0)}static Rn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n){this.referenceDelegate=e,this.wt=n}allocateTargetId(e){return this.bn(e).next(n=>{const r=new Qa(n.highestTargetId);return n.highestTargetId=r.next(),this.Pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(n=>Se.fromTimestamp(new gt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Pn(e,i)))}addTargetData(e,n){return this.vn(e,n).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(n,r),this.Pn(e,r))))}updateTargetData(e,n){return this.vn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Mu(e).delete(n.targetId)).next(()=>this.bn(e)).next(r=>(Ie(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Mu(e).J((o,a)=>{const u=Ed(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Mu(e).J((r,i)=>{const s=Ed(i);n(s)})}bn(e){return XP(e).get("targetGlobalKey").next(n=>(Ie(n!==null),n))}Pn(e,n){return XP(e).put("targetGlobalKey",n)}vn(e,n){return Mu(e).put(TM(this.wt,n))}Vn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=za(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Mu(e).J({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=Ed(a);Sf(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Hs(e);return n.forEach(o=>{const a=Qn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,n,r){const i=Hs(e);return M.forEach(n,s=>{const o=Qn(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Hs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Hs(e);let s=Pe();return i.J({range:r,H:!0},(o,a,u)=>{const l=Ri(o[1]),c=new ie(l);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Qn(n.path),i=IDBKeyRange.bound([r],[xL(r)],!1,!0);let s=0;return Hs(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}te(e,n){return Mu(e).get(n).next(r=>r?Ed(r):null)}}function Mu(t){return hn(t,"targets")}function XP(t){return hn(t,"targetGlobal")}function Hs(t){return hn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP([t,e],[n,r]){const i=Re(t,n);return i===0?Re(e,r):i}class f7{constructor(e){this.Sn=e,this.buffer=new Je(JP),this.Dn=0}Cn(){return++this.Dn}xn(e){const n=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();JP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Nn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return this.Nn!==null}kn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Nn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.kn(3e5)})}}class m7{constructor(e,n){this.Mn=e,this.params=n}calculateTargetCount(e,n){return this.Mn.On(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(ar.ot);const r=new f7(n);return this.Mn.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.Mn.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Mn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Mn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(YP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YP):this.$n(e,n))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,n){let r,i,s,o,a,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),UE()<=je.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${d} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new m7(r,i)}(this,n)}On(e){const n=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Bn(e){let n=0;return this.Fn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Fn(e,n){return this.Ln(e,(r,i)=>n(i))}addReference(e,n,r){return Fp(e,r)}removeReference(e,n,r){return Fp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Fp(e,n)}Un(e,n){return function(r,i){let s=!1;return RM(r).Y(o=>CM(r,o,i).next(a=>(a&&(s=!0),M.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Ln(e,(o,a)=>{if(a<=n){const u=this.Un(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Se.min()),Hs(e).delete([0,Qn(o.path)])))});i.push(u)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Fp(e,n)}Ln(e,n){const r=Hs(e);let i,s=ar.ot;return r.J({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==ar.ot&&n(new ie(Ri(i)),s),s=l,i=u):s=ar.ot}).next(()=>{s!==ar.ot&&n(new ie(Ri(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fp(t,e){return Hs(t).put(function(n,r){return{targetId:0,path:Qn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.changes=new qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Jo(e).put(r)}removeEntry(e,n,r){return Jo(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],ug(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.qn(e,r)))}getEntry(e,n){let r=nt.newInvalidDocument(n);return Jo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ed(n))},(i,s)=>{r=this.Kn(n,s)}).next(()=>r)}Gn(e,n){let r={size:0,document:nt.newInvalidDocument(n)};return Jo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ed(n))},(i,s)=>{r={document:this.Kn(n,s),size:lg(s)}}).next(()=>r)}getEntries(e,n){let r=ur();return this.Qn(e,n,(i,s)=>{const o=this.Kn(i,s);r=r.insert(i,o)}).next(()=>r)}jn(e,n){let r=ur(),i=new Rt(ie.comparator);return this.Qn(e,n,(s,o)=>{const a=this.Kn(s,o);r=r.insert(s,a),i=i.insert(s,lg(o))}).next(()=>({documents:r,Wn:i}))}Qn(e,n,r){if(n.isEmpty())return M.resolve();let i=new Je(tO);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(ed(i.first()),ed(i.last())),o=i.getIterator();let a=o.getNext();return Jo(e).J({index:"documentKeyIndex",range:s},(u,l,c)=>{const d=ie.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&tO(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?c.q(ed(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),ug(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jo(e).K(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=ur();for(const u of o){const l=this.Kn(ie.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(l.key,l)}return a})}getAllFromCollectionGroup(e,n,r,i){let s=ur();const o=eO(n,r),a=eO(n,Dr.max());return Jo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,c)=>{const d=this.Kn(ie.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new v7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return ZP(e).get("remoteDocumentGlobalKey").next(n=>(Ie(!!n),n))}qn(e,n){return ZP(e).put("remoteDocumentGlobalKey",n)}Kn(e,n){if(n){const r=r7(this.wt,n);if(!(r.isNoDocument()&&r.version.isEqual(Se.min())))return r}return nt.newInvalidDocument(e)}}function OM(t){return new y7(t)}class v7 extends PM{constructor(e,n){super(),this.zn=e,this.trackRemovals=n,this.Hn=new qo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Je((s,o)=>Re(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Hn.get(s);if(n.push(this.zn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=jP(this.zn.wt,o);i=i.add(s.path.popLast()),r+=lg(u)-a.size,n.push(this.zn.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=jP(this.zn.wt,o.convertToNoDocument(Se.min()));n.push(this.zn.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.zn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.zn.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.zn.Gn(e,n).next(r=>(this.Hn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.zn.jn(e,n).next(({documents:r,Wn:i})=>(i.forEach((s,o)=>{this.Hn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function ZP(t){return hn(t,"remoteDocumentGlobal")}function Jo(t){return hn(t,"remoteDocumentsV14")}function ed(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eO(t,e){const n=e.documentKey.path.toArray();return[t,ug(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Re(n[s],r[s]),i)return i;return i=Re(n.length,r.length),i||(i=Re(n[n.length-2],r[r.length-2]),i||Re(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&Fd(r.mutation,i,Pr.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ur();const o=Ud(),a=Ud();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Rs)?s=s.insert(l.key,l):c!==void 0&&(o.set(l.key,c.mutation.getFieldMask()),Fd(c.mutation,l,c.mutation.getFieldMask(),gt.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new _7(c,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ud();let i=new Rt((o,a)=>o-a),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Pr.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||Pe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=aM();c.forEach(h=>{if(!s.has(h)){const m=tM(n.get(h),r.get(h));m!==null&&d.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Ci());let a=-1,u=s;return o.next(l=>M.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?M.resolve():this.getBaseDocument(e,c,d).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Pe())).next(c=>({batchId:a,changes:oM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=wd();return this.indexManager.getCollectionParents(e,i).next(o=>M.forEach(o,a=>{const u=function(l,c){return new Cs(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,nt.newInvalidDocument(l)))});let o=wd();return i.forEach((a,u)=>{const l=s.get(a);l!==void 0&&Fd(l.mutation,u,Pr.empty(),gt.now()),zI(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):M.resolve(nt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return M.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:an(r.createTime)}),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:YI(r.bundledQuery),readTime:an(r.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(){this.overlays=new Rt(ie.comparator),this.Xn=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ci();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ie(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Ci(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rt((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Ci(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Ci(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return M.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new QI(n,r));let s=this.Xn.get(n);s===void 0&&(s=Pe(),this.Xn.set(n,s)),this.Xn.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.Zn=new Je(Xt.ts),this.es=new Je(Xt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Xt(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new ie(new Ve([])),r=new Xt(n,e),i=new Xt(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new ie(new Ve([])),r=new Xt(n,e),i=new Xt(n,e+1);let s=Pe();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xt(e,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return ie.comparator(e.key,n.key)||Re(e.ls,n.ls)}static ns(e,n){return Re(e.ls,n.ls)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Je(Xt.ts)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GI(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new Xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ws(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),i=new Xt(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(Re);return n.forEach(i=>{const s=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),M.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new Xt(new ie(s),0);let a=new Je(Re);return this.ds.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ls)),!0)},o),M.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return M.forEach(n.mutations,i=>{const s=new Xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new Xt(n,0),i=this.ds.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.ps=e,this.docs=new Rt(ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nt.newInvalidDocument(i))}),M.resolve(r)}getAllFromCollection(e,n,r){let i=ur();const s=new ie(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||FI($L(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,i){ge()}Is(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I7(this)}getSize(e){return M.resolve(this.size)}}class I7 extends PM{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.persistence=e,this.Ts=new qo(n=>za(n),Sf),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Es=0,this.As=new JI,this.targetCount=0,this.Rs=Qa.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),M.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.vn(n),M.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.bs={},this.overlays={},this.Ps=new ar(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new T7(this),this.indexManager=new c7,this.remoteDocumentCache=function(r){return new S7(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new IM(n),this.Ds=new w7(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new b7(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new A7(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,n){return M.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class A7 extends ML{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.ks=new JI,this.Ms=null}static Os(e){return new My(e)}get Fs(){if(this.Ms)return this.Ms;throw ge()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),M.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Ms=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Fs,r=>{const i=ie.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return M.or([()=>M.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.wt=e}M(e,n,r,i){const s=new ky("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BP,{unique:!0}),a.createObjectStore("documentMutations")}(e),nO(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),nO(e)),o=o.next(()=>function(a){const u=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Se.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,u){return u.store("mutations").K().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BP,{unique:!0});const c=u.store("mutations"),d=l.map(h=>c.put(h));return M.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Bs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(s)))),r<7&&i>=7&&(o=o.next(()=>this.Us(s))),r<8&&i>=8&&(o=o.next(()=>this.qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Ks(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const u=a.createObjectStore("documentOverlays",{keyPath:JQ});u.createIndex("collectionPathOverlayIndex",ZQ,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",e7,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const u=a.createObjectStore("remoteDocumentsV14",{keyPath:jQ});u.createIndex("documentKeyIndex",VQ),u.createIndex("collectionGroupIndex",WQ)}(e)).next(()=>this.Gs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.Qs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:KQ}).createIndex("sequenceNumberIndex",QQ,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:YQ}).createIndex("documentKeyIndex",XQ,{unique:!1})}(e))),o}Ls(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=lg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next(i=>M.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",o).next(a=>M.forEach(a,u=>{Ie(u.userId===s.userId);const l=ua(this.wt,u);return AM(e,s.userId,l).next(()=>{})}))}))}Us(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const u=new Ve(o),l=function(c){return[0,Qn(c)]}(u);s.push(n.get(l).next(c=>c?M.resolve():(d=>n.put({targetId:0,path:Qn(d),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>M.waitFor(s))})}qs(e,n){e.createObjectStore("collectionParents",{keyPath:GQ});const r=n.store("collectionParents"),i=new XI,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Qn(u)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const u=new Ve(o);return s(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,u],l)=>{const c=Ri(a);return s(c.popLast())}))}Ks(e){const n=e.store("targets");return n.J((r,i)=>{const s=Ed(i),o=TM(this.wt,s);return n.put(o)})}Gs(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),u=(l=o,l.document?new ie(Ve.fromString(l.document.name).popFirst(5)):l.noDocument?ie.fromSegments(l.noDocument.path):l.unknownDocument?ie.fromSegments(l.unknownDocument.path):ge()).path.toArray();var l;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>M.waitFor(i))}Qs(e,n){const r=n.store("mutations"),i=OM(this.wt),s=new xM(My.Os,this.wt.ne);return r.K().next(o=>{const a=new Map;return o.forEach(u=>{var l;let c=(l=a.get(u.userId))!==null&&l!==void 0?l:Pe();ua(this.wt,u).keys().forEach(d=>c=c.add(d)),a.set(u.userId,c)}),M.forEach(a,(u,l)=>{const c=new en(l),d=$y.se(this.wt,c),h=s.getIndexManager(c),m=Ly.se(c,this.wt,h,s.referenceDelegate);return new kM(i,m,d,h).recalculateAndSaveOverlaysForDocumentKeys(new HE(n,ar.ot),u).next()})})}}function nO(t){t.createObjectStore("targetDocuments",{keyPath:qQ}).createIndex("documentTargetsIndex",HQ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zQ,{unique:!0}),t.createObjectStore("targetGlobal")}const xw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ZI{constructor(e,n,r,i,s,o,a,u,l,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.js=s,this.window=o,this.document=a,this.Ws=l,this.zs=c,this.Hs=d,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=h=>Promise.resolve(),!ZI.V())throw new Y(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new g7(this,i),this.ei=n+"main",this.wt=new IM(u),this.ni=new ai(this.ei,this.Hs,new C7(this.wt)),this.Vs=new h7(this.referenceDelegate,this.wt),this.remoteDocumentCache=OM(this.wt),this.Ds=new i7,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,c===!1&&xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Y(j.FAILED_PRECONDITION,xw);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new ar(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){return this.ti=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(async()=>{this.started&&await this.ii()}))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Up(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(n=>{n||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(n=>this.isPrimary&&!n?this.li(e).next(()=>!1):!!n&&this.fi(e).next(()=>!0))).catch(e=>{if(zo(e))return X("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return td(e).get("owner").next(n=>M.resolve(this.di(n)))}_i(e){return Up(e).delete(this.clientId)}async wi(){if(this.isPrimary&&!this.mi(this.Zs,18e5)){this.Zs=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=hn(n,"clientMetadata");return r.K().next(i=>{const s=this.gi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return M.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.si)for(const n of e)this.si.removeItem(this.yi(n.clientId))}}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?M.resolve(!0):td(e).get("owner").next(n=>{if(n!==null&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)){if(this.di(n)&&this.networkEnabled)return!0;if(!this.di(n)){if(!n.allowTabSynchronization)throw new Y(j.FAILED_PRECONDITION,xw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Up(e).K().next(r=>this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),await this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new HE(e,ar.ot);return this.li(n).next(()=>this._i(n))}),this.ni.close(),this.Ai()}gi(e,n){return e.filter(r=>this.mi(r.updateTimeMs,n)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Up(e).K().next(n=>this.gi(n,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,n){return Ly.se(e,this.wt,n,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new d7(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return $y.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,n,r){X("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Hs)===15?n7:o===14?SM:o===13?bM:o===12?t7:o===11?EM:void ge();var o;let a;return this.ni.runTransaction(e,i,s,u=>(a=new HE(u,this.Ps?this.Ps.next():ar.ot),n==="readwrite-primary"?this.ai(a).next(l=>!!l||this.hi(a)).next(l=>{if(!l)throw xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Y(j.FAILED_PRECONDITION,LL);return r(a)}).next(l=>this.fi(a).next(()=>l)):this.bi(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}bi(e){return td(e).get("owner").next(n=>{if(n!==null&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)&&!this.di(n)&&!(this.zs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Y(j.FAILED_PRECONDITION,xw)})}fi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return td(e).put("owner",n)}static V(){return ai.V()}li(e){const n=td(e);return n.get("owner").next(r=>this.di(r)?(X("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(xt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground=this.document.visibilityState==="visible")}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Js=()=>{this.Ii(),cK()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var n;try{const r=((n=this.si)===null||n===void 0?void 0:n.getItem(this.yi(e)))!==null;return X("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){xt("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function td(t){return hn(t,"owner")}function Up(t){return hn(t,"clientMetadata")}function eT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=Pe(),i=Pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(s=>s||this.xi(e,n,i,r)).next(s=>s||this.Ni(e,n))}Ci(e,n){if(OP(n))return M.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ag(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Pe(...s);return this.Di.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ki(n,a);return this.Mi(n,l,o,u.readTime)?this.Ci(e,ag(n,null,"F")):this.Oi(e,l,n,u)}))})))}xi(e,n,r,i){return OP(n)||i.isEqual(Se.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(n,s);return this.Mi(n,o,r,i)?this.Ni(e,n):(UE()<=je.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),WE(n)),this.Oi(e,o,n,NL(i,-1)))})}ki(e,n){let r=new Je(GL(e));return n.forEach((i,s)=>{zI(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,n){return UE()<=je.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",WE(n)),this.Di.getDocumentsMatchingQuery(e,n,Dr.min())}Oi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new Rt(Re),this.Bi=new qo(s=>za(s),Sf),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kM(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function NM(t,e,n,r){return new R7(t,e,n,r)}async function $M(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Pe();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ki:l,removedBatchIds:o,addedBatchIds:a}))})})}function P7(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=M.resolve();return d.forEach(m=>{h=h.next(()=>l.getEntry(a,m)).next(g=>{const _=u.docVersions.get(m);Ie(_!==null),g.version.compareTo(_)<0&&(c.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),l.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Pe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LM(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function O7(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Vs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Vs.addMatchingKeys(s,c.addedDocuments,d)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?m=m.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(g,_,S){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(h,m,c)&&a.push(n.Vs.updateTargetData(s,m))});let u=ur(),l=Pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(MM(s,o,e.documentUpdates).next(c=>{u=c.Gi,l=c.Qi})),!r.isEqual(Se.min())){const c=n.Vs.getLastRemoteSnapshotVersion(s).next(d=>n.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.$i=i,s))}function MM(t,e,n){let r=Pe(),i=Pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ur();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Se.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Gi:o,Qi:i}})}function k7(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xl(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Vs.allocateTargetId(r).next(o=>(i=new fo(e,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}async function Dl(t,e,n){const r=ae(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zo(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}function cg(t,e,n){const r=ae(t);let i=Se.min(),s=Pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=ae(a),d=c.Bi.get(l);return d!==void 0?M.resolve(c.$i.get(d)):c.Vs.getTargetData(u,l)}(r,o,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:Pe())).next(a=>(BM(r,HL(e),a),{documents:a,ji:s})))}function FM(t,e){const n=ae(t),r=ae(n.Vs),i=n.$i.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.te(s,e).next(o=>o?o.target:null))}function UM(t,e){const n=ae(t),r=n.Li.get(e)||Se.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ui.getAllFromCollectionGroup(i,e,NL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(BM(n,e,i),i))}function BM(t,e,n){let r=Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Li.set(e,r)}async function x7(t,e,n,r){const i=ae(t);let s=Pe(),o=ur();for(const l of n){const c=e.Wi(l.metadata.name);l.document&&(s=s.add(c));const d=e.zi(l);d.setReadTime(e.Hi(l.metadata.readTime)),o=o.insert(c,d)}const a=i.Ui.newChangeBuffer({trackRemovals:!0}),u=await xl(i,function(l){return gr(oc(Ve.fromString(`__bundle__/docs/${l}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>MM(l,a,o).next(c=>(a.apply(l),c)).next(c=>i.Vs.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Vs.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,c.Gi,c.Qi)).next(()=>c.Gi)))}async function D7(t,e,n=Pe()){const r=await xl(t,gr(YI(e.bundledQuery))),i=ae(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=an(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ds.saveNamedQuery(s,e);const a=r.withResumeToken(Ht.EMPTY_BYTE_STRING,o);return i.$i=i.$i.insert(a.targetId,a),i.Vs.updateTargetData(s,a).next(()=>i.Vs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Vs.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ds.saveNamedQuery(s,e))})}function rO(t,e){return`firestore_clients_${t}_${e}`}function iO(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Dw(t,e){return`firestore_targets_${t}_${e}`}class dg{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ji(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new Y(i.error.code,i.error.message))),o?new dg(e,n,i.state,s):(xt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bd{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ji(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Y(r.error.code,r.error.message))),s?new Bd(e,r.state,i):(xt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Ny();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=BL(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new hg(e,s):(xt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class nT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new nT(n.clientId,n.onlineState):(xt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class GE{constructor(){this.activeTargetIds=Ny()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nw{constructor(e,n,r,i,s){this.window=e,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Rt(Re),this.started=!1,this.ir=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=rO(this.persistenceKey,this.tr),this.ur=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new GE),this.cr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.lr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.dr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ri();for(const r of e){if(r===this.tr)continue;const i=this.getItem(rO(this.persistenceKey,r));if(i){const s=hg.Ji(r,i);s&&(this.sr=this.sr.insert(s.clientId,s))}}this._r();const n=this.storage.getItem(this.lr);if(n){const r=this.wr(n);r&&this.mr(r)}for(const r of this.ir)this.nr(r);this.ir=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,r){this.yr(e,n,r),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Dw(this.persistenceKey,e));if(r){const i=Bd.Ji(e,r);i&&(n=i.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dw(this.persistenceKey,e))}updateQueryState(e,n,r){this.Tr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return X("SharedClientState","READ",e,n),n}setItem(e,n){X("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){X("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){const n=e;if(n.storageArea===this.storage){if(X("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.cr.test(n.key)){if(n.newValue==null){const r=this.Rr(n.key);return this.br(r,null)}{const r=this.Pr(n.key,n.newValue);if(r)return this.br(r.clientId,r)}}else if(this.ar.test(n.key)){if(n.newValue!==null){const r=this.vr(n.key,n.newValue);if(r)return this.Vr(r)}}else if(this.hr.test(n.key)){if(n.newValue!==null){const r=this.Sr(n.key,n.newValue);if(r)return this.Dr(r)}}else if(n.key===this.lr){if(n.newValue!==null){const r=this.wr(n.newValue);if(r)return this.mr(r)}}else if(n.key===this.ur){const r=function(i){let s=ar.ot;if(i!=null)try{const o=JSON.parse(i);Ie(typeof o=="number"),s=o}catch(o){xt("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==ar.ot&&this.sequenceNumberHandler(r)}else if(n.key===this.dr){const r=this.Cr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Nr(i)))}}}else this.ir.push(n)})}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,r){const i=new dg(this.currentUser,e,n,r),s=iO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Yi())}pr(e){const n=iO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){const n={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(n))}Tr(e,n,r){const i=Dw(this.persistenceKey,e),s=new Bd(e,n,r);this.setItem(i,s.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.cr.exec(e);return n?n[1]:null}Pr(e,n){const r=this.Rr(e);return hg.Ji(r,n)}vr(e,n){const r=this.ar.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return dg.Ji(new en(s),i,n)}Sr(e,n){const r=this.hr.exec(e),i=Number(r[1]);return Bd.Ji(i,n)}wr(e){return nT.Ji(e)}Cr(e){return JSON.parse(e)}async Vr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.kr(e.batchId,e.state,e.error);X("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,n){const r=n?this.sr.insert(e,n):this.sr.remove(e),i=this.gr(this.sr),s=this.gr(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Or(o,a).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=Ny();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class jM{constructor(){this.Fr=new GE,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new GE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);X("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(u=>(X("RestConnection","Received: ",u),u),u=>{throw Cl("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ao(e,n,r,i,s,o){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){const r=$7[e];return`${this.so}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new $8;a.listenOnce(x8.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ow.NO_ERROR:const l=a.getResponseJson();X("Connection","XHR received:",JSON.stringify(l)),s(l);break;case Ow.TIMEOUT:X("Connection",'RPC "'+e+'" timed out'),o(new Y(j.DEADLINE_EXCEEDED,"Request time out"));break;case Ow.HTTP_ERROR:const c=a.getStatus();if(X("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(g)>=0?g:j.UNKNOWN}(d.status);o(new Y(h,d.message))}else o(new Y(j.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Y(j.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{X("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O8(),o=k8(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new N8({})),this.uo(a.initMessageHeaders,n,r),my()||hf()||uK()||lI()||lK()||uI()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");X("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new L7({jr:g=>{d?X("Connection","Not sending because WebChannel is closed:",g):(c||(X("Connection","Opening WebChannel transport."),l.open(),c=!0),X("Connection","WebChannel sending:",g),l.send(g))},Wr:()=>l.close()}),m=(g,_,S)=>{g.listen(_,v=>{try{S(v)}catch(y){setTimeout(()=>{throw y},0)}})};return m(l,Np.EventType.OPEN,()=>{d||X("Connection","WebChannel transport opened.")}),m(l,Np.EventType.CLOSE,()=>{d||(d=!0,X("Connection","WebChannel transport closed"),h.eo())}),m(l,Np.EventType.ERROR,g=>{d||(d=!0,Cl("Connection","WebChannel transport errored:",g),h.eo(new Y(j.UNAVAILABLE,"The operation could not be completed")))}),m(l,Np.EventType.MESSAGE,g=>{var _;if(!d){const S=g.data[0];Ie(!!S);const v=S,y=v.error||((_=v[0])===null||_===void 0?void 0:_.error);if(y){X("Connection","WebChannel received error:",y);const w=y.status;let b=function(C){const I=Lt[C];if(I!==void 0)return iM(I)}(w),T=y.message;b===void 0&&(b=j.INTERNAL,T="Unknown error status: "+w+" with message "+y.message),d=!0,h.eo(new Y(b,T)),l.close()}else X("Connection","WebChannel received:",S),h.no(S)}}),m(o,D8.STAT_EVENT,g=>{g.stat===mP.PROXY?X("Connection","Detected buffering proxy"):g.stat===mP.NOPROXY&&X("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(){return typeof window<"u"?window:null}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){return new RQ(t,!0)}class rT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,i,s,o,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new rT(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}async Mo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(xt(n.toString()),xt("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new Y(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F7 extends WM{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.wt=s}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=kQ(this.wt,e),r=function(i){if(!("targetChange"in i))return Se.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Se.min():s.readTime?an(s.readTime):Se.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=kh(this.wt),n.addTarget=function(i,s){let o;const a=s.target;return o=sg(a)?{documents:mM(i,a)}:{query:gM(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=cM(i,s.resumeToken):s.snapshotVersion.compareTo(Se.min())>0&&(o.readTime=Ph(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=DQ(this.wt,e);r&&(n.labels=r),this.Oo(n)}jo(e){const n={};n.database=kh(this.wt),n.removeTarget=e,this.Oo(n)}}class U7 extends WM{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=xQ(e.writeResults,e.commitTime),r=an(e.commitTime);return this.listener.Jo(r,n)}return Ie(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=kh(this.wt),this.Oo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xh(this.wt,r))};this.Oo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(j.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(j.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class j7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(xt(n),this.su=!1):X("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(o=>{r.enqueueAndForget(async()=>{Ho(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=ae(a);u.lu.add(4),await lc(u),u._u.set("Unknown"),u.lu.delete(4),await Pf(u)}(this))})}),this._u=new j7(r,i)}}async function Pf(t){if(Ho(t))for(const e of t.fu)await e(!0)}async function lc(t){for(const e of t.fu)await e(!1)}function Fy(t,e){const n=ae(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),oT(n)?sT(n):dc(n).Co()&&iT(n,e))}function Dh(t,e){const n=ae(t),r=dc(n);n.hu.delete(e),r.Co()&&zM(n,e),n.hu.size===0&&(r.Co()?r.ko():Ho(n)&&n._u.set("Unknown"))}function iT(t,e){t.wu.Nt(e.targetId),dc(t).Qo(e)}function zM(t,e){t.wu.Nt(e),dc(t).jo(e)}function sT(t){t.wu=new TQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),dc(t).start(),t._u.iu()}function oT(t){return Ho(t)&&!dc(t).Do()&&t.hu.size>0}function Ho(t){return ae(t).lu.size===0}function qM(t){t.wu=void 0}async function W7(t){t.hu.forEach((e,n)=>{iT(t,e)})}async function z7(t,e){qM(t),oT(t)?(t._u.uu(e),sT(t)):t._u.set("Unknown")}async function q7(t,e,n){if(t._u.set("Online"),e instanceof lM&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.hu.delete(o),r.wu.removeTarget(o))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fg(t,r)}else if(e instanceof dm?t.wu.Ut(e):e instanceof uM?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Se.min()))try{const r=await LM(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.hu.get(u);l&&i.hu.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(Ht.EMPTY_BYTE_STRING,u.snapshotVersion)),zM(i,a);const l=new fo(u.target,a,1,u.sequenceNumber);iT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await fg(t,r)}}async function fg(t,e,n){if(!zo(e))throw e;t.lu.add(1),await lc(t),t._u.set("Offline"),n||(n=()=>LM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await Pf(t)})}function HM(t,e){return e().catch(n=>fg(t,n,e))}async function cc(t){const e=ae(t),n=Ro(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;H7(e);)try{const i=await k7(e.localStore,r);if(i===null){e.au.length===0&&n.ko();break}r=i.batchId,G7(e,i)}catch(i){await fg(e,i)}GM(e)&&KM(e)}function H7(t){return Ho(t)&&t.au.length<10}function G7(t,e){t.au.push(e);const n=Ro(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function GM(t){return Ho(t)&&!Ro(t).Do()&&t.au.length>0}function KM(t){Ro(t).start()}async function K7(t){Ro(t).Xo()}async function Q7(t){const e=Ro(t);for(const n of t.au)e.Ho(n.mutations)}async function Y7(t,e,n){const r=t.au.shift(),i=KI.from(r,e,n);await HM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cc(t)}async function X7(t,e){e&&Ro(t).zo&&await async function(n,r){if(i=r.code,rM(i)&&i!==j.ABORTED){const s=n.au.shift();Ro(n).No(),await HM(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await cc(n)}var i}(t,e),GM(t)&&KM(t)}async function oO(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Ho(n);n.lu.add(3),await lc(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await Pf(n)}async function KE(t,e){const n=ae(t);e?(n.lu.delete(2),await Pf(n)):e||(n.lu.add(2),await lc(n),n._u.set("Unknown"))}function dc(t){return t.mu||(t.mu=function(e,n,r){const i=ae(e);return i.tu(),new F7(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:W7.bind(null,t),Jr:z7.bind(null,t),Go:q7.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),oT(t)?sT(t):t._u.set("Unknown")):(await t.mu.stop(),qM(t))})),t.mu}function Ro(t){return t.gu||(t.gu=function(e,n,r){const i=ae(e);return i.tu(),new U7(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:K7.bind(null,t),Jr:X7.bind(null,t),Yo:Q7.bind(null,t),Jo:Y7.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await cc(t)):(await t.gu.stop(),t.au.length>0&&(X("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new aT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hc(t,e){if(xt("AsyncQueue",`${e}: ${t}`),zo(t))return new Y(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=wd(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new dl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.yu=new Rt(ie.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?e.type!==0&&r.type===3?this.yu=this.yu.insert(n,e):e.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.yu=this.yu.remove(n):e.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):ge():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nl{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Nl(e,n,dl.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.Iu=void 0,this.listeners=[]}}class Z7{constructor(){this.queries=new qo(e=>qL(e),If),this.onlineState="Unknown",this.Tu=new Set}}async function uT(t,e){const n=ae(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new J7),i)try{s.Iu=await n.onListen(r)}catch(o){const a=hc(o,`Initialization of query '${WE(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&cT(n)}async function lT(t,e){const n=ae(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function eY(t,e){const n=ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&cT(n)}function tY(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function cT(t){t.Tu.forEach(e=>{e.next()})}class dT{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.wt=e}Wi(e){return Li(this.wt,e)}zi(e){return e.metadata.exists?pM(this.wt,e.document,!1):nt.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return an(e)}}class rY{constructor(e,n,r){this.xu=e,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QM(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const r=Ve.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,r=new uO(this.wt);for(const i of e)if(i.metadata.queries){const s=r.Wi(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Pe()).add(s);n.set(o,a)}}return n}async complete(){const e=await x7(this.localStore,new uO(this.wt),this.documents,this.xu.id),n=this.ku(this.documents);for(const r of this.queries)await D7(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:e}}}function QM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.key=e}}class XM{constructor(e){this.key=e}}class JM{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Pe(),this.mutatedKeys=Pe(),this.Lu=GL(e),this.Uu=new dl(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new aO,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),m=zI(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;h&&m?h.data.isEqual(m.data)?g!==_&&(r.track({type:3,doc:m}),S=!0):this.Qu(h,m)||(r.track({type:2,doc:m}),S=!0,(u&&this.Lu(m,u)>0||l&&this.Lu(m,l)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),S=!0):h&&!m&&(r.track({type:1,doc:h}),S=!0,(u||l)&&(a=!0)),S&&(m?(o=o.add(m),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Mi:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((l,c)=>function(d,h){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return m(d)-m(h)}(l.type,c.type)||this.Lu(l.doc,c.doc)),this.ju(r);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,u=a!==this.$u;return this.$u=a,s.length!==0||u?{snapshot:new Nl(this.query,e.Uu,i,s,e.mutatedKeys,a===0,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new aO,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Pe(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new XM(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new YM(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=Pe();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return Nl.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class iY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sY{constructor(e){this.key=e,this.Xu=!1}}class oY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new qo(a=>qL(a),If),this.ec=new Map,this.nc=new Set,this.sc=new Rt(ie.comparator),this.ic=new Map,this.rc=new JI,this.oc={},this.uc=new Map,this.cc=Qa.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function aY(t,e){const n=gT(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=await xl(n.localStore,gr(e));n.isPrimaryClient&&Fy(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await hT(n,e,r,a==="current")}return i}async function hT(t,e,n,r){t.hc=(c,d,h)=>async function(m,g,_,S){let v=g.view.Ku(_);v.Mi&&(v=await cg(m.localStore,g.query,!1).then(({documents:b})=>g.view.Ku(b,v)));const y=S&&S.targetChanges.get(g.targetId),w=g.view.applyChanges(v,m.isPrimaryClient,y);return QE(m,g.targetId,w.zu),w.snapshot}(t,c,d,h);const i=await cg(t.localStore,e,!0),s=new JM(e,i.ji),o=s.Ku(i.documents),a=Cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),u=s.applyChanges(o,t.isPrimaryClient,a);QE(t,n,u.zu);const l=new iY(e,n,s);return t.tc.set(e,l),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),u.snapshot}async function uY(t,e){const n=ae(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(s=>!If(s,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Dl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Dh(n.remoteStore,r.targetId),$l(n,r.targetId)}).catch(Wo)):($l(n,r.targetId),await Dl(n.localStore,r.targetId,!0))}async function lY(t,e,n){const r=yT(t);try{const i=await function(s,o){const a=ae(s),u=gt.now(),l=o.reduce((h,m)=>h.add(m.key),Pe());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=ur(),g=Pe();return a.Ui.getEntries(h,l).next(_=>{m=_,m.forEach((S,v)=>{v.isValidDocument()||(g=g.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(_=>{c=_;const S=[];for(const v of o){const y=_Q(v,c.get(v.key).overlayedDocument);y!=null&&S.push(new Rs(v.key,y,VL(y.value.mapValue),wt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,S,o)}).next(_=>{d=_;const S=_.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(h,_.batchId,S)})}).then(()=>({batchId:d.batchId,changes:oM(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.oc[s.currentUser.toKey()];u||(u=new Rt(Re)),u=u.insert(o,a),s.oc[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ps(r,i.changes),await cc(r.remoteStore)}catch(i){const s=hc(i,"Failed to persist write");n.reject(s)}}async function ZM(t,e){const n=ae(t);try{const r=await O7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ic.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?Ie(o.Xu):i.removedDocuments.size>0&&(Ie(o.Xu),o.Xu=!1))}),await Ps(n,r,e)}catch(r){await Wo(r)}}function lO(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ae(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Eu(o)&&(u=!0)}),u&&cT(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cY(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new Rt(ie.comparator);o=o.insert(s,nt.newNoDocument(s,Se.min()));const a=Pe().add(s),u=new Af(Se.min(),new Map,new Je(Re),o,a);await ZM(r,u),r.sc=r.sc.remove(s),r.ic.delete(e),mT(r)}else await Dl(r.localStore,e,!1).then(()=>$l(r,e,n)).catch(Wo)}async function dY(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await P7(n.localStore,e);pT(n,r,null),fT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ps(n,i)}catch(i){await Wo(i)}}async function hY(t,e,n){const r=ae(t);try{const i=await function(s,o){const a=ae(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(Ie(c!==null),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);pT(r,e,n),fT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ps(r,i)}catch(i){await Wo(i)}}async function fY(t,e){const n=ae(t);Ho(n.remoteStore)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=ae(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.uc.get(r)||[];i.push(e),n.uc.set(r,i)}catch(r){const i=hc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function fT(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function pT(t,e,n){const r=ae(t);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function $l(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||eF(t,r)})}function eF(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(Dh(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),mT(t))}function QE(t,e,n){for(const r of n)r instanceof YM?(t.rc.addReference(r.key,e),pY(t,r)):r instanceof XM?(X("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||eF(t,r.key)):ge()}function pY(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(X("SyncEngine","New document in limbo: "+n),t.nc.add(r),mT(t))}function mT(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new ie(Ve.fromString(e)),r=t.cc.next();t.ic.set(r,new sY(n)),t.sc=t.sc.insert(n,r),Fy(t.remoteStore,new fo(gr(oc(n.path)),r,2,ar.ot))}}async function Ps(t,e,n){const r=ae(t),i=[],s=[],o=[];r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=tT.Vi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Zu.Go(i),await async function(a,u){const l=ae(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>M.forEach(u,d=>M.forEach(d.Pi,h=>l.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>M.forEach(d.vi,h=>l.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!zo(c))throw c;X("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const d=c.targetId;if(!c.fromCache){const h=l.$i.get(d),m=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(m);l.$i=l.$i.insert(d,g)}}}(r.localStore,s))}async function mY(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await $M(n.localStore,e);n.currentUser=e,function(i,s){i.uc.forEach(o=>{o.forEach(a=>{a.reject(new Y(j.CANCELLED,s))})}),i.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ps(n,r.Ki)}}function gY(t,e){const n=ae(t),r=n.ic.get(e);if(r&&r.Xu)return Pe().add(r.key);{let i=Pe();const s=n.ec.get(e);if(!s)return i;for(const o of s){const a=n.tc.get(o);i=i.unionWith(a.view.qu)}return i}}async function yY(t,e){const n=ae(t),r=await cg(n.localStore,e.query,!0),i=e.view.Ju(r);return n.isPrimaryClient&&QE(n,e.targetId,i.zu),i}async function vY(t,e){const n=ae(t);return UM(n.localStore,e).then(r=>Ps(n,r))}async function _Y(t,e,n,r){const i=ae(t),s=await function(o,a){const u=ae(o),l=ae(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",c=>l.yn(c,a).next(d=>d?u.localDocuments.getDocuments(c,d):M.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await cc(i.remoteStore):n==="acknowledged"||n==="rejected"?(pT(i,e,r||null),fT(i,e),function(o,a){ae(ae(o).mutationQueue).In(a)}(i.localStore,e)):ge(),await Ps(i,s)):X("SyncEngine","Cannot apply mutation batch with id: "+e)}async function wY(t,e){const n=ae(t);if(gT(n),yT(n),e===!0&&n.ac!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await cO(n,r.toArray());n.ac=!0,await KE(n.remoteStore,!0);for(const s of i)Fy(n.remoteStore,s)}else if(e===!1&&n.ac!==!1){const r=[];let i=Promise.resolve();n.ec.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>($l(n,o),Dl(n.localStore,o,!0))),Dh(n.remoteStore,o)}),await i,await cO(n,r),function(s){const o=ae(s);o.ic.forEach((a,u)=>{Dh(o.remoteStore,u)}),o.rc.cs(),o.ic=new Map,o.sc=new Rt(ie.comparator)}(n),n.ac=!1,await KE(n.remoteStore,!1)}}async function cO(t,e,n){const r=ae(t),i=[],s=[];for(const o of e){let a;const u=r.ec.get(o);if(u&&u.length!==0){a=await xl(r.localStore,gr(u[0]));for(const l of u){const c=r.tc.get(l),d=await yY(r,c);d.snapshot&&s.push(d.snapshot)}}else{const l=await FM(r.localStore,o);a=await xl(r.localStore,l),await hT(r,tF(l),o,!1)}i.push(a)}return r.Zu.Go(s),i}function tF(t){return zL(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function EY(t){const e=ae(t);return ae(ae(e.localStore).persistence).Ri()}async function bY(t,e,n,r){const i=ae(t);if(i.ac)return void X("SyncEngine","Ignoring unexpected query state notification.");const s=i.ec.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await UM(i.localStore,HL(s[0])),a=Af.createSynthesizedRemoteEventForCurrentChange(e,n==="current");await Ps(i,o,a);break}case"rejected":await Dl(i.localStore,e,!0),$l(i,e,r);break;default:ge()}}async function SY(t,e,n){const r=gT(t);if(r.ac){for(const i of e){if(r.ec.has(i)){X("SyncEngine","Adding an already active target "+i);continue}const s=await FM(r.localStore,i),o=await xl(r.localStore,s);await hT(r,tF(s),o.targetId,!1),Fy(r.remoteStore,o)}for(const i of n)r.ec.has(i)&&await Dl(r.localStore,i,!1).then(()=>{Dh(r.remoteStore,i),$l(r,i)}).catch(Wo)}}function gT(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cY.bind(null,e),e.Zu.Go=eY.bind(null,e.eventManager),e.Zu.lc=tY.bind(null,e.eventManager),e}function yT(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hY.bind(null,e),e}function IY(t,e,n){const r=ae(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,h){const m=ae(d),g=an(h.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",_=>m.Ds.getBundleMetadata(_,h.id)).then(_=>!!_&&_.createTime.compareTo(g)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(QM(a));const u=new rY(a,i.localStore,s.wt);let l=await s.fc();for(;l;){const d=await u.Nu(l);d&&o._updateProgress(d),l=await s.fc()}const c=await u.complete();return await Ps(i,c.Ou,void 0),await function(d,h){const m=ae(d);return m.persistence.runTransaction("Save bundle","readwrite",g=>m.Ds.saveBundleMetadata(g,h))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Mu)}catch(a){return Cl("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class nF{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return NM(this.persistence,new DM,e.initialUser,this.wt)}_c(e){return new xM(My.Os,this.wt)}dc(e){return new jM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rF extends nF{constructor(e,n,r){super(),this.yc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.yc.initialize(this,e),await yT(this.yc.syncEngine),await cc(this.yc.remoteStore),await this.persistence.ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wc(e){return NM(this.persistence,new DM,e.initialUser,this.wt)}mc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new p7(r,e.asyncQueue,n)}gc(e,n){const r=new X8(n,this.persistence);return new Y8(e.asyncQueue,r)}_c(e){const n=eT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new ZI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,VM(),fm(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new jM}}class TY extends rF{constructor(e,n){super(e,n,!1),this.yc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.yc.syncEngine;this.sharedClientState instanceof Nw&&(this.sharedClientState.syncEngine={kr:_Y.bind(null,n),Mr:bY.bind(null,n),Or:SY.bind(null,n),Ri:EY.bind(null,n),Nr:vY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.ci(async r=>{await wY(this.yc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}dc(e){const n=VM();if(!Nw.V(n))throw new Y(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class vT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mY.bind(null,this.syncEngine),await KE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Z7}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new M7(i));var i;return function(s,o,a,u){return new B7(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>lO(this.syncEngine,a,0),o=sO.V()?new sO:new N7,new V7(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new oY(r,i,s,o,a,u);return l&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ae(e);X("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await lc(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):xt("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e,n){this.Ec=e,this.wt=n,this.metadata=new on,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}async getMetadata(){return this.metadata.promise}async fc(){return await this.getMetadata(),this.Rc()}async Rc(){const e=await this.bc();if(e===null)return null;const n=this.Ac.decode(e),r=Number(n);isNaN(r)&&this.Pc(`length string (${n}) is not valid number`);const i=await this.vc(r);return new nY(JSON.parse(i),e.length+r)}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async bc(){for(;this.Vc()<0&&!await this.Sc(););if(this.buffer.length===0)return null;const e=this.Vc();e<0&&this.Pc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async vc(e){for(;this.buffer.length<e;)await this.Sc()&&this.Pc("Reached the end of bundle when more is expected.");const n=this.Ac.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}async Sc(){const e=await this.Ec.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=ae(r),o=kh(s.wt)+"/documents",a={documents:i.map(d=>Oh(s.wt,d))},u=await s.ao("BatchGetDocuments",o,a,i.length),l=new Map;u.forEach(d=>{const h=OQ(s.wt,d);l.set(h.key.toString(),h)});const c=[];return i.forEach(d=>{const h=l.get(d.toString());Ie(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new uc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ie.fromPath(r);this.mutations.push(new qI(i,this.precondition(i)))}),await async function(n,r){const i=ae(n),s=kh(i.wt)+"/documents",o={writes:r.map(a=>xh(i.wt,a))};await i.ro("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ge();n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Y(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?wt.updateTime(n):wt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new Y(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wt.updateTime(n)}return wt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Dc=r.maxAttempts,this.So=new rT(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){this.So.Io(async()=>{const e=new CY(this.datastore),n=this.xc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Nc(i)}))}).catch(r=>{this.Nc(r)})})}xc(e){try{const n=this.updateFunction(e);return!bf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||!rM(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=kL.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function iF(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $M(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function sF(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _T(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>oO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>oO(e.remoteStore,s)),t.onlineComponents=e}async function _T(t){return t.offlineComponents||(X("FirestoreClient","Using default OfflineComponentProvider"),await iF(t,new nF)),t.offlineComponents}async function By(t){return t.onlineComponents||(X("FirestoreClient","Using default OnlineComponentProvider"),await sF(t,new vT)),t.onlineComponents}function oF(t){return _T(t).then(e=>e.persistence)}function wT(t){return _T(t).then(e=>e.localStore)}function aF(t){return By(t).then(e=>e.remoteStore)}function ET(t){return By(t).then(e=>e.syncEngine)}async function Ll(t){const e=await By(t),n=e.eventManager;return n.onListen=aY.bind(null,e.syncEngine),n.onUnlisten=uY.bind(null,e.syncEngine),n}function OY(t){return t.asyncQueue.enqueue(async()=>{const e=await oF(t),n=await aF(t);return e.setNetworkEnabled(!0),function(r){const i=ae(r);return i.lu.delete(0),Pf(i)}(n)})}function kY(t){return t.asyncQueue.enqueue(async()=>{const e=await oF(t),n=await aF(t);return e.setNetworkEnabled(!1),async function(r){const i=ae(r);i.lu.add(0),await lc(i),i._u.set("Offline")}(n)})}function xY(t,e){const n=new on;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,u){const l=ae(a);return l.persistence.runTransaction("read document","readonly",c=>l.localDocuments.getDocument(c,u))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new Y(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=hc(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await wT(t),e,n)),n.promise}function uF(t,e,n={}){const r=new on;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new Uy({next:d=>{s.enqueueAndForget(()=>lT(i,c));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new Y(j.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?u.reject(new Y(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new dT(oc(o.path),l,{includeMetadataChanges:!0,Du:!0});return uT(i,c)}(await Ll(t),t.asyncQueue,e,n,r)),r.promise}function DY(t,e){const n=new on;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await cg(r,i,!0),a=new JM(i,o.ji),u=a.Ku(o.documents),l=a.applyChanges(u,!1);s.resolve(l.snapshot)}catch(o){const a=hc(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await wT(t),e,n)),n.promise}function lF(t,e,n={}){const r=new on;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new Uy({next:d=>{s.enqueueAndForget(()=>lT(i,c)),d.fromCache&&a.source==="server"?u.reject(new Y(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new dT(o,l,{includeMetadataChanges:!0,Du:!0});return uT(i,c)}(await Ll(t),t.asyncQueue,e,n,r)),r.promise}function NY(t,e){const n=new Uy(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){ae(r).Tu.add(i),i.next()}(await Ll(t),n)),()=>{n.Tc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){ae(r).Tu.delete(i)}(await Ll(t),n))}}function $Y(t,e,n){const r=new on;return t.asyncQueue.enqueueAndForget(async()=>{const i=await function(s){return By(s).then(o=>o.datastore)}(t);new RY(t.asyncQueue,i,n,e,r).run()}),r.promise}function LY(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(u,l){return new AY(u,l)}(function(u,l){if(u instanceof Uint8Array)return dO(u,l);if(u instanceof ArrayBuffer)return dO(new Uint8Array(u),l);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,Rf(e));t.asyncQueue.enqueueAndForget(async()=>{IY(await ET(t),i,r)})}function MY(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=ae(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ds.getNamedQuery(s,r))}(await wT(t),e))}const hO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e,n){if(!n)throw new Y(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cF(t,e,n,r){if(e===!0&&r===!0)throw new Y(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fO(t){if(!ie.isDocumentKey(t))throw new Y(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pO(t){if(ie.isDocumentKey(t))throw new Y(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function We(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jy(t);throw new Y(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function dF(t,e){if(e<=0)throw new Y(j.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,cF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1,e instanceof vs?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Y(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vs(i.options.projectId)}(e))}get app(){if(!this._app)throw new Y(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new F8;switch(n.type){case"gapi":const r=n.client;return Ie(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new V8(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=hO.get(e);n&&(X("ComponentProvider","Removing Datastore"),hO.delete(e),n.terminate())}(this),Promise.resolve()}}function FY(t,e,n,r={}){var i;const s=(t=We(t,Of))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Cl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=en.MOCK_USER;else{o=m2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Y(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new en(u)}t._authCredentials=new U8(new OL(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class Mn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mn(this.firestore,e,this._query)}}class Mi extends Mn{constructor(e,n,r){super(e,n,oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new ie(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function ST(t,e,...n){if(t=ue(t),bT("collection","path",e),t instanceof Of){const r=Ve.fromString(e,...n);return pO(r),new Mi(t,null,r)}{if(!(t instanceof lt||t instanceof Mi))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return pO(r),new Mi(t.firestore,null,r)}}function UY(t,e){if(t=We(t,Of),bT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Y(j.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mn(t,null,function(n){return new Cs(Ve.emptyPath(),n)}(e))}function Po(t,e,...n){if(t=ue(t),arguments.length===1&&(e=kL.I()),bT("doc","path",e),t instanceof Of){const r=Ve.fromString(e,...n);return fO(r),new lt(t,null,new ie(r))}{if(!(t instanceof lt||t instanceof Mi))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return fO(r),new lt(t.firestore,t instanceof Mi?t.converter:null,new ie(r))}}function hF(t,e){return t=ue(t),e=ue(e),(t instanceof lt||t instanceof Mi)&&(e instanceof lt||e instanceof Mi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function fF(t,e){return t=ue(t),e=ue(e),t instanceof Mn&&e instanceof Mn&&t.firestore===e.firestore&&If(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new rT(this,"async_queue_retry"),this.Kc=()=>{const n=fm();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=fm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new on;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}async jc(){if(this.Oc.length!==0){try{await this.Oc[0](),this.Oc.shift(),this.So.reset()}catch(e){if(!zo(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Oc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{this.Bc=r,this.Lc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw xt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Lc=!1,r))));return this.Mc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=aT.createAndSchedule(this,e,n,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&ge()}verifyOperationInProgress(){}async zc(){let e;do e=this.Mc,await e;while(e!==this.Mc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function YE(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class jY{constructor(){this._progressObserver={},this._taskCompletionResolver=new on,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=-1;class St extends Of{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new BY,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||pF(this),this._firestoreClient.terminate()}}function WY(t=yy()){return tc(t,"firestore").getImmediate()}function Gt(t){return t._firestoreClient||pF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pF(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new eQ(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new PY(t._authCredentials,t._appCheckCredentials,t._queue,r)}function zY(t,e){gF(t=We(t,St));const n=Gt(t),r=t._freezeSettings(),i=new vT;return mF(n,i,new rF(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function qY(t){gF(t=We(t,St));const e=Gt(t),n=t._freezeSettings(),r=new vT;return mF(e,r,new TY(r,n.cacheSizeBytes))}function mF(t,e,n){const r=new on;return t.asyncQueue.enqueue(async()=>{try{await iF(t,n),await sF(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===j.FAILED_PRECONDITION||o.code===j.UNIMPLEMENTED:typeof DOMException<"u"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;Cl("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function HY(t){if(t._initialized&&!t._terminated)throw new Y(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new on;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!ai.V())return Promise.resolve();const r=n+"main";await ai.delete(r)}(eT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function GY(t){return function(e){const n=new on;return e.asyncQueue.enqueueAndForget(async()=>fY(await ET(e),n)),n.promise}(Gt(t=We(t,St)))}function KY(t){return OY(Gt(t=We(t,St)))}function QY(t){return kY(Gt(t=We(t,St)))}function YY(t,e){const n=Gt(t=We(t,St)),r=new jY;return LY(n,t._databaseId,e,r),r}function XY(t,e){return MY(Gt(t=We(t,St)),e).then(n=>n?new Mn(t,null,n.query):null)}function gF(t){if(t._initialized||t._terminated)throw new Y(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wi(Ht.fromBase64String(e))}catch(n){throw new Y(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wi(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY=/^__.*__$/;class ZY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ac(e,this.data,n,this.fieldTransforms)}}class yF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Wy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return pg(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(vF(this.Zc)&&JY.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class e9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||Rf(e)}aa(e,n,r,i=!1){return new Wy({Zc:e,methodName:n,ca:r,path:Dt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function pu(t){const e=t._freezeSettings(),n=Rf(t._databaseId);return new e9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zy(t,e,n,r,i,s={}){const o=t.aa(s.merge||s.mergeFields?2:0,e,n,i);CT("Data must be an object, but it was:",o,r);const a=EF(r,o);let u,l;if(s.merge)u=new Pr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=XE(e,d,n);if(!o.contains(h))throw new Y(j.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);SF(c,h)||c.push(h)}u=new Pr(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new ZY(new wn(a),u,l)}class kf extends fu{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kf}}function _F(t,e,n){return new Wy({Zc:3,ca:e.settings.ca,methodName:t._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class IT extends fu{_toFieldTransform(e){return new Tf(e.path,new Ol)}isEqual(e){return e instanceof IT}}class t9 extends fu{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=_F(this,e,!0),r=this.ha.map(s=>mu(s,n)),i=new qa(r);return new Tf(e.path,i)}isEqual(e){return this===e}}class n9 extends fu{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=_F(this,e,!0),r=this.ha.map(s=>mu(s,n)),i=new Ha(r);return new Tf(e.path,i)}isEqual(e){return this===e}}class r9 extends fu{constructor(e,n){super(e),this.la=n}_toFieldTransform(e){const n=new kl(e.wt,YL(e.wt,this.la));return new Tf(e.path,n)}isEqual(e){return this===e}}function TT(t,e,n,r){const i=t.aa(1,e,n);CT("Data must be an object, but it was:",i,r);const s=[],o=wn.empty();hu(r,(u,l)=>{const c=RT(e,u,n);l=ue(l);const d=i.ia(c);if(l instanceof kf)s.push(c);else{const h=mu(l,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Pr(s);return new yF(o,a,i.fieldTransforms)}function AT(t,e,n,r,i,s){const o=t.aa(1,e,n),a=[XE(e,r,n)],u=[i];if(s.length%2!=0)throw new Y(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(XE(e,s[h])),u.push(s[h+1]);const l=[],c=wn.empty();for(let h=a.length-1;h>=0;--h)if(!SF(l,a[h])){const m=a[h];let g=u[h];g=ue(g);const _=o.ia(m);if(g instanceof kf)l.push(m);else{const S=mu(g,_);S!=null&&(l.push(m),c.set(m,S))}}const d=new Pr(l);return new yF(c,d,o.fieldTransforms)}function wF(t,e,n,r=!1){return mu(n,t.aa(r?4:3,e))}function mu(t,e){if(bF(t=ue(t)))return CT("Unsupported field value:",e,t),EF(t,e);if(t instanceof fu)return function(n,r){if(!vF(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=mu(o,r.ra(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ue(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YL(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=gt.fromDate(n);return{timestampValue:Ph(r.wt,i)}}if(n instanceof gt){const i=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ph(r.wt,i)}}if(n instanceof Vy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wi)return{bytesValue:cM(r.wt,n._byteString)};if(n instanceof lt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:HI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${jy(n)}`)}(t,e)}function EF(t,e){const n={};return FL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hu(t,(r,i)=>{const s=mu(i,e.ea(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Vy||t instanceof Wi||t instanceof lt||t instanceof fu)}function CT(t,e,n){if(!bF(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=jy(n);throw r==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function XE(t,e,n){if((e=ue(e))instanceof Oo)return e._internalPath;if(typeof e=="string")return RT(t,e);throw pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const i9=new RegExp("[~\\*/\\[\\]]");function RT(t,e,n){if(e.search(i9)>=0)throw pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oo(...e.split("."))._internalPath}catch{throw pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Y(j.INVALID_ARGUMENT,a+t+u)}function SF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s9 extends Nh{data(){return super.data()}}function qy(t,e){return typeof e=="string"?RT(t,e):e instanceof Oo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _s extends Nh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jd extends _s{data(e={}){return super.data(e)}}class ko{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new va(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jd(this._firestore,this._userDataWriter,r.key,r,new va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new jd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new va(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new jd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new va(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:o9(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function IF(t,e){return t instanceof _s&&e instanceof _s?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ko&&e instanceof ko&&t._firestore===e._firestore&&fF(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xf{}function Us(t,...e){for(const n of e)t=n._apply(t);return t}class a9 extends xf{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=pu(e.firestore),r=function(i,s,o,a,u,l,c){let d;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new Y(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){yO(c,l);const m=[];for(const g of c)m.push(gO(a,i,g));d={arrayValue:{values:m}}}else d=gO(a,i,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||yO(c,l),d=wF(o,s,c,l==="in"||l==="not-in");const h=En.create(u,l,d);return function(m,g){if(g.ht()){const S=VI(m);if(S!==null&&!S.isEqual(g.field))throw new Y(j.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${S.toString()}' and '${g.field.toString()}'`);const v=jI(m);v!==null&&OF(m,g.field,v)}const _=function(S,v){for(const y of S.filters)if(v.indexOf(y.op)>=0)return y.op;return null}(m,function(S){switch(S){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(g.op));if(_!==null)throw _===g.op?new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${g.op.toString()}' filter.`):new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${g.op.toString()}' filters with '${_.toString()}' filters.`)}(i,h),h}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new Mn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Cs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function u9(t,e,n){const r=e,i=qy("where",t);return new a9(i,r,n)}class l9 extends xf{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Y(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Y(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new cl(i,s);return function(a,u){if(jI(a)===null){const l=VI(a);l!==null&&OF(a,l,u.field)}}(r,o),o}(e._query,this.fa,this.wa);return new Mn(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Cs(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function c9(t,e="asc"){const n=e,r=qy("orderBy",t);return new l9(r,n)}class AF extends xf{constructor(e,n,r){super(),this.type=e,this.ma=n,this.ga=r}_apply(e){return new Mn(e.firestore,e.converter,ag(e._query,this.ma,this.ga))}}function d9(t){return dF("limit",t),new AF("limit",t,"F")}function h9(t){return dF("limitToLast",t),new AF("limitToLast",t,"L")}class CF extends xf{constructor(e,n,r){super(),this.type=e,this.ya=n,this.pa=r}_apply(e){const n=PF(e,this.type,this.ya,this.pa);return new Mn(e.firestore,e.converter,function(r,i){return new Cs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function f9(...t){return new CF("startAt",t,!0)}function p9(...t){return new CF("startAfter",t,!1)}class RF extends xf{constructor(e,n,r){super(),this.type=e,this.ya=n,this.pa=r}_apply(e){const n=PF(e,this.type,this.ya,this.pa);return new Mn(e.firestore,e.converter,function(r,i){return new Cs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function m9(...t){return new RF("endBefore",t,!1)}function g9(...t){return new RF("endAt",t,!0)}function PF(t,e,n,r){if(n[0]=ue(n[0]),n[0]instanceof Nh)return function(i,s,o,a,u){if(!a)throw new Y(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const l=[];for(const c of Pl(i))if(c.field.isKeyField())l.push(Wa(s,a.key));else{const d=a.data.field(c.field);if(BI(d))throw new Y(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new Y(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}l.push(d)}return new Co(l,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=pu(t.firestore);return function(s,o,a,u,l,c){const d=s.explicitOrderBy;if(l.length>d.length)throw new Y(j.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let m=0;m<l.length;m++){const g=l[m];if(d[m].field.isKeyField()){if(typeof g!="string")throw new Y(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!WI(s)&&g.indexOf("/")!==-1)throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const _=s.path.child(Ve.fromString(g));if(!ie.isDocumentKey(_))throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const S=new ie(_);h.push(Wa(o,S))}else{const _=wF(a,u,g);h.push(_)}}return new Co(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function gO(t,e,n){if(typeof(n=ue(n))=="string"){if(n==="")throw new Y(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WI(e)&&n.indexOf("/")!==-1)throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ie.isDocumentKey(r))throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wa(t,new ie(r))}if(n instanceof lt)return Wa(t,n._key);throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jy(n)}.`)}function yO(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Y(j.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function OF(t,e,n){if(!n.isEqual(e))throw new Y(j.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{convertValue(e,n="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){const r={};return hu(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Vy(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=UL(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const n=To(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Ie(_M(r));const i=new vs(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||xt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class v9 extends PT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pu(e)}set(e,n,r){this._verifyNotCommitted();const i=Gs(e,this._firestore),s=Hy(i.converter,n,r),o=zy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,wt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Gs(e,this._firestore);let o;return o=typeof(n=ue(n))=="string"||n instanceof Oo?AT(this._dataReader,"WriteBatch.update",s._key,n,r,i):TT(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,wt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Gs(e,this._firestore);return this._mutations=this._mutations.concat(new uc(n._key,wt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Y(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gs(t,e){if((t=ue(t)).firestore!==e)throw new Y(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){t=We(t,lt);const e=We(t.firestore,St);return uF(Gt(e),t._key).then(n=>kT(e,t,n))}class gu extends PT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function w9(t){t=We(t,lt);const e=We(t.firestore,St),n=Gt(e),r=new gu(e);return xY(n,t._key).then(i=>new _s(e,r,t._key,i,new va(i!==null&&i.hasLocalMutations,!0),t.converter))}function E9(t){t=We(t,lt);const e=We(t.firestore,St);return uF(Gt(e),t._key,{source:"server"}).then(n=>kT(e,t,n))}function b9(t){t=We(t,Mn);const e=We(t.firestore,St),n=Gt(e),r=new gu(e);return TF(t._query),lF(n,t._query).then(i=>new ko(e,r,t,i))}function S9(t){t=We(t,Mn);const e=We(t.firestore,St),n=Gt(e),r=new gu(e);return DY(n,t._query).then(i=>new ko(e,r,t,i))}function I9(t){t=We(t,Mn);const e=We(t.firestore,St),n=Gt(e),r=new gu(e);return lF(n,t._query,{source:"server"}).then(i=>new ko(e,r,t,i))}function vO(t,e,n){t=We(t,lt);const r=We(t.firestore,St),i=Hy(t.converter,e,n);return fc(r,[zy(pu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wt.none())])}function _O(t,e,n,...r){t=We(t,lt);const i=We(t.firestore,St),s=pu(i);let o;return o=typeof(e=ue(e))=="string"||e instanceof Oo?AT(s,"updateDoc",t._key,e,n,r):TT(s,"updateDoc",t._key,e),fc(i,[o.toMutation(t._key,wt.exists(!0))])}function xF(t){return fc(We(t.firestore,St),[new uc(t._key,wt.none())])}function T9(t,e){const n=We(t.firestore,St),r=Po(t),i=Hy(t.converter,e);return fc(n,[zy(pu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wt.exists(!1))]).then(()=>r)}function OT(t,...e){var n,r,i;t=ue(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||YE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(YE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let u,l,c;if(t instanceof lt)l=We(t.firestore,St),c=oc(t._key.path),u={next:d=>{e[o]&&e[o](kT(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=We(t,Mn);l=We(d.firestore,St),c=d._query;const h=new gu(l);u={next:m=>{e[o]&&e[o](new ko(l,h,d,m))},error:e[o+1],complete:e[o+2]},TF(t._query)}return function(d,h,m,g){const _=new Uy(g),S=new dT(h,_,m);return d.asyncQueue.enqueueAndForget(async()=>uT(await Ll(d),S)),()=>{_.Tc(),d.asyncQueue.enqueueAndForget(async()=>lT(await Ll(d),S))}}(Gt(l),c,a,u)}function A9(t,e){return NY(Gt(t=We(t,St)),YE(e)?e:{next:e})}function fc(t,e){return function(n,r){const i=new on;return n.asyncQueue.enqueueAndForget(async()=>lY(await ET(n),r,i)),i.promise}(Gt(t),e)}function kT(t,e,n){const r=n.docs.get(e._key),i=new gu(t);return new _s(t,i,e._key,r,new va(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=pu(e)}get(e){const n=Gs(e,this._firestore),r=new v9(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ge();const s=i[0];if(s.isFoundDocument())return new Nh(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Nh(this._firestore,r,n._key,null,n.converter);throw ge()})}set(e,n,r){const i=Gs(e,this._firestore),s=Hy(i.converter,n,r),o=zy(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Gs(e,this._firestore);let o;return o=typeof(n=ue(n))=="string"||n instanceof Oo?AT(this._dataReader,"Transaction.update",s._key,n,r,i):TT(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Gs(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Gs(e,this._firestore),r=new gu(this._firestore);return super.get(e).then(i=>new _s(this._firestore,r,n._key,i._document,new va(!1,!1),n.converter))}}function R9(t,e,n){t=We(t,St);const r=Object.assign(Object.assign({},y9),n);return function(i){if(i.maxAttempts<1)throw new Y(j.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),$Y(Gt(t),i=>e(new C9(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){return new kf("deleteField")}function O9(){return new IT("serverTimestamp")}function k9(...t){return new t9("arrayUnion",t)}function x9(...t){return new n9("arrayRemove",t)}function D9(t){return new r9("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t){return Gt(t=We(t,St)),new kF(t,e=>fc(t,e))}(function(t,e=!0){(function(n){sc=n})(As),ji(new mr("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new St(i,new B8(n.getProvider("auth-internal")),new z8(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Kn(gP,"3.4.14",t),Kn(gP,"3.4.14","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="firebasestorage.googleapis.com",NF="storageBucket",N9=2*60*1e3,$9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends Dn{constructor(e,n){super($w(e),`Firebase Storage: ${n} (${$w(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}_codeEquals(e){return $w(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function $w(t){return"storage/"+t}function DT(){const t="An unknown error occurred, please check the error payload for server response.";return new Nt("unknown",t)}function L9(t){return new Nt("object-not-found","Object '"+t+"' does not exist.")}function M9(t){return new Nt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function F9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt("unauthenticated",t)}function U9(){return new Nt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function B9(t){return new Nt("unauthorized","User does not have permission to access '"+t+"'.")}function j9(){return new Nt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function V9(){return new Nt("canceled","User canceled the upload/download.")}function W9(t){return new Nt("invalid-url","Invalid URL '"+t+"'.")}function z9(t){return new Nt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function q9(){return new Nt("no-default-bucket","No default bucket found. Did you set the '"+NF+"' property when initializing the app?")}function H9(){return new Nt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function G9(){return new Nt("no-download-url","The given file does not have any download URLs.")}function JE(t){return new Nt("invalid-argument",t)}function $F(){return new Nt("app-deleted","The Firebase app was deleted.")}function K9(t){return new Nt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vd(t,e){return new Nt("invalid-format","String does not match format '"+t+"': "+e)}function nd(t){throw new Nt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(r.path==="")return r;throw z9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},_=n===DF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",v=new RegExp(`^https?://${_}/${i}/${S}`,"i"),w=[{regex:a,indices:u,postModify:s},{regex:m,indices:g,postModify:l},{regex:v,indices:{bucket:1,path:2},postModify:l}];for(let b=0;b<w.length;b++){const T=w[b],C=T.regex.exec(e);if(C){const I=C[T.indices.bucket];let A=C[T.indices.path];A||(A=""),r=new Ar(I,A),T.postModify(r);break}}if(r==null)throw W9(e);return r}}class Q9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...S){l||(l=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(m,u())},S)}function h(){s&&clearTimeout(s)}function m(S,...v){if(l){h();return}if(S){h(),c.call(null,S,...v);return}if(u()||o){h(),c.call(null,S,...v);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function _(S){g||(g=!0,h(),!l&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function X9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){return t!==void 0}function Z9(t){return typeof t=="object"&&!Array.isArray(t)}function NT(t){return typeof t=="string"||t instanceof String}function wO(t){return $T()&&t instanceof Blob}function $T(){return typeof Blob<"u"}function EO(t,e,n,r){if(r<e)throw JE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw JE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function LF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ta;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e,n,r,i,s,o,a,u,l,c,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Bp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ta.NO_ERROR,u=s.getStatus();if(!a||this.isRetryStatusCode_(u)){const c=s.getErrorCode()===Ta.ABORT;r(!1,new Bp(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Bp(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());J9(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=DT();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?$F():V9();o(u)}else{const u=j9();o(u)}};this.canceled_?n(!1,new Bp(!1,null,!0)):this.backoffId_=Y9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class Bp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function rX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sX(t,e,n,r,i,s){const o=LF(t.urlParams),a=t.url+o,u=Object.assign({},t.headers);return rX(u,e),tX(u,n),nX(u,s),iX(u,r),new eX(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aX(...t){const e=oX();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($T())return new Blob(t);throw new Nt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function uX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lw{constructor(e,n){this.data=e,this.contentType=n||null}}function cX(t,e){switch(t){case Pi.RAW:return new Lw(MF(e));case Pi.BASE64:case Pi.BASE64URL:return new Lw(FF(t,e));case Pi.DATA_URL:return new Lw(hX(e),fX(e))}throw DT()}function MF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dX(t){let e;try{e=decodeURIComponent(t)}catch{throw Vd(Pi.DATA_URL,"Malformed data URL.")}return MF(e)}function FF(t,e){switch(t){case Pi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Vd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Pi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Vd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=lX(e)}catch{throw Vd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class UF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vd(Pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=pX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function hX(t){const e=new UF(t);return e.base64?FF(Pi.BASE64,e.rest):dX(e.rest)}function fX(t){return new UF(t).contentType}function pX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){let r=0,i="";wO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(wO(this.data_)){const r=this.data_,i=uX(r,e,n);return i===null?null:new Ks(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ks(r,!0)}}static getBlob(...e){if($T()){const n=e.map(r=>r instanceof Ks?r.data_:r);return new Ks(aX.apply(null,n))}else{const n=e.map(o=>NT(o)?cX(Pi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ks(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){let e;try{e=JSON.parse(t)}catch{return null}return Z9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function jF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(t,e){return e}class Un{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||yX}}let jp=null;function vX(t){return!NT(t)||t.length<2?t:jF(t)}function VF(){if(jp)return jp;const t=[];t.push(new Un("bucket")),t.push(new Un("generation")),t.push(new Un("metageneration")),t.push(new Un("name","fullPath",!0));function e(s,o){return vX(o)}const n=new Un("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Un("size");return i.xform=r,t.push(i),t.push(new Un("timeCreated")),t.push(new Un("updated")),t.push(new Un("md5Hash",null,!0)),t.push(new Un("cacheControl",null,!0)),t.push(new Un("contentDisposition",null,!0)),t.push(new Un("contentEncoding",null,!0)),t.push(new Un("contentLanguage",null,!0)),t.push(new Un("contentType",null,!0)),t.push(new Un("metadata","customMetadata",!0)),jp=t,jp}function _X(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ar(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function wX(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return _X(r,t),r}function WF(t,e,n){const r=BF(e);return r===null?null:wX(t,r,n)}function EX(t,e,n,r){const i=BF(e);if(i===null||!NT(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),m=LT(h,n,r),g=LF({alt:"media",token:l});return m+g})[0]}function bX(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class zF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){if(!t)throw DT()}function SX(t,e){function n(r,i){const s=WF(t,i,e);return qF(s!==null),s}return n}function IX(t,e){function n(r,i){const s=WF(t,i,e);return qF(s!==null),EX(s,i,t.host,t._protocol)}return n}function HF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=U9():i=F9():n.getStatus()===402?i=M9(t.bucket):n.getStatus()===403?i=B9(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function TX(t){const e=HF(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=L9(t.path)),s.serverResponse=i.serverResponse,s}return n}function AX(t,e,n){const r=e.fullServerUrl(),i=LT(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new zF(i,s,IX(t,n),o);return a.errorHandler=TX(e),a}function CX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function RX(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=CX(null,e)),r}function PX(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let b=0;b<2;b++)w=w+Math.random().toString().slice(2);return w}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=RX(e,r,i),c=bX(l,n),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+u+"--",m=Ks.getBlob(d,r,h);if(m===null)throw H9();const g={name:l.fullPath},_=LT(s,t.host,t._protocol),S="POST",v=t.maxUploadRetryTime,y=new zF(_,S,SX(t,n),v);return y.urlParams=g,y.headers=o,y.body=m.uploadData(),y.errorHandler=HF(e),y}class OX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw nd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kX extends OX{initXhr(){this.xhr_.responseType="text"}}function GF(){return new kX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ya(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jF(this._location.path)}get storage(){return this._service}get parent(){const e=mX(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new Ya(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K9(e)}}function xX(t,e,n){t._throwIfRoot("uploadBytes");const r=PX(t.storage,t._location,VF(),new Ks(e,!0),n);return t.storage.makeRequestWithTokens(r,GF).then(i=>({metadata:i,ref:t}))}function DX(t){t._throwIfRoot("getDownloadURL");const e=AX(t.storage,t._location,VF());return t.storage.makeRequestWithTokens(e,GF).then(n=>{if(n===null)throw G9();return n})}function NX(t,e){const n=gX(t._location.path,e),r=new Ar(t._location.bucket,n);return new Ya(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(t){return/^[A-Za-z]+:\/\//.test(t)}function LX(t,e){return new Ya(t,e)}function KF(t,e){if(t instanceof MT){const n=t;if(n._bucket==null)throw q9();const r=new Ya(n,n._bucket);return e!=null?KF(r,e):r}else return e!==void 0?NX(t,e):t}function MX(t,e){if(e&&$X(e)){if(t instanceof MT)return LX(t,e);throw JE("To use ref(service, url), the first argument must be a Storage instance.")}else return KF(t,e)}function bO(t,e){const n=e==null?void 0:e[NF];return n==null?null:Ar.makeFromBucketSpec(n,t)}class MT{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=DF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=N9,this._maxUploadRetryTime=$9,this._requests=new Set,i!=null?this._bucket=Ar.makeFromBucketSpec(i,this._host):this._bucket=bO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=bO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ya(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new Q9($F());{const s=sX(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SO="@firebase/storage",IO="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF="storage";function jke(t,e,n){return t=ue(t),xX(t,e,n)}function Vke(t){return t=ue(t),DX(t)}function Wke(t,e){return t=ue(t),MX(t,e)}function FX(t=yy(),e){return t=ue(t),tc(t,QF).getImmediate({identifier:e})}function UX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new MT(n,r,i,e,As)}function BX(){ji(new mr(QF,UX,"PUBLIC").setMultipleInstances(!0)),Kn(SO,IO,""),Kn(SO,IO,"esm2017")}BX();function FT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const rd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function YF(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VX=jX,WX=YF,XF=new lu("auth","Firebase",YF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new ec("@firebase/auth");function pm(t,...e){TO.logLevel<=je.ERROR&&TO.error(`Auth (${As}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw UT(t,...e)}function Tn(t,...e){return UT(t,...e)}function JF(t,e,n){const r=Object.assign(Object.assign({},WX()),{[e]:n});return new lu("auth","Firebase",r).create(e,{appName:t.name})}function pc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ln(t,"argument-error"),JF(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function UT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XF.create(t,...e)}function ee(t,e,...n){if(!t)throw UT(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pm(e),new Error(e)}function pi(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Map;function Cr(t){pi(t instanceof Function,"Expected a class definition");let e=AO.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AO.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t,e){const n=tc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gm(s,e!=null?e:{}))return i;ln(i,"already-initialized")}return n.initialize({options:e})}function qX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BT(){return CO()==="http:"||CO()==="https:"}function CO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BT()||uI()||"connection"in navigator)?navigator.onLine:!0}function GX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=my()||hf()}get(){return HX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=new Df(3e4,6e4);function Kt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fn(t,e,n,r,i={}){return eU(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),ZF.fetch()(tU(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function eU(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KX),e);try{const i=new YX(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw bd(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JF(t,c,l);ln(t,c)}}catch(i){if(i instanceof Dn)throw i;ln(t,"network-request-failed")}}async function Os(t,e,n,r,i={}){const s=await fn(t,e,n,r,i);return"mfaPendingCredential"in s&&ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jT(t.config,i):`${t.config.apiScheme}://${i}`}class YX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tn(this.auth,"network-request-failed")),QX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XX(t,e){return fn(t,"POST","/v1/accounts:delete",e)}async function JX(t,e){return fn(t,"POST","/v1/accounts:update",e)}async function ZX(t,e){return fn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eJ(t,e=!1){const n=ue(t),r=await n.getIdToken(e),i=Gy(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wd(Mw(i.auth_time)),issuedAtTime:Wd(Mw(i.iat)),expirationTime:Wd(Mw(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mw(t){return Number(t)*1e3}function Gy(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return pm("JWT malformed, contained fewer than 3 sections"),null;try{const s=SE(r);return s?JSON.parse(s):(pm("Failed to decode base64 JWT payload"),null)}catch(s){return pm("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function tJ(t){const e=Gy(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dn&&nJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wd(this.lastLoginAt),this.creationTime=Wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ws(t,ZX(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oJ(s.providerUserInfo):[],a=sJ(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nU(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function iJ(t){const e=ue(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oJ(t){return t.map(e=>{var{providerId:n}=e,r=FT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(t,e){const n=await eU(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tU(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZF.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tJ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await aJ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mh;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mh,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Aa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=FT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nU(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ws(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eJ(this,e)}reload(){return iJ(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ws(this,XX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(l=n.createdAt)!==null&&l!==void 0?l:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:b,isAnonymous:T,providerData:C,stsTokenManager:I}=n;ee(w&&I,e,"internal-error");const A=Mh.fromJSON(this.name,I);ee(typeof w=="string",e,"internal-error"),Bs(d,e.name),Bs(h,e.name),ee(typeof b=="boolean",e,"internal-error"),ee(typeof T=="boolean",e,"internal-error"),Bs(m,e.name),Bs(g,e.name),Bs(_,e.name),Bs(S,e.name),Bs(v,e.name),Bs(y,e.name);const L=new Aa({uid:w,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:T,photoURL:g,phoneNumber:m,tenantId:_,stsTokenManager:A,createdAt:v,lastLoginAt:y});return C&&Array.isArray(C)&&(L.providerData=C.map(k=>Object.assign({},k))),S&&(L._redirectEventId=S),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mh;i.updateFromServerResponse(n);const s=new Aa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lh(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rU.type="NONE";const Ml=rU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,e,n){return`firebase:${t}:${e}:${n}`}class hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ca(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ca("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Aa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hl(Cr(Ml),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Cr(Ml);const o=Ca(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const d=Aa._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new hl(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new hl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aU(e))return"Blackberry";if(uU(e))return"Webos";if(VT(e))return"Safari";if((e.includes("chrome/")||sU(e))&&!e.includes("edge/"))return"Chrome";if(Nf(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iU(t=ct()){return/firefox\//i.test(t)}function VT(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sU(t=ct()){return/crios\//i.test(t)}function oU(t=ct()){return/iemobile/i.test(t)}function Nf(t=ct()){return/android/i.test(t)}function aU(t=ct()){return/blackberry/i.test(t)}function uU(t=ct()){return/webos/i.test(t)}function mc(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uJ(t=ct()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function lJ(t=ct()){var e;return mc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cJ(){return lI()&&document.documentMode===10}function lU(t=ct()){return mc(t)||Nf(t)||uU(t)||aU(t)||/windows phone/i.test(t)||oU(t)}function dJ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e=[]){let n;switch(t){case"Browser":n=RO(ct());break;case"Worker":n=`${RO(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${As}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PO(this),this.idTokenSubscription=new PO(this),this.beforeStateQueue=new hJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XF,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u==null?void 0:u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Lh(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ue(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function cn(t){return ue(t)}class PO{constructor(e){this.auth=e,this.observer=null,this.addObserver=v2(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pJ(t,e,n){const r=cn(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=dU(e),{host:o,port:a}=mJ(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||gJ()}function dU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mJ(t){const e=dU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OO(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:OO(o)}}}function OO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e){return fn(t,"POST","/v1/accounts:resetPassword",Kt(t,e))}async function fU(t,e){return fn(t,"POST","/v1/accounts:update",e)}async function yJ(t,e){return fn(t,"POST","/v1/accounts:update",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vJ(t,e){return Os(t,"POST","/v1/accounts:signInWithPassword",Kt(t,e))}async function Ky(t,e){return fn(t,"POST","/v1/accounts:sendOobCode",Kt(t,e))}async function _J(t,e){return Ky(t,e)}async function wJ(t,e){return Ky(t,e)}async function EJ(t,e){return Ky(t,e)}async function bJ(t,e){return Ky(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SJ(t,e){return Os(t,"POST","/v1/accounts:signInWithEmailLink",Kt(t,e))}async function IJ(t,e){return Os(t,"POST","/v1/accounts:signInWithEmailLink",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends gc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vJ(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return SJ(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return fU(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return IJ(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ds(t,e){return Os(t,"POST","/v1/accounts:signInWithIdp",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ="http://localhost";class zi extends gc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=FT(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ds(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ds(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ds(e,n)}buildRequest(){const e={requestUri:TJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AJ(t,e){return fn(t,"POST","/v1/accounts:sendVerificationCode",Kt(t,e))}async function CJ(t,e){return Os(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,e))}async function RJ(t,e){const n=await Os(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,e));if(n.temporaryProof)throw bd(t,"account-exists-with-different-credential",n);return n}const PJ={USER_NOT_FOUND:"user-not-found"};async function OJ(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Os(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,n),PJ)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends gc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ra({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ra({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return CJ(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return RJ(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return OJ(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Ra({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xJ(t){const e=Zu(vd(t)).link,n=e?Zu(vd(e)).deep_link_id:null,r=Zu(vd(t)).deep_link_id;return(r?Zu(vd(r)).link:null)||r||n||e||t}class Qy{constructor(e){var n,r,i,s,o,a;const u=Zu(vd(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,d=kJ((i=u.mode)!==null&&i!==void 0?i:null);ee(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=xJ(e);try{return new Qy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.providerId=gi.PROVIDER_ID}static credential(e,n){return Fh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Qy.parseLink(n);return ee(r,"argument-error"),Fh._fromEmailAndCode(e,r.code,r.tenantId)}}gi.PROVIDER_ID="password";gi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fl extends yc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ee("providerId"in n&&"signInMethod"in n,"argument-error"),zi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ee(e.idToken||e.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return fl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return fl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new fl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends yc{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zi._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends yc{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ="http://localhost";class Fl extends gc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ds(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ds(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ds(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Fl(r,s)}static _create(e,n){return new Fl(e,n)}buildRequest(){return{requestUri:DJ,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ="saml.";class mg extends ks{constructor(e){ee(e.startsWith(NJ),"argument-error"),super(e)}static credentialFromResult(e){return mg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return mg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Fl.fromJSON(e);return ee(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Fl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends yc{constructor(){super("twitter.com")}static credential(e,n){return zi._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){return Os(t,"POST","/v1/accounts:signUp",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Aa._fromIdTokenResponse(e,r,i),o=kO(r);return new Jr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kO(r);return new Jr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $J(t){var e;const n=cn(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Jr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await pU(n,{returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends Dn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gg(e,n,r,i)}}function mU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){const n=ue(t);await Yy(!0,n,e);const{providerUserInfo:r}=await JX(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=gU(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function WT(t,e,n=!1){const r=await ws(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jr._forOperation(t,"link",r)}async function Yy(t,e,n){await Lh(e);const r=gU(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ee(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await ws(t,mU(i,s,e,t),n);ee(o.idToken,i,"internal-error");const a=Gy(o.idToken);ee(a,i,"internal-error");const{sub:u}=a;return ee(t.uid===u,i,"user-mismatch"),Jr._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&ln(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e,n=!1){const r="signIn",i=await mU(t,r,e),s=await Jr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Xy(t,e){return _U(cn(t),e)}async function wU(t,e){const n=ue(t);return await Yy(!1,n,e.providerId),WT(n,e)}async function $f(t,e){return vU(ue(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LJ(t,e){return Os(t,"POST","/v1/accounts:signInWithCustomToken",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MJ(t,e){const n=cn(t),r=await LJ(n,{token:e,returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?zT._fromServerResponse(e,n):ln(e,"internal-error")}}class zT extends Jy{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new zT(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e,n){var r;ee(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e,n){const r=ue(t),i={requestType:"PASSWORD_RESET",email:e};n&&Zy(r,i,n),await wJ(r,i)}async function FJ(t,e,n){await hU(ue(t),{oobCode:e,newPassword:n})}async function UJ(t,e){await yJ(ue(t),{oobCode:e})}async function bU(t,e){const n=ue(t),r=await hU(n,{oobCode:e}),i=r.requestType;switch(ee(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(r.mfaInfo,n,"internal-error");default:ee(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Jy._fromServerResponse(cn(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function BJ(t,e){const{data:n}=await bU(ue(t),e);return n.email}async function SU(t,e,n){const r=cn(t),i=await pU(r,{returnSecureToken:!0,email:e,password:n}),s=await Jr._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function IU(t,e,n){return Xy(ue(t),gi.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jJ(t,e,n){const r=ue(t),i={requestType:"EMAIL_SIGNIN",email:e};ee(n.handleCodeInApp,r,"argument-error"),n&&Zy(r,i,n),await EJ(r,i)}function VJ(t,e){const n=Qy.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function WJ(t,e,n){const r=ue(t),i=gi.credentialWithLink(e,n||$h());return ee(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Xy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zJ(t,e){return fn(t,"POST","/v1/accounts:createAuthUri",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qJ(t,e){const n=BT()?$h():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await zJ(ue(t),r);return i||[]}async function qT(t,e){const n=ue(t),r=await t.getIdToken(),i={requestType:"VERIFY_EMAIL",idToken:r};e&&Zy(n.auth,i,e);const{email:s}=await _J(n.auth,i);s!==t.email&&await t.reload()}async function HJ(t,e,n){const r=ue(t),i=await t.getIdToken(),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:e};n&&Zy(r.auth,s,n);const{email:o}=await bJ(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJ(t,e){return fn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ue(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ws(r,GJ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function AU(t,e){return RU(ue(t),e,null)}function CU(t,e){return RU(ue(t),null,e)}async function RU(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await ws(t,fU(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t==null?void 0:t.idToken)){const o=(n=(e=Gy(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new pl(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new QJ(s,i);case"github.com":return new YJ(s,i);case"google.com":return new XJ(s,i);case"twitter.com":return new JJ(s,i,t.screenName||null);case"custom":case"anonymous":return new pl(s,null);default:return new pl(s,r,i)}}class pl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class PU extends pl{constructor(e,n,r,i){super(e,n,r),this.username=i}}class QJ extends pl{constructor(e,n){super(e,"facebook.com",n)}}class YJ extends PU{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class XJ extends pl{constructor(e,n){super(e,"google.com",n)}}class JJ extends PU{constructor(e,n,r){super(e,"twitter.com",n,r)}}function ZJ(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:KJ(n)}function eZ(t,e,n,r){return ue(t).onAuthStateChanged(e,n,r)}function tZ(t){return ue(t).signOut()}async function nZ(t){return ue(t).delete()}class _a{constructor(e,n){this.type=e,this.credential=n}static _fromIdtoken(e){return new _a("enroll",e)}static _fromMfaPendingCredential(e){return new _a("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return _a._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return _a._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=cn(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Jy._fromServerResponse(r,a));ee(i.mfaPendingCredential,r,"internal-error");const o=_a._fromMfaPendingCredential(i.mfaPendingCredential);return new HT(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const c=await Jr._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return ee(n.user,r,"internal-error"),Jr._forOperation(n.user,n.operationType,l);default:ln(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function rZ(t,e){var n;const r=ue(t),i=e;return ee(e.customData.operationType,r,"argument-error"),ee((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),HT._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t,e){return fn(t,"POST","/v2/accounts/mfaEnrollment:start",Kt(t,e))}function sZ(t,e){return fn(t,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(t,e))}function oZ(t,e){return fn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(t,e))}class GT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Jy._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new GT(e)}async getSession(){return _a._fromIdtoken(await this.user.getIdToken())}async enroll(e,n){const r=e,i=await this.getSession(),s=await ws(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){var n;const r=typeof e=="string"?e:e.uid,i=await this.user.getIdToken(),s=await ws(this.user,oZ(this.user.auth,{idToken:i,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==r),await this.user._updateTokensIfNecessary(s);try{await this.user.reload()}catch(o){if(((n=o)===null||n===void 0?void 0:n.code)!=="auth/user-token-expired")throw o}}}const Fw=new WeakMap;function aZ(t){const e=ue(t);return Fw.has(e)||Fw.set(e,GT._fromUser(e)),Fw.get(e)}const yg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yg,"1"),this.storage.removeItem(yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uZ(){const t=ct();return VT(t)||mc(t)}const lZ=1e3,cZ=10;class kU extends OU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=uZ()&&dJ(),this.fallbackToPolling=lU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);cJ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kU.type="LOCAL";const ev=kU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU extends OU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xU.type="SESSION";const xo=xU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await dZ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=Lf("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return window}function fZ(t){Wt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof Wt().WorkerGlobalScope<"u"&&typeof Wt().importScripts=="function"}async function pZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gZ(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="firebaseLocalStorageDb",yZ=1,vg="firebaseLocalStorage",NU="fbase_key";class Mf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nv(t,e){return t.transaction([vg],e?"readwrite":"readonly").objectStore(vg)}function vZ(){const t=indexedDB.deleteDatabase(DU);return new Mf(t).toPromise()}function ZE(){const t=indexedDB.open(DU,yZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vg,{keyPath:NU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vg)?e(r):(r.close(),await vZ(),e(await ZE()))})})}async function xO(t,e,n){const r=nv(t,!0).put({[NU]:e,value:n});return new Mf(r).toPromise()}async function _Z(t,e){const n=nv(t,!1).get(e),r=await new Mf(n).toPromise();return r===void 0?null:r.value}function DO(t,e){const n=nv(t,!0).delete(e);return new Mf(n).toPromise()}const wZ=800,EZ=3;class $U{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ZE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tv._getInstance(gZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pZ(),!this.activeServiceWorker)return;this.sender=new hZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ZE();return await xO(e,yg,"1"),await DO(e,yg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_Z(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nv(i,!1).getAll();return new Mf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$U.type="LOCAL";const Ul=$U;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t,e){return fn(t,"POST","/v2/accounts/mfaSignIn:start",Kt(t,e))}function SZ(t,e){return fn(t,"POST","/v2/accounts/mfaSignIn:finalize",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IZ(t){return(await fn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function LU(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",TZ().appendChild(r)})}function MU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ=500,CZ=6e4,Vp=1e12;class RZ{constructor(e){this.auth=e,this.counter=Vp,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new PZ(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Vp;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Vp;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Vp;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class PZ{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ee(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=OZ(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},CZ)},AZ))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function OZ(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=MU("rcb"),kZ=new Df(3e4,6e4),xZ="https://www.google.com/recaptcha/api.js?";class DZ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Wt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ee(NZ(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Wt().grecaptcha):new Promise((r,i)=>{const s=Wt().setTimeout(()=>{i(Tn(e,"network-request-failed"))},kZ.get());Wt()[Uw]=()=>{Wt().clearTimeout(s),delete Wt()[Uw];const a=Wt().grecaptcha;if(!a){i(Tn(e,"internal-error"));return}const u=a.render;a.render=(l,c)=>{const d=u(l,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${xZ}?${cu({onload:Uw,render:"explicit",hl:n})}`;LU(o).catch(()=>{clearTimeout(s),i(Tn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Wt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function NZ(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class $Z{async load(e){return new RZ(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="recaptcha",LZ={theme:"light",type:"image"};class MZ{constructor(e,n=Object.assign({},LZ),r){this.parameters=n,this.type=FU,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cn(r),this.isInvisible=this.parameters.size==="invisible",ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;ee(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $Z:new DZ,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{!o||(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Wt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ee(BT()&&!KT(),this.auth,"internal-error"),await FZ(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await IZ(this.auth);ee(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function FZ(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ra._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function UZ(t,e,n){const r=cn(t),i=await rv(r,e,ue(n));return new QT(i,s=>Xy(r,s))}async function BZ(t,e,n){const r=ue(t);await Yy(!1,r,"phone");const i=await rv(r.auth,e,ue(n));return new QT(i,s=>wU(r,s))}async function jZ(t,e,n){const r=ue(t),i=await rv(r.auth,e,ue(n));return new QT(i,s=>$f(r,s))}async function rv(t,e,n){var r;const i=await n.verify();try{ee(typeof i=="string",t,"argument-error"),ee(n.type===FU,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return ee(o.type==="enroll",t,"internal-error"),(await iZ(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{ee(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return ee(a,t,"missing-multi-factor-info"),(await bZ(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await AJ(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function VZ(t,e){await WT(ue(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.providerId=di.PROVIDER_ID,this.auth=cn(e)}verifyPhoneNumber(e,n){return rv(this.auth,e,ue(n))}static credential(e,n){return Ra._fromVerification(e,n)}static credentialFromResult(e){const n=e;return di.credentialFromTaggedObject(n)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ra._fromTokenResponse(n,r):null}}di.PROVIDER_ID="phone";di.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e){return e?Cr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends gc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ds(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ds(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WZ(t){return _U(t.auth,new YT(t),t.bypassAuthState)}function zZ(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),vU(n,new YT(t),t.bypassAuthState)}async function qZ(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),WT(n,new YT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WZ;case"linkViaPopup":case"linkViaRedirect":return qZ;case"reauthViaPopup":case"reauthViaRedirect":return zZ;default:ln(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ=new Df(2e3,1e4);async function BU(t,e,n){const r=cn(t);pc(t,e,ks);const i=yu(r,n);return new os(r,"signInViaPopup",e,i).executeNotNull()}async function GZ(t,e,n){const r=ue(t);pc(r.auth,e,ks);const i=yu(r.auth,n);return new os(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function jU(t,e,n){const r=ue(t);pc(r.auth,e,ks);const i=yu(r.auth,n);return new os(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class os extends UU{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Lf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,HZ.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ="pendingRedirect",zd=new Map;class QZ extends UU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const r=await YZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YZ(t,e){const n=WU(e),r=VU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function XT(t,e){return VU(t)._set(WU(e),"true")}function XZ(){zd.clear()}function JT(t,e){zd.set(t._key(),e)}function VU(t){return Cr(t._redirectPersistence)}function WU(t){return Ca(KZ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(t,e,n){return ZZ(t,e,n)}async function ZZ(t,e,n){const r=cn(t);pc(t,e,ks);const i=yu(r,n);return await XT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function eee(t,e,n){return tee(t,e,n)}async function tee(t,e,n){const r=ue(t);pc(r.auth,e,ks);const i=yu(r.auth,n);await XT(i,r.auth);const s=await zU(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function nee(t,e,n){return ree(t,e,n)}async function ree(t,e,n){const r=ue(t);pc(r.auth,e,ks);const i=yu(r.auth,n);await Yy(!1,r,e.providerId),await XT(i,r.auth);const s=await zU(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function iee(t,e){return await cn(t)._initializationPromise,iv(t,e,!1)}async function iv(t,e,n=!1){const r=cn(t),i=yu(r,e),o=await new QZ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function zU(t){const e=Lf(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=10*60*1e3;class qU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HU(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=see&&this.cachedEventUids.clear(),this.cachedEventUids.has(NO(e))}saveEventToCache(e){this.cachedEventUids.add(NO(e)),this.lastProcessedEventTime=Date.now()}}function NO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e={}){return fn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uee=/^https?/;async function lee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GU(t);for(const n of e)try{if(cee(n))return}catch{}ln(t,"unauthorized-domain")}function cee(t){const e=$h(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uee.test(n))return!1;if(aee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dee=new Df(3e4,6e4);function $O(){const t=Wt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hee(t){return new Promise((e,n)=>{var r,i,s;function o(){$O(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$O(),n(Tn(t,"network-request-failed"))},timeout:dee.get()})}if(!((i=(r=Wt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Wt().gapi)===null||s===void 0)&&s.load)o();else{const a=MU("iframefcb");return Wt()[a]=()=>{gapi.load?o():n(Tn(t,"network-request-failed"))},LU(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw mm=null,e})}let mm=null;function fee(t){return mm=mm||hee(t),mm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=new Df(5e3,15e3),mee="__/auth/iframe",gee="emulator/auth/iframe",yee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _ee(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jT(e,gee):`https://${t.config.authDomain}/${mee}`,r={apiKey:e.apiKey,appName:t.name,v:As},i=vee.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cu(r).slice(1)}`}async function wee(t){const e=await fee(t),n=Wt().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:_ee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yee,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tn(t,"network-request-failed"),a=Wt().setTimeout(()=>{s(o)},pee.get());function u(){Wt().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bee=500,See=600,Iee="_blank",Tee="http://localhost";class LO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Aee(t,e,n,r=bee,i=See){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Eee),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ct().toLowerCase();n&&(a=sU(l)?Iee:n),iU(l)&&(e=e||Tee,u.scrollbars="yes");const c=Object.entries(u).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(lJ(l)&&a!=="_self")return Cee(e||"",a),new LO(null);const d=window.open(e||"",a,c);ee(d,t,"popup-blocked");try{d.focus()}catch{}return new LO(d)}function Cee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree="__/auth/handler",Pee="emulator/auth/handler";function eb(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:As,eventId:i};if(e instanceof ks){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof yc){const u=e.getScopes().filter(l=>l!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];return`${Oee(t)}?${cu(a).slice(1)}`}function Oee({config:t}){return t.emulator?jT(t,Pee):`https://${t.authDomain}/${Ree}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="webStorageSupport";class kee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xo,this._completeRedirectFn=iv,this._overrideRedirectResult=JT}async _openPopup(e,n,r,i){var s;pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=eb(e,n,r,$h(),i);return Aee(e,o,Lf())}async _openRedirect(e,n,r,i){return await this._originValidation(e),fZ(eb(e,n,r,$h(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wee(e),r=new qU(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bw,{type:Bw},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bw];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lU()||VT()||mc()}}const KU=kee;class xee{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Oi("unexpected MultiFactorSessionType")}}}class ZT extends xee{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ZT(e)}_finalizeEnroll(e,n,r){return sZ(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return SZ(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class QU{constructor(){}static assertion(e){return ZT._fromCredential(e)}}QU.FACTOR_ID="phone";var MO="@firebase/auth",FO="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $ee(t){ji(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{ee(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ee(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cU(t)},c=new fJ(a,u,l);return qX(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ji(new mr("auth-internal",e=>{const n=cn(e.getProvider("auth").getImmediate());return(r=>new Dee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(MO,FO,Nee(t)),Kn(MO,FO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(t=yy()){const e=tc(t,"auth");return e.isInitialized()?e.getImmediate():zX(t,{popupRedirectResolver:KU,persistence:[Ul,ev,xo]})}$ee("Browser");var YU={exports:{}};/*!
* sweetalert2 v11.4.29
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(Er,function(){const n="SweetAlert2:",r=f=>{const p=[];for(let E=0;E<f.length;E++)p.indexOf(f[E])===-1&&p.push(f[E]);return p},i=f=>f.charAt(0).toUpperCase()+f.slice(1),s=f=>{console.warn("".concat(n," ").concat(typeof f=="object"?f.join(" "):f))},o=f=>{console.error("".concat(n," ").concat(f))},a=[],u=f=>{a.includes(f)||(a.push(f),s(f))},l=(f,p)=>{u('"'.concat(f,'" is deprecated and will be removed in the next major release. Please use "').concat(p,'" instead.'))},c=f=>typeof f=="function"?f():f,d=f=>f&&typeof f.toPromise=="function",h=f=>d(f)?f.toPromise():Promise.resolve(f),m=f=>f&&Promise.resolve(f)===f,g=f=>f[Math.floor(Math.random()*f.length)],_={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},S=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],v={},y=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],w=f=>Object.prototype.hasOwnProperty.call(_,f),b=f=>S.indexOf(f)!==-1,T=f=>v[f],C=f=>{w(f)||s('Unknown parameter "'.concat(f,'"'))},I=f=>{y.includes(f)&&s('The parameter "'.concat(f,'" is incompatible with toasts'))},A=f=>{T(f)&&l(f,T(f))},L=f=>{!f.backdrop&&f.allowOutsideClick&&s('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const p in f)C(p),f.toast&&I(p),A(p)},k="swal2-",D=f=>{const p={};for(const E in f)p[f[E]]=k+f[E];return p},P=D(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),N=D(["success","warning","info","question","error"]),O=()=>document.body.querySelector(".".concat(P.container)),U=f=>{const p=O();return p?p.querySelector(f):null},F=f=>U(".".concat(f)),G=()=>F(P.popup),q=()=>F(P.icon),re=()=>F(P.title),se=()=>F(P["html-container"]),he=()=>F(P.image),ve=()=>F(P["progress-steps"]),Te=()=>F(P["validation-message"]),$e=()=>U(".".concat(P.actions," .").concat(P.confirm)),oe=()=>U(".".concat(P.actions," .").concat(P.deny)),H=()=>F(P["input-label"]),te=()=>U(".".concat(P.loader)),fe=()=>U(".".concat(P.actions," .").concat(P.cancel)),we=()=>F(P.actions),Xe=()=>F(P.footer),x=()=>F(P["timer-progress-bar"]),$=()=>F(P.close),B=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,K=()=>{const f=Array.from(G().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((E,R)=>{const W=parseInt(E.getAttribute("tabindex")),ye=parseInt(R.getAttribute("tabindex"));return W>ye?1:W<ye?-1:0}),p=Array.from(G().querySelectorAll(B)).filter(E=>E.getAttribute("tabindex")!=="-1");return r(f.concat(p)).filter(E=>wr(E))},ce=()=>_e(document.body,P.shown)&&!_e(document.body,P["toast-shown"])&&!_e(document.body,P["no-backdrop"]),le=()=>G()&&_e(G(),P.toast),z=()=>G().hasAttribute("data-loading"),V={previousBodyPadding:null},Q=(f,p)=>{if(f.textContent="",p){const R=new DOMParser().parseFromString(p,"text/html");Array.from(R.querySelector("head").childNodes).forEach(W=>{f.appendChild(W)}),Array.from(R.querySelector("body").childNodes).forEach(W=>{f.appendChild(W)})}},_e=(f,p)=>{if(!p)return!1;const E=p.split(/\s+/);for(let R=0;R<E.length;R++)if(!f.classList.contains(E[R]))return!1;return!0},Pt=(f,p)=>{Array.from(f.classList).forEach(E=>{!Object.values(P).includes(E)&&!Object.values(N).includes(E)&&!Object.values(p.showClass).includes(E)&&f.classList.remove(E)})},$t=(f,p,E)=>{if(Pt(f,p),p.customClass&&p.customClass[E]){if(typeof p.customClass[E]!="string"&&!p.customClass[E].forEach)return s("Invalid type of customClass.".concat(E,'! Expected string or iterable object, got "').concat(typeof p.customClass[E],'"'));Ue(f,p.customClass[E])}},Rn=(f,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return f.querySelector(".".concat(P.popup," > .").concat(P[p]));case"checkbox":return f.querySelector(".".concat(P.popup," > .").concat(P.checkbox," input"));case"radio":return f.querySelector(".".concat(P.popup," > .").concat(P.radio," input:checked"))||f.querySelector(".".concat(P.popup," > .").concat(P.radio," input:first-child"));case"range":return f.querySelector(".".concat(P.popup," > .").concat(P.range," input"));default:return f.querySelector(".".concat(P.popup," > .").concat(P.input))}},Ns=f=>{if(f.focus(),f.type!=="file"){const p=f.value;f.value="",f.value=p}},$s=(f,p,E)=>{!f||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(R=>{Array.isArray(f)?f.forEach(W=>{E?W.classList.add(R):W.classList.remove(R)}):E?f.classList.add(R):f.classList.remove(R)}))},Ue=(f,p)=>{$s(f,p,!0)},vi=(f,p)=>{$s(f,p,!1)},Ls=(f,p)=>{const E=Array.from(f.children);for(let R=0;R<E.length;R++){const W=E[R];if(W instanceof HTMLElement&&_e(W,p))return W}},Pu=(f,p,E)=>{E==="".concat(parseInt(E))&&(E=parseInt(E)),E||parseInt(E)===0?f.style[p]=typeof E=="number"?"".concat(E,"px"):E:f.style.removeProperty(p)},mn=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";f.style.display=p},Pn=f=>{f.style.display="none"},JA=(f,p,E,R)=>{const W=f.querySelector(p);W&&(W.style[E]=R)},lp=function(f,p){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?mn(f,E):Pn(f)},wr=f=>!!(f&&(f.offsetWidth||f.offsetHeight||f.getClientRects().length)),WV=()=>!wr($e())&&!wr(oe())&&!wr(fe()),ZA=f=>f.scrollHeight>f.clientHeight,eC=f=>{const p=window.getComputedStyle(f),E=parseFloat(p.getPropertyValue("animation-duration")||"0"),R=parseFloat(p.getPropertyValue("transition-duration")||"0");return E>0||R>0},D_=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const E=x();wr(E)&&(p&&(E.style.transition="none",E.style.width="100%"),setTimeout(()=>{E.style.transition="width ".concat(f/1e3,"s linear"),E.style.width="0%"},10))},zV=()=>{const f=x(),p=parseInt(window.getComputedStyle(f).width);f.style.removeProperty("transition"),f.style.width="100%";const E=parseInt(window.getComputedStyle(f).width),R=p/E*100;f.style.removeProperty("transition"),f.style.width="".concat(R,"%")},tC=()=>typeof window>"u"||typeof document>"u",qV=100,Ne={},HV=()=>{Ne.previousActiveElement instanceof HTMLElement?(Ne.previousActiveElement.focus(),Ne.previousActiveElement=null):document.body&&document.body.focus()},GV=f=>new Promise(p=>{if(!f)return p();const E=window.scrollX,R=window.scrollY;Ne.restoreFocusTimeout=setTimeout(()=>{HV(),p()},qV),window.scrollTo(E,R)}),KV=`
 <div aria-labelledby="`.concat(P.title,'" aria-describedby="').concat(P["html-container"],'" class="').concat(P.popup,`" tabindex="-1">
   <button type="button" class="`).concat(P.close,`"></button>
   <ul class="`).concat(P["progress-steps"],`"></ul>
   <div class="`).concat(P.icon,`"></div>
   <img class="`).concat(P.image,`" />
   <h2 class="`).concat(P.title,'" id="').concat(P.title,`"></h2>
   <div class="`).concat(P["html-container"],'" id="').concat(P["html-container"],`"></div>
   <input class="`).concat(P.input,`" />
   <input type="file" class="`).concat(P.file,`" />
   <div class="`).concat(P.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(P.select,`"></select>
   <div class="`).concat(P.radio,`"></div>
   <label for="`).concat(P.checkbox,'" class="').concat(P.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(P.label,`"></span>
   </label>
   <textarea class="`).concat(P.textarea,`"></textarea>
   <div class="`).concat(P["validation-message"],'" id="').concat(P["validation-message"],`"></div>
   <div class="`).concat(P.actions,`">
     <div class="`).concat(P.loader,`"></div>
     <button type="button" class="`).concat(P.confirm,`"></button>
     <button type="button" class="`).concat(P.deny,`"></button>
     <button type="button" class="`).concat(P.cancel,`"></button>
   </div>
   <div class="`).concat(P.footer,`"></div>
   <div class="`).concat(P["timer-progress-bar-container"],`">
     <div class="`).concat(P["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),QV=()=>{const f=O();return f?(f.remove(),vi([document.documentElement,document.body],[P["no-backdrop"],P["toast-shown"],P["has-column"]]),!0):!1},Qo=()=>{Ne.currentInstance.resetValidationMessage()},YV=()=>{const f=G(),p=Ls(f,P.input),E=Ls(f,P.file),R=f.querySelector(".".concat(P.range," input")),W=f.querySelector(".".concat(P.range," output")),ye=Ls(f,P.select),Ot=f.querySelector(".".concat(P.checkbox," input")),wi=Ls(f,P.textarea);p.oninput=Qo,E.onchange=Qo,ye.onchange=Qo,Ot.onchange=Qo,wi.oninput=Qo,R.oninput=()=>{Qo(),W.value=R.value},R.onchange=()=>{Qo(),W.value=R.value}},XV=f=>typeof f=="string"?document.querySelector(f):f,JV=f=>{const p=G();p.setAttribute("role",f.toast?"alert":"dialog"),p.setAttribute("aria-live",f.toast?"polite":"assertive"),f.toast||p.setAttribute("aria-modal","true")},ZV=f=>{window.getComputedStyle(f).direction==="rtl"&&Ue(O(),P.rtl)},eW=f=>{const p=QV();if(tC()){o("SweetAlert2 requires document to initialize");return}const E=document.createElement("div");E.className=P.container,p&&Ue(E,P["no-transition"]),Q(E,KV);const R=XV(f.target);R.appendChild(E),JV(f),ZV(R),YV()},N_=(f,p)=>{f instanceof HTMLElement?p.appendChild(f):typeof f=="object"?tW(f,p):f&&Q(p,f)},tW=(f,p)=>{f.jquery?nW(p,f):Q(p,f.toString())},nW=(f,p)=>{if(f.textContent="",0 in p)for(let E=0;E in p;E++)f.appendChild(p[E].cloneNode(!0));else f.appendChild(p.cloneNode(!0))},Mc=(()=>{if(tC())return!1;const f=document.createElement("div"),p={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const E in p)if(Object.prototype.hasOwnProperty.call(p,E)&&typeof f.style[E]<"u")return p[E];return!1})(),rW=()=>{const f=document.createElement("div");f.className=P["scrollbar-measure"],document.body.appendChild(f);const p=f.getBoundingClientRect().width-f.clientWidth;return document.body.removeChild(f),p},iW=(f,p)=>{const E=we(),R=te();!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Pn(E):mn(E),$t(E,p,"actions"),sW(E,R,p),Q(R,p.loaderHtml),$t(R,p,"loader")};function sW(f,p,E){const R=$e(),W=oe(),ye=fe();$_(R,"confirm",E),$_(W,"deny",E),$_(ye,"cancel",E),oW(R,W,ye,E),E.reverseButtons&&(E.toast?(f.insertBefore(ye,R),f.insertBefore(W,R)):(f.insertBefore(ye,p),f.insertBefore(W,p),f.insertBefore(R,p)))}function oW(f,p,E,R){if(!R.buttonsStyling)return vi([f,p,E],P.styled);Ue([f,p,E],P.styled),R.confirmButtonColor&&(f.style.backgroundColor=R.confirmButtonColor,Ue(f,P["default-outline"])),R.denyButtonColor&&(p.style.backgroundColor=R.denyButtonColor,Ue(p,P["default-outline"])),R.cancelButtonColor&&(E.style.backgroundColor=R.cancelButtonColor,Ue(E,P["default-outline"]))}function $_(f,p,E){lp(f,E["show".concat(i(p),"Button")],"inline-block"),Q(f,E["".concat(p,"ButtonText")]),f.setAttribute("aria-label",E["".concat(p,"ButtonAriaLabel")]),f.className=P[p],$t(f,E,"".concat(p,"Button")),Ue(f,E["".concat(p,"ButtonClass")])}const aW=(f,p)=>{const E=O();!E||(uW(E,p.backdrop),lW(E,p.position),cW(E,p.grow),$t(E,p,"container"))};function uW(f,p){typeof p=="string"?f.style.background=p:p||Ue([document.documentElement,document.body],P["no-backdrop"])}function lW(f,p){p in P?Ue(f,P[p]):(s('The "position" parameter is not valid, defaulting to "center"'),Ue(f,P.center))}function cW(f,p){if(p&&typeof p=="string"){const E="grow-".concat(p);E in P&&Ue(f,P[E])}}var Oe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const dW=["input","file","range","select","radio","checkbox","textarea"],hW=(f,p)=>{const E=G(),R=Oe.innerParams.get(f),W=!R||p.input!==R.input;dW.forEach(ye=>{const Ot=Ls(E,P[ye]);mW(ye,p.inputAttributes),Ot.className=P[ye],W&&Pn(Ot)}),p.input&&(W&&fW(p),gW(p))},fW=f=>{if(!er[f.input])return o('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(f.input,'"'));const p=nC(f.input),E=er[f.input](p,f);mn(p),setTimeout(()=>{Ns(E)})},pW=f=>{for(let p=0;p<f.attributes.length;p++){const E=f.attributes[p].name;["type","value","style"].includes(E)||f.removeAttribute(E)}},mW=(f,p)=>{const E=Rn(G(),f);if(!!E){pW(E);for(const R in p)E.setAttribute(R,p[R])}},gW=f=>{const p=nC(f.input);typeof f.customClass=="object"&&Ue(p,f.customClass.input)},L_=(f,p)=>{(!f.placeholder||p.inputPlaceholder)&&(f.placeholder=p.inputPlaceholder)},Fc=(f,p,E)=>{if(E.inputLabel){f.id=P.input;const R=document.createElement("label"),W=P["input-label"];R.setAttribute("for",f.id),R.className=W,typeof E.customClass=="object"&&Ue(R,E.customClass.inputLabel),R.innerText=E.inputLabel,p.insertAdjacentElement("beforebegin",R)}},nC=f=>Ls(G(),P[f]||P.input),cp=(f,p)=>{["string","number"].includes(typeof p)?f.value="".concat(p):m(p)||s('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof p,'"'))},er={};er.text=er.email=er.password=er.number=er.tel=er.url=(f,p)=>(cp(f,p.inputValue),Fc(f,f,p),L_(f,p),f.type=p.input,f),er.file=(f,p)=>(Fc(f,f,p),L_(f,p),f),er.range=(f,p)=>{const E=f.querySelector("input"),R=f.querySelector("output");return cp(E,p.inputValue),E.type=p.input,cp(R,p.inputValue),Fc(E,f,p),f},er.select=(f,p)=>{if(f.textContent="",p.inputPlaceholder){const E=document.createElement("option");Q(E,p.inputPlaceholder),E.value="",E.disabled=!0,E.selected=!0,f.appendChild(E)}return Fc(f,f,p),f},er.radio=f=>(f.textContent="",f),er.checkbox=(f,p)=>{const E=Rn(G(),"checkbox");E.value="1",E.id=P.checkbox,E.checked=Boolean(p.inputValue);const R=f.querySelector("span");return Q(R,p.inputPlaceholder),E},er.textarea=(f,p)=>{cp(f,p.inputValue),L_(f,p),Fc(f,f,p);const E=R=>parseInt(window.getComputedStyle(R).marginLeft)+parseInt(window.getComputedStyle(R).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const R=parseInt(window.getComputedStyle(G()).width),W=()=>{const ye=f.offsetWidth+E(f);ye>R?G().style.width="".concat(ye,"px"):G().style.width=null};new MutationObserver(W).observe(f,{attributes:!0,attributeFilter:["style"]})}}),f};const yW=(f,p)=>{const E=se();$t(E,p,"htmlContainer"),p.html?(N_(p.html,E),mn(E,"block")):p.text?(E.textContent=p.text,mn(E,"block")):Pn(E),hW(f,p)},vW=(f,p)=>{const E=Xe();lp(E,p.footer),p.footer&&N_(p.footer,E),$t(E,p,"footer")},_W=(f,p)=>{const E=$();Q(E,p.closeButtonHtml),$t(E,p,"closeButton"),lp(E,p.showCloseButton),E.setAttribute("aria-label",p.closeButtonAriaLabel)},wW=(f,p)=>{const E=Oe.innerParams.get(f),R=q();if(E&&p.icon===E.icon){iC(R,p),rC(R,p);return}if(!p.icon&&!p.iconHtml){Pn(R);return}if(p.icon&&Object.keys(N).indexOf(p.icon)===-1){o('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(p.icon,'"')),Pn(R);return}mn(R),iC(R,p),rC(R,p),Ue(R,p.showClass.icon)},rC=(f,p)=>{for(const E in N)p.icon!==E&&vi(f,N[E]);Ue(f,N[p.icon]),IW(f,p),EW(),$t(f,p,"icon")},EW=()=>{const f=G(),p=window.getComputedStyle(f).getPropertyValue("background-color"),E=f.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let R=0;R<E.length;R++)E[R].style.backgroundColor=p},bW=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,SW=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,iC=(f,p)=>{let E=f.innerHTML,R;p.iconHtml?R=sC(p.iconHtml):p.icon==="success"?(R=bW,E=E.replace(/ style=".*?"/g,"")):p.icon==="error"?R=SW:R=sC({question:"?",warning:"!",info:"i"}[p.icon]),E.trim()!==R.trim()&&Q(f,R)},IW=(f,p)=>{if(!!p.iconColor){f.style.color=p.iconColor,f.style.borderColor=p.iconColor;for(const E of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])JA(f,E,"backgroundColor",p.iconColor);JA(f,".swal2-success-ring","borderColor",p.iconColor)}},sC=f=>'<div class="'.concat(P["icon-content"],'">').concat(f,"</div>"),TW=(f,p)=>{const E=he();if(!p.imageUrl)return Pn(E);mn(E,""),E.setAttribute("src",p.imageUrl),E.setAttribute("alt",p.imageAlt),Pu(E,"width",p.imageWidth),Pu(E,"height",p.imageHeight),E.className=P.image,$t(E,p,"image")},AW=(f,p)=>{const E=ve();if(!p.progressSteps||p.progressSteps.length===0)return Pn(E);mn(E),E.textContent="",p.currentProgressStep>=p.progressSteps.length&&s("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),p.progressSteps.forEach((R,W)=>{const ye=CW(R);if(E.appendChild(ye),W===p.currentProgressStep&&Ue(ye,P["active-progress-step"]),W!==p.progressSteps.length-1){const Ot=RW(p);E.appendChild(Ot)}})},CW=f=>{const p=document.createElement("li");return Ue(p,P["progress-step"]),Q(p,f),p},RW=f=>{const p=document.createElement("li");return Ue(p,P["progress-step-line"]),f.progressStepsDistance&&Pu(p,"width",f.progressStepsDistance),p},PW=(f,p)=>{const E=re();lp(E,p.title||p.titleText,"block"),p.title&&N_(p.title,E),p.titleText&&(E.innerText=p.titleText),$t(E,p,"title")},OW=(f,p)=>{const E=O(),R=G();p.toast?(Pu(E,"width",p.width),R.style.width="100%",R.insertBefore(te(),q())):Pu(R,"width",p.width),Pu(R,"padding",p.padding),p.color&&(R.style.color=p.color),p.background&&(R.style.background=p.background),Pn(Te()),kW(R,p)},kW=(f,p)=>{f.className="".concat(P.popup," ").concat(wr(f)?p.showClass.popup:""),p.toast?(Ue([document.documentElement,document.body],P["toast-shown"]),Ue(f,P.toast)):Ue(f,P.modal),$t(f,p,"popup"),typeof p.customClass=="string"&&Ue(f,p.customClass),p.icon&&Ue(f,P["icon-".concat(p.icon)])},oC=(f,p)=>{OW(f,p),aW(f,p),AW(f,p),wW(f,p),TW(f,p),PW(f,p),_W(f,p),yW(f,p),iW(f,p),vW(f,p),typeof p.didRender=="function"&&p.didRender(G())},Ou=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),xW=()=>{Array.from(document.body.children).forEach(p=>{p===O()||p.contains(O())||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")),p.setAttribute("aria-hidden","true"))})},aC=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},uC=["swal-title","swal-html","swal-footer"],DW=f=>{const p=typeof f.template=="string"?document.querySelector(f.template):f.template;if(!p)return{};const E=p.content;return BW(E),Object.assign(NW(E),$W(E),LW(E),MW(E),FW(E),UW(E,uC))},NW=f=>{const p={};return Array.from(f.querySelectorAll("swal-param")).forEach(R=>{Yo(R,["name","value"]);const W=R.getAttribute("name"),ye=R.getAttribute("value");typeof _[W]=="boolean"&&ye==="false"&&(p[W]=!1),typeof _[W]=="object"&&(p[W]=JSON.parse(ye))}),p},$W=f=>{const p={};return Array.from(f.querySelectorAll("swal-button")).forEach(R=>{Yo(R,["type","color","aria-label"]);const W=R.getAttribute("type");p["".concat(W,"ButtonText")]=R.innerHTML,p["show".concat(i(W),"Button")]=!0,R.hasAttribute("color")&&(p["".concat(W,"ButtonColor")]=R.getAttribute("color")),R.hasAttribute("aria-label")&&(p["".concat(W,"ButtonAriaLabel")]=R.getAttribute("aria-label"))}),p},LW=f=>{const p={},E=f.querySelector("swal-image");return E&&(Yo(E,["src","width","height","alt"]),E.hasAttribute("src")&&(p.imageUrl=E.getAttribute("src")),E.hasAttribute("width")&&(p.imageWidth=E.getAttribute("width")),E.hasAttribute("height")&&(p.imageHeight=E.getAttribute("height")),E.hasAttribute("alt")&&(p.imageAlt=E.getAttribute("alt"))),p},MW=f=>{const p={},E=f.querySelector("swal-icon");return E&&(Yo(E,["type","color"]),E.hasAttribute("type")&&(p.icon=E.getAttribute("type")),E.hasAttribute("color")&&(p.iconColor=E.getAttribute("color")),p.iconHtml=E.innerHTML),p},FW=f=>{const p={},E=f.querySelector("swal-input");E&&(Yo(E,["type","label","placeholder","value"]),p.input=E.getAttribute("type")||"text",E.hasAttribute("label")&&(p.inputLabel=E.getAttribute("label")),E.hasAttribute("placeholder")&&(p.inputPlaceholder=E.getAttribute("placeholder")),E.hasAttribute("value")&&(p.inputValue=E.getAttribute("value")));const R=Array.from(f.querySelectorAll("swal-input-option"));return R.length&&(p.inputOptions={},R.forEach(W=>{Yo(W,["value"]);const ye=W.getAttribute("value"),Ot=W.innerHTML;p.inputOptions[ye]=Ot})),p},UW=(f,p)=>{const E={};for(const R in p){const W=p[R],ye=f.querySelector(W);ye&&(Yo(ye,[]),E[W.replace(/^swal-/,"")]=ye.innerHTML.trim())}return E},BW=f=>{const p=uC.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(f.children).forEach(E=>{const R=E.tagName.toLowerCase();p.indexOf(R)===-1&&s("Unrecognized element <".concat(R,">"))})},Yo=(f,p)=>{Array.from(f.attributes).forEach(E=>{p.indexOf(E.name)===-1&&s(['Unrecognized attribute "'.concat(E.name,'" on <').concat(f.tagName.toLowerCase(),">."),"".concat(p.length?"Allowed attributes are: ".concat(p.join(", ")):"To set the value, use HTML within the element.")])})};var lC={email:(f,p)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(f,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function jW(f){f.inputValidator||Object.keys(lC).forEach(p=>{f.input===p&&(f.inputValidator=lC[p])})}function VW(f){(!f.target||typeof f.target=="string"&&!document.querySelector(f.target)||typeof f.target!="string"&&!f.target.appendChild)&&(s('Target parameter is not valid, defaulting to "body"'),f.target="body")}function WW(f){jW(f),f.showLoaderOnConfirm&&!f.preConfirm&&s(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),VW(f),typeof f.title=="string"&&(f.title=f.title.split(`
`).join("<br />")),eW(f)}class zW{constructor(p,E){this.callback=p,this.remaining=E,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){const E=this.running;return E&&this.stop(),this.remaining+=p,E&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const qW=()=>{V.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(V.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(V.previousBodyPadding+rW(),"px"))},HW=()=>{V.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(V.previousBodyPadding,"px"),V.previousBodyPadding=null)},GW=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!_e(document.body,P.iosfix)){const p=document.body.scrollTop;document.body.style.top="".concat(p*-1,"px"),Ue(document.body,P.iosfix),QW(),KW()}},KW=()=>{const f=navigator.userAgent,p=!!f.match(/iPad/i)||!!f.match(/iPhone/i),E=!!f.match(/WebKit/i);p&&E&&!f.match(/CriOS/i)&&G().scrollHeight>window.innerHeight-44&&(O().style.paddingBottom="".concat(44,"px"))},QW=()=>{const f=O();let p;f.ontouchstart=E=>{p=YW(E)},f.ontouchmove=E=>{p&&(E.preventDefault(),E.stopPropagation())}},YW=f=>{const p=f.target,E=O();return XW(f)||JW(f)?!1:p===E||!ZA(E)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(ZA(se())&&se().contains(p))},XW=f=>f.touches&&f.touches.length&&f.touches[0].touchType==="stylus",JW=f=>f.touches&&f.touches.length>1,ZW=()=>{if(_e(document.body,P.iosfix)){const f=parseInt(document.body.style.top,10);vi(document.body,P.iosfix),document.body.style.top="",document.body.scrollTop=f*-1}},cC=10,ez=f=>{const p=O(),E=G();typeof f.willOpen=="function"&&f.willOpen(E);const W=window.getComputedStyle(document.body).overflowY;rz(p,E,f),setTimeout(()=>{tz(p,E)},cC),ce()&&(nz(p,f.scrollbarPadding,W),xW()),!le()&&!Ne.previousActiveElement&&(Ne.previousActiveElement=document.activeElement),typeof f.didOpen=="function"&&setTimeout(()=>f.didOpen(E)),vi(p,P["no-transition"])},dC=f=>{const p=G();if(f.target!==p)return;const E=O();p.removeEventListener(Mc,dC),E.style.overflowY="auto"},tz=(f,p)=>{Mc&&eC(p)?(f.style.overflowY="hidden",p.addEventListener(Mc,dC)):f.style.overflowY="auto"},nz=(f,p,E)=>{GW(),p&&E!=="hidden"&&qW(),setTimeout(()=>{f.scrollTop=0})},rz=(f,p,E)=>{Ue(f,E.showClass.backdrop),p.style.setProperty("opacity","0","important"),mn(p,"grid"),setTimeout(()=>{Ue(p,E.showClass.popup),p.style.removeProperty("opacity")},cC),Ue([document.documentElement,document.body],P.shown),E.heightAuto&&E.backdrop&&!E.toast&&Ue([document.documentElement,document.body],P["height-auto"])},ku=f=>{let p=G();p||new fp,p=G();const E=te();le()?Pn(q()):iz(p,f),mn(E),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},iz=(f,p)=>{const E=we(),R=te();!p&&wr($e())&&(p=$e()),mn(E),p&&(Pn(p),R.setAttribute("data-button-to-replace",p.className)),R.parentNode.insertBefore(R,p),Ue([f,E],P.loading)},sz=(f,p)=>{p.input==="select"||p.input==="radio"?cz(f,p):["text","email","number","tel","textarea"].includes(p.input)&&(d(p.inputValue)||m(p.inputValue))&&(ku($e()),dz(f,p))},oz=(f,p)=>{const E=f.getInput();if(!E)return null;switch(p.input){case"checkbox":return az(E);case"radio":return uz(E);case"file":return lz(E);default:return p.inputAutoTrim?E.value.trim():E.value}},az=f=>f.checked?1:0,uz=f=>f.checked?f.value:null,lz=f=>f.files.length?f.getAttribute("multiple")!==null?f.files:f.files[0]:null,cz=(f,p)=>{const E=G(),R=W=>hz[p.input](E,M_(W),p);d(p.inputOptions)||m(p.inputOptions)?(ku($e()),h(p.inputOptions).then(W=>{f.hideLoading(),R(W)})):typeof p.inputOptions=="object"?R(p.inputOptions):o("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof p.inputOptions))},dz=(f,p)=>{const E=f.getInput();Pn(E),h(p.inputValue).then(R=>{E.value=p.input==="number"?parseFloat(R)||0:"".concat(R),mn(E),E.focus(),f.hideLoading()}).catch(R=>{o("Error in inputValue promise: ".concat(R)),E.value="",mn(E),E.focus(),f.hideLoading()})},hz={select:(f,p,E)=>{const R=Ls(f,P.select),W=(ye,Ot,wi)=>{const Fn=document.createElement("option");Fn.value=wi,Q(Fn,Ot),Fn.selected=hC(wi,E.inputValue),ye.appendChild(Fn)};p.forEach(ye=>{const Ot=ye[0],wi=ye[1];if(Array.isArray(wi)){const Fn=document.createElement("optgroup");Fn.label=Ot,Fn.disabled=!1,R.appendChild(Fn),wi.forEach(Du=>W(Fn,Du[1],Du[0]))}else W(R,wi,Ot)}),R.focus()},radio:(f,p,E)=>{const R=Ls(f,P.radio);p.forEach(ye=>{const Ot=ye[0],wi=ye[1],Fn=document.createElement("input"),Du=document.createElement("label");Fn.type="radio",Fn.name=P.radio,Fn.value=Ot,hC(Ot,E.inputValue)&&(Fn.checked=!0);const W_=document.createElement("span");Q(W_,wi),W_.className=P.label,Du.appendChild(Fn),Du.appendChild(W_),R.appendChild(Du)});const W=R.querySelectorAll("input");W.length&&W[0].focus()}},M_=f=>{const p=[];return typeof Map<"u"&&f instanceof Map?f.forEach((E,R)=>{let W=E;typeof W=="object"&&(W=M_(W)),p.push([R,W])}):Object.keys(f).forEach(E=>{let R=f[E];typeof R=="object"&&(R=M_(R)),p.push([E,R])}),p},hC=(f,p)=>p&&p.toString()===f.toString();function fC(){const f=Oe.innerParams.get(this);if(!f)return;const p=Oe.domCache.get(this);Pn(p.loader),le()?f.icon&&mn(q()):fz(p),vi([p.popup,p.actions],P.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}const fz=f=>{const p=f.popup.getElementsByClassName(f.loader.getAttribute("data-button-to-replace"));p.length?mn(p[0],"inline-block"):WV()&&Pn(f.actions)};function pz(f){const p=Oe.innerParams.get(f||this),E=Oe.domCache.get(f||this);return E?Rn(E.popup,p.input):null}var Uc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const mz=()=>wr(G()),pC=()=>$e()&&$e().click(),gz=()=>oe()&&oe().click(),yz=()=>fe()&&fe().click(),mC=f=>{f.keydownTarget&&f.keydownHandlerAdded&&(f.keydownTarget.removeEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!1)},vz=(f,p,E,R)=>{mC(p),E.toast||(p.keydownHandler=W=>wz(f,W,R),p.keydownTarget=E.keydownListenerCapture?window:G(),p.keydownListenerCapture=E.keydownListenerCapture,p.keydownTarget.addEventListener("keydown",p.keydownHandler,{capture:p.keydownListenerCapture}),p.keydownHandlerAdded=!0)},F_=(f,p,E)=>{const R=K();if(R.length)return p=p+E,p===R.length?p=0:p===-1&&(p=R.length-1),R[p].focus();G().focus()},gC=["ArrowRight","ArrowDown"],_z=["ArrowLeft","ArrowUp"],wz=(f,p,E)=>{const R=Oe.innerParams.get(f);!R||p.isComposing||p.keyCode===229||(R.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?Ez(f,p,R):p.key==="Tab"?bz(p,R):[...gC,..._z].includes(p.key)?Sz(p.key):p.key==="Escape"&&Iz(p,R,E))},Ez=(f,p,E)=>{if(!!c(E.allowEnterKey)&&p.target&&f.getInput()&&p.target instanceof HTMLElement&&p.target.outerHTML===f.getInput().outerHTML){if(["textarea","file"].includes(E.input))return;pC(),p.preventDefault()}},bz=(f,p)=>{const E=f.target,R=K();let W=-1;for(let ye=0;ye<R.length;ye++)if(E===R[ye]){W=ye;break}f.shiftKey?F_(p,W,-1):F_(p,W,1),f.stopPropagation(),f.preventDefault()},Sz=f=>{const p=$e(),E=oe(),R=fe();if(document.activeElement instanceof HTMLElement&&![p,E,R].includes(document.activeElement))return;const W=gC.includes(f)?"nextElementSibling":"previousElementSibling";let ye=document.activeElement;for(let Ot=0;Ot<we().children.length;Ot++){if(ye=ye[W],!ye)return;if(ye instanceof HTMLButtonElement&&wr(ye))break}ye instanceof HTMLButtonElement&&ye.focus()},Iz=(f,p,E)=>{c(p.allowEscapeKey)&&(f.preventDefault(),E(Ou.esc))};function yC(f,p,E,R){le()?vC(f,R):(GV(E).then(()=>vC(f,R)),mC(Ne)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),ce()&&(HW(),ZW(),aC()),Tz()}function Tz(){vi([document.documentElement,document.body],[P.shown,P["height-auto"],P["no-backdrop"],P["toast-shown"]])}function dp(f){f=Pz(f);const p=Uc.swalPromiseResolve.get(this),E=Cz(this);this.isAwaitingPromise()?f.isDismissed||(Bc(this),p(f)):E&&p(f)}function Az(){return!!Oe.awaitingPromise.get(this)}const Cz=f=>{const p=G();if(!p)return!1;const E=Oe.innerParams.get(f);if(!E||_e(p,E.hideClass.popup))return!1;vi(p,E.showClass.popup),Ue(p,E.hideClass.popup);const R=O();return vi(R,E.showClass.backdrop),Ue(R,E.hideClass.backdrop),Oz(f,p,E),!0};function Rz(f){const p=Uc.swalPromiseReject.get(this);Bc(this),p&&p(f)}const Bc=f=>{f.isAwaitingPromise()&&(Oe.awaitingPromise.delete(f),Oe.innerParams.get(f)||f._destroy())},Pz=f=>typeof f>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},f),Oz=(f,p,E)=>{const R=O(),W=Mc&&eC(p);typeof E.willClose=="function"&&E.willClose(p),W?kz(f,p,R,E.returnFocus,E.didClose):yC(f,R,E.returnFocus,E.didClose)},kz=(f,p,E,R,W)=>{Ne.swalCloseEventFinishedCallback=yC.bind(null,f,E,R,W),p.addEventListener(Mc,function(ye){ye.target===p&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback)})},vC=(f,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(f.params)(),f._destroy()})};function _C(f,p,E){const R=Oe.domCache.get(f);p.forEach(W=>{R[W].disabled=E})}function wC(f,p){if(!f)return!1;if(f.type==="radio"){const R=f.parentNode.parentNode.querySelectorAll("input");for(let W=0;W<R.length;W++)R[W].disabled=p}else f.disabled=p}function xz(){_C(this,["confirmButton","denyButton","cancelButton"],!1)}function Dz(){_C(this,["confirmButton","denyButton","cancelButton"],!0)}function Nz(){return wC(this.getInput(),!1)}function $z(){return wC(this.getInput(),!0)}function Lz(f){const p=Oe.domCache.get(this),E=Oe.innerParams.get(this);Q(p.validationMessage,f),p.validationMessage.className=P["validation-message"],E.customClass&&E.customClass.validationMessage&&Ue(p.validationMessage,E.customClass.validationMessage),mn(p.validationMessage);const R=this.getInput();R&&(R.setAttribute("aria-invalid",!0),R.setAttribute("aria-describedby",P["validation-message"]),Ns(R),Ue(R,P.inputerror))}function Mz(){const f=Oe.domCache.get(this);f.validationMessage&&Pn(f.validationMessage);const p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),vi(p,P.inputerror))}function Fz(){return Oe.domCache.get(this).progressSteps}function Uz(f){const p=G(),E=Oe.innerParams.get(this);if(!p||_e(p,E.hideClass.popup))return s("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const R=Bz(f),W=Object.assign({},E,R);oC(this,W),Oe.innerParams.set(this,W),Object.defineProperties(this,{params:{value:Object.assign({},this.params,f),writable:!1,enumerable:!0}})}const Bz=f=>{const p={};return Object.keys(f).forEach(E=>{b(E)?p[E]=f[E]:s("Invalid parameter to update: ".concat(E))}),p};function jz(){const f=Oe.domCache.get(this),p=Oe.innerParams.get(this);if(!p){EC(this);return}f.popup&&Ne.swalCloseEventFinishedCallback&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),Vz(this)}const Vz=f=>{EC(f),delete f.params,delete Ne.keydownHandler,delete Ne.keydownTarget,delete Ne.currentInstance},EC=f=>{f.isAwaitingPromise()?(U_(Oe,f),Oe.awaitingPromise.set(f,!0)):(U_(Uc,f),U_(Oe,f))},U_=(f,p)=>{for(const E in f)f[E].delete(p)};var bC=Object.freeze({hideLoading:fC,disableLoading:fC,getInput:pz,close:dp,isAwaitingPromise:Az,rejectPromise:Rz,handleAwaitingPromise:Bc,closePopup:dp,closeModal:dp,closeToast:dp,enableButtons:xz,disableButtons:Dz,enableInput:Nz,disableInput:$z,showValidationMessage:Lz,resetValidationMessage:Mz,getProgressSteps:Fz,update:Uz,_destroy:jz});const Wz=f=>{const p=Oe.innerParams.get(f);f.disableButtons(),p.input?SC(f,"confirm"):j_(f,!0)},zz=f=>{const p=Oe.innerParams.get(f);f.disableButtons(),p.returnInputValueOnDeny?SC(f,"deny"):B_(f,!1)},qz=(f,p)=>{f.disableButtons(),p(Ou.cancel)},SC=(f,p)=>{const E=Oe.innerParams.get(f);if(!E.input){o('The "input" parameter is needed to be set when using returnInputValueOn'.concat(i(p)));return}const R=oz(f,E);E.inputValidator?Hz(f,R,p):f.getInput().checkValidity()?p==="deny"?B_(f,R):j_(f,R):(f.enableButtons(),f.showValidationMessage(E.validationMessage))},Hz=(f,p,E)=>{const R=Oe.innerParams.get(f);f.disableInput(),Promise.resolve().then(()=>h(R.inputValidator(p,R.validationMessage))).then(ye=>{f.enableButtons(),f.enableInput(),ye?f.showValidationMessage(ye):E==="deny"?B_(f,p):j_(f,p)})},B_=(f,p)=>{const E=Oe.innerParams.get(f||void 0);E.showLoaderOnDeny&&ku(oe()),E.preDeny?(Oe.awaitingPromise.set(f||void 0,!0),Promise.resolve().then(()=>h(E.preDeny(p,E.validationMessage))).then(W=>{W===!1?(f.hideLoading(),Bc(f)):f.close({isDenied:!0,value:typeof W>"u"?p:W})}).catch(W=>TC(f||void 0,W))):f.close({isDenied:!0,value:p})},IC=(f,p)=>{f.close({isConfirmed:!0,value:p})},TC=(f,p)=>{f.rejectPromise(p)},j_=(f,p)=>{const E=Oe.innerParams.get(f||void 0);E.showLoaderOnConfirm&&ku(),E.preConfirm?(f.resetValidationMessage(),Oe.awaitingPromise.set(f||void 0,!0),Promise.resolve().then(()=>h(E.preConfirm(p,E.validationMessage))).then(W=>{wr(Te())||W===!1?(f.hideLoading(),Bc(f)):IC(f,typeof W>"u"?p:W)}).catch(W=>TC(f||void 0,W))):IC(f,p)},Gz=(f,p,E)=>{Oe.innerParams.get(f).toast?Kz(f,p,E):(Yz(p),Xz(p),Jz(f,p,E))},Kz=(f,p,E)=>{p.popup.onclick=()=>{const R=Oe.innerParams.get(f);R&&(Qz(R)||R.timer||R.input)||E(Ou.close)}},Qz=f=>f.showConfirmButton||f.showDenyButton||f.showCancelButton||f.showCloseButton;let hp=!1;const Yz=f=>{f.popup.onmousedown=()=>{f.container.onmouseup=function(p){f.container.onmouseup=void 0,p.target===f.container&&(hp=!0)}}},Xz=f=>{f.container.onmousedown=()=>{f.popup.onmouseup=function(p){f.popup.onmouseup=void 0,(p.target===f.popup||f.popup.contains(p.target))&&(hp=!0)}}},Jz=(f,p,E)=>{p.container.onclick=R=>{const W=Oe.innerParams.get(f);if(hp){hp=!1;return}R.target===p.container&&c(W.allowOutsideClick)&&E(Ou.backdrop)}},Zz=f=>typeof f=="object"&&f.jquery,AC=f=>f instanceof Element||Zz(f),eq=f=>{const p={};return typeof f[0]=="object"&&!AC(f[0])?Object.assign(p,f[0]):["title","html","icon"].forEach((E,R)=>{const W=f[R];typeof W=="string"||AC(W)?p[E]=W:W!==void 0&&o("Unexpected type of ".concat(E,'! Expected "string" or "Element", got ').concat(typeof W))}),p};function tq(){const f=this;for(var p=arguments.length,E=new Array(p),R=0;R<p;R++)E[R]=arguments[R];return new f(...E)}function nq(f){class p extends this{_main(R,W){return super._main(R,Object.assign({},f,W))}}return p}const rq=()=>Ne.timeout&&Ne.timeout.getTimerLeft(),CC=()=>{if(Ne.timeout)return zV(),Ne.timeout.stop()},RC=()=>{if(Ne.timeout){const f=Ne.timeout.start();return D_(f),f}},iq=()=>{const f=Ne.timeout;return f&&(f.running?CC():RC())},sq=f=>{if(Ne.timeout){const p=Ne.timeout.increase(f);return D_(p,!0),p}},oq=()=>Ne.timeout&&Ne.timeout.isRunning();let PC=!1;const V_={};function aq(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";V_[f]=this,PC||(document.body.addEventListener("click",uq),PC=!0)}const uq=f=>{for(let p=f.target;p&&p!==document;p=p.parentNode)for(const E in V_){const R=p.getAttribute(E);if(R){V_[E].fire({template:R});return}}};var lq=Object.freeze({isValidParameter:w,isUpdatableParameter:b,isDeprecatedParameter:T,argsToParams:eq,isVisible:mz,clickConfirm:pC,clickDeny:gz,clickCancel:yz,getContainer:O,getPopup:G,getTitle:re,getHtmlContainer:se,getImage:he,getIcon:q,getInputLabel:H,getCloseButton:$,getActions:we,getConfirmButton:$e,getDenyButton:oe,getCancelButton:fe,getLoader:te,getFooter:Xe,getTimerProgressBar:x,getFocusableElements:K,getValidationMessage:Te,isLoading:z,fire:tq,mixin:nq,showLoading:ku,enableLoading:ku,getTimerLeft:rq,stopTimer:CC,resumeTimer:RC,toggleTimer:iq,increaseTimer:sq,isTimerRunning:oq,bindClickHandler:aq});let _i;class xu{constructor(){if(typeof window>"u")return;_i=this;for(var p=arguments.length,E=new Array(p),R=0;R<p;R++)E[R]=arguments[R];const W=Object.freeze(this.constructor.argsToParams(E));Object.defineProperties(this,{params:{value:W,writable:!1,enumerable:!0,configurable:!0}});const ye=_i._main(_i.params);Oe.promise.set(this,ye)}_main(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L(Object.assign({},E,p)),Ne.currentInstance&&(Ne.currentInstance._destroy(),ce()&&aC()),Ne.currentInstance=_i;const R=dq(p,E);WW(R),Object.freeze(R),Ne.timeout&&(Ne.timeout.stop(),delete Ne.timeout),clearTimeout(Ne.restoreFocusTimeout);const W=hq(_i);return oC(_i,R),Oe.innerParams.set(_i,R),cq(_i,W,R)}then(p){return Oe.promise.get(this).then(p)}finally(p){return Oe.promise.get(this).finally(p)}}const cq=(f,p,E)=>new Promise((R,W)=>{const ye=Ot=>{f.closePopup({isDismissed:!0,dismiss:Ot})};Uc.swalPromiseResolve.set(f,R),Uc.swalPromiseReject.set(f,W),p.confirmButton.onclick=()=>Wz(f),p.denyButton.onclick=()=>zz(f),p.cancelButton.onclick=()=>qz(f,ye),p.closeButton.onclick=()=>ye(Ou.close),Gz(f,p,ye),vz(f,Ne,E,ye),sz(f,E),ez(E),fq(Ne,E,ye),pq(p,E),setTimeout(()=>{p.container.scrollTop=0})}),dq=(f,p)=>{const E=DW(f),R=Object.assign({},_,p,E,f);return R.showClass=Object.assign({},_.showClass,R.showClass),R.hideClass=Object.assign({},_.hideClass,R.hideClass),R},hq=f=>{const p={popup:G(),container:O(),actions:we(),confirmButton:$e(),denyButton:oe(),cancelButton:fe(),loader:te(),closeButton:$(),validationMessage:Te(),progressSteps:ve()};return Oe.domCache.set(f,p),p},fq=(f,p,E)=>{const R=x();Pn(R),p.timer&&(f.timeout=new zW(()=>{E("timer"),delete f.timeout},p.timer),p.timerProgressBar&&(mn(R),$t(R,p,"timerProgressBar"),setTimeout(()=>{f.timeout&&f.timeout.running&&D_(p.timer)})))},pq=(f,p)=>{if(!p.toast){if(!c(p.allowEnterKey))return gq();mq(f,p)||F_(p,-1,1)}},mq=(f,p)=>p.focusDeny&&wr(f.denyButton)?(f.denyButton.focus(),!0):p.focusCancel&&wr(f.cancelButton)?(f.cancelButton.focus(),!0):p.focusConfirm&&wr(f.confirmButton)?(f.confirmButton.focus(),!0):!1,gq=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const f=document.createElement("div");f.className="leave-russia-now-and-apply-your-skills-to-the-world";const p=g([{text:`\u0412 \u043D\u0438\u0436\u0435\u043F\u0440\u0438\u0432\u0435\u0434\u0451\u043D\u043D\u043E\u043C \u0432\u0438\u0434\u0435\u043E \u043E\u0431\u044A\u044F\u0441\u043D\u044F\u0435\u0442\u0441\u044F \u043A\u0430\u043A \u043A\u0430\u0436\u0434\u044B\u0439 \u0438\u0437 \u043D\u0430\u0441 \u043C\u043E\u0436\u0435\u0442 \u043F\u043E\u043C\u043E\u0447\u044C \u0432 \u0442\u043E\u043C,
        <strong>\u0447\u0442\u043E\u0431\u044B \u044D\u0442\u0430 \u0431\u0435\u0441\u0441\u043C\u044B\u0441\u043B\u0435\u043D\u043D\u0430\u044F \u0438 \u0431\u0435\u0441\u0447\u0435\u043B\u043E\u0432\u0435\u0447\u043D\u0430\u044F \u0432\u043E\u0439\u043D\u0430 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u043B\u0430\u0441\u044C</strong>:`,id:"4CfDhaRkw7I"},{text:"\u042D\u043C\u043F\u0430\u0442\u0438\u044F - \u0433\u043B\u0430\u0432\u043D\u043E\u0435 <strong>\u0447\u0435\u043B\u043E\u0432\u0435\u0447\u0435\u0441\u043A\u043E\u0435</strong> \u0447\u0443\u0432\u0441\u0442\u0432\u043E. \u0421\u043F\u043E\u0441\u043E\u0431\u043D\u043E\u0441\u0442\u044C \u0441\u043E\u043F\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0442\u044C. <strong>\u0421\u043F\u043E\u0441\u043E\u0431\u043D\u043E\u0441\u0442\u044C \u043F\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u0441\u0435\u0431\u044F \u043D\u0430 \u043C\u0435\u0441\u0442\u043E \u0434\u0440\u0443\u0433\u043E\u0433\u043E.</strong>",id:"s-GLAIY4DXA"}]);Q(f,`
      <div>
        \u0415\u0441\u043B\u0438 \u043C\u044B \u043D\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u043C \u0432\u043E\u0439\u043D\u0443, \u043E\u043D\u0430 \u043F\u0440\u0438\u0434\u0435\u0442 \u0432 \u0434\u043E\u043C <strong>\u043A\u0430\u0436\u0434\u043E\u0433\u043E \u0438\u0437 \u043D\u0430\u0441</strong> \u0438 \u0435\u0451 \u043F\u043E\u0441\u043B\u0435\u0434\u0441\u0442\u0432\u0438\u044F \u0431\u0443\u0434\u0443\u0442 <strong>\u0443\u0436\u0430\u0441\u0430\u044E\u0449\u0438\u043C\u0438</strong>.
      </div>
      <div>
        \u041F\u0443\u0442\u0438\u043D\u0441\u043A\u0438\u0439 \u0440\u0435\u0436\u0438\u043C \u0437\u0430 20 \u0441 \u043B\u0438\u0448\u043D\u0438\u043C \u043B\u0435\u0442 \u0441\u0432\u043E\u0435\u0433\u043E \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F \u0432\u0434\u043E\u043B\u0431\u0438\u043B \u043D\u0430\u043C, \u0447\u0442\u043E \u043C\u044B \u0431\u0435\u0441\u0441\u0438\u043B\u044C\u043D\u044B \u0438 \u043E\u0434\u0438\u043D \u0447\u0435\u043B\u043E\u0432\u0435\u043A \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u043D\u0438\u0447\u0435\u0433\u043E \u0441\u0434\u0435\u043B\u0430\u0442\u044C. <strong>\u042D\u0442\u043E \u043D\u0435 \u0442\u0430\u043A!</strong>
      </div>
      <div>
        `.concat(p.text,`
      </div>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/`).concat(p.id,`" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      <div>
        \u041D\u0435\u0442 \u0432\u043E\u0439\u043D\u0435!
      </div>
      `));const E=document.createElement("button");E.innerHTML="&times;",E.onclick=()=>f.remove(),f.appendChild(E),window.addEventListener("load",()=>{setTimeout(()=>{document.body.appendChild(f)},1e3)})}Object.assign(xu.prototype,bC),Object.assign(xu,lq),Object.keys(bC).forEach(f=>{xu[f]=function(){if(_i)return _i[f](...arguments)}}),xu.DismissReason=Ou,xu.version="11.4.29";const fp=xu;return fp.default=fp,fp}),typeof Er<"u"&&Er.Sweetalert2&&(Er.swal=Er.sweetAlert=Er.Swal=Er.SweetAlert=Er.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(YU);const Mee=YU.exports;/** @preserve
  * package: sweetalert2-react-content v5.0.3
  * file: dist/sweetalert2-react-content.es.js
  * homepage: https://github.com/sweetalert2/sweetalert2-react-content#readme
  * license: MIT
  **/const UO=[{key:"title",getter:t=>t.getTitle()},{key:"html",getter:t=>t.getHtmlContainer()},{key:"confirmButtonText",getter:t=>t.getConfirmButton()},{key:"denyButtonText",getter:t=>t.getDenyButton()},{key:"cancelButtonText",getter:t=>t.getCancelButton()},{key:"footer",getter:t=>t.getFooter()},{key:"closeButtonHtml",getter:t=>t.getCloseButton()},{key:"iconHtml",getter:t=>t.getIcon().querySelector(".swal2-icon-content")},{key:"loaderHtml",getter:t=>t.getLoader()}],jw=()=>{};function Fee(t){function e(i){const s={},o={},a=UO.map(u=>u.key);return Object.entries(i).forEach(u=>{let[l,c]=u;a.includes(l)&&Id.isValidElement(c)?(s[l]=c,o[l]=" "):o[l]=c}),[s,o]}function n(i,s){Object.entries(s).forEach(o=>{let[a,u]=o;const c=UO.find(h=>h.key===a).getter(t),d=i2(c);d.render(u),i.__roots.push(d)})}function r(i){i.__roots.forEach(s=>{s.unmount()}),i.__roots=[]}return class extends t{static argsToParams(i){if(Id.isValidElement(i[0])||Id.isValidElement(i[1])){const s={};return["title","html","icon"].forEach((o,a)=>{i[a]!==void 0&&(s[o]=i[a])}),s}else return t.argsToParams(i)}_main(i,s){this.__roots=[],this.__params=Object.assign({},s,i);const[o,a]=e(this.__params),u=a.willOpen||jw,l=a.didOpen||jw,c=a.didDestroy||jw;return super._main(Object.assign({},a,{willOpen:d=>{n(this,o),u(d)},didOpen:d=>{setTimeout(()=>{l(d)})},didDestroy:d=>{c(d),r(this)}}))}update(i){Object.assign(this.__params,i),r(this);const[s,o]=e(this.__params);super.update(o),n(this,s)}}}const At=Fee(Mee),Uee={apiKey:"AIzaSyDWCkNzZ2f3AuOp4AqgxgiI8G1XtF6HIHo",authDomain:"avenu-e.firebaseapp.com",projectId:"avenu-e",storageBucket:"avenu-e.appspot.com",messagingSenderId:"243220346607",appId:"1:243220346607:web:634461e975371e8b4c4d1a",measurementId:"G-RR5TS96545"},e1=hI(Uee),po=WY(e1),Ct=Lee(e1),zke=FX(e1),XU=new Wr,JU=new oi,qke=async(t,e,n)=>{try{const r=await SU(Ct,e,n);return TU(Ct.currentUser,{displayName:t}),await qT(Ct.currentUser),r}catch(r){const i=r.code,s=r.message;At.fire({title:"\u30A8\u30E9\u30FC aE-0304",html:"\u6B63\u898F\u306E\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u306F\u306A\u3044\u3001\u3082\u3057\u304F\u306F\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9593\u9055\u3063\u3066\u3044\u307E\u3059\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}),console.log(i,s)}},Hke=async(t,e)=>{try{const n=await IU(Ct,t,e);return At.fire({title:"\u30ED\u30B0\u30A4\u30F3\u5B8C\u4E86\u3002",html:`\u304A\u304B\u3048\u308A\u306A\u3055\u3044\u3001'${n.user.displayName}' \u3055\u3093\uFF01`,icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){window.location="/"}),n}catch(n){const r=n.code,i=n.message;At.fire({title:"\u30A8\u30E9\u30FC aE-0305",html:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3001\u307E\u305F\u306F\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9055\u3044\u307E\u3059\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}),console.log(r,i)}},Gke=async t=>{if(t==="google.com")var e=XU;else if(t==="github.com")var e=JU;await BU(Ct,e).then(()=>{At.fire({title:"\u30ED\u30B0\u30A4\u30F3\u5B8C\u4E86\u3002",html:`\u304A\u304B\u3048\u308A\u306A\u3055\u3044\u3001'${Ct.currentUser.displayName}' \u3055\u3093\uFF01`,icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){window.location="/"})}).catch(n=>{const r=n.code,i=n.message,s=n.customData.email,o=Wr.credentialFromError(n);console.log(r,i,s,o)})},Kke=async t=>{if(t==="google.com")var e=XU;else if(t==="github.com")var e=JU;jU(Ct.currentUser,e).then(async()=>{await At.fire({title:"\u9023\u4FC2\u5B8C\u4E86",html:`\u30A2\u30AB\u30A6\u30F3\u30C8\u3068${t}\u304C\u7D10\u4ED8\u3051\u3055\u308C\u307E\u3057\u305F\u3002`,icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location.reload()})}).catch(n=>{console.error(n)})},Qke=async t=>{console.log(t),yU(Ct.currentUser,t).then(async()=>{await At.fire({title:"\u9023\u4FC2\u89E3\u9664\u5B8C\u4E86",html:`${t}\u3068\u306E\u9023\u643A\u304C\u89E3\u9664\u3055\u308C\u307E\u3057\u305F\u3002`,icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location.reload()})}).catch(e=>{console.error(e)})},Yke=async()=>{try{await qT(Ct.currentUser),At.fire({title:"\u9001\u4FE1\u5B8C\u4E86\u3002",html:"\u767B\u9332\u3057\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306B\u8A8D\u8A3C\u30E1\u30FC\u30EB\u304C\u9001\u4FE1\u3055\u308C\u307E\u3057\u305F\u3002",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1})}catch(t){const e=t.code,n=t.message;At.fire({title:"\u30A8\u30E9\u30FC aE-0306",html:"\u30E1\u30FC\u30EB\u306E\u9001\u4FE1\u304C\u5931\u6557\u3057\u307E\u3057\u305F\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}),console.log(e,n)}},Xke=async t=>{EU(Ct,t).then(()=>{At.fire({title:"\u9001\u4FE1\u5B8C\u4E86\u3002",html:"\u5165\u529B\u3057\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306B\u30E1\u30FC\u30EB\u304C\u9001\u4FE1\u3055\u308C\u307E\u3057\u305F\u3002",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location="/"})}).catch(e=>{console.error(e)})},Jke=async(t,e,n)=>{try{const r=gi.credential(Ct.currentUser.email,e);await $f(Ct.currentUser,r).then(async()=>{await AU(Ct.currentUser,t);const i=xT(po),s=Po(po,"users",n);i.update(s,{email:t}),await i.commit(),await At.fire({title:"\u66F4\u65B0\u5B8C\u4E86\u3002",html:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u304C\u65B0\u3057\u304F\u306A\u308A\u307E\u3057\u305F\u3002",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location="/"})})}catch{await At.fire({title:"\u30A8\u30E9\u30FC aE-0403",html:"\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u63A5\u7D9A\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1})}},Zke=async(t,e,n)=>{try{const r=gi.credential(Ct.currentUser.email,e);await $f(Ct.currentUser,r).then(async()=>{await CU(Ct.currentUser,t);const i=xT(po),s=Po(po,"users",n);i.update(s,{password:t}),await i.commit(),await At.fire({title:"\u66F4\u65B0\u5B8C\u4E86\u3002",html:"\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u65B0\u3057\u304F\u306A\u308A\u307E\u3057\u305F\u3002",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){window.location="/"})})}catch{await At.fire({title:"\u30A8\u30E9\u30FC aE-0403",html:"\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u63A5\u7D9A\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1})}},exe=async()=>{At.fire({title:"\u30ED\u30B0\u30A2\u30A6\u30C8\u306E\u5B9F\u884C\u3002",html:"\u518D\u5EA6\u30ED\u30B0\u30A4\u30F3\u3057\u3066\u3044\u305F\u3060\u304F\u5FC5\u8981\u304C\u3054\u3056\u3044\u307E\u3059\u3002",icon:"warning",showCancelButton:!0,confirmButtonText:"\u7D9A\u3051\u308B",cancelButtonText:"\u3084\u3081\u308B",allowOutsideClick:!1,allowEscapeKey:!1}).then(t=>{t.value&&(tZ(Ct),At.fire("\u30ED\u30B0\u30A2\u30A6\u30C8\u5B8C\u4E86\u3002","\u30C8\u30C3\u30D7\u30DA\u30FC\u30B8\u306B\u9077\u79FB\u3057\u307E\u3059\u3002","success").then(function(){window.location="/"}))})},txe=async t=>{At.fire({title:"Avenu-E\u304B\u3089\u9000\u4F1A\u3059\u308B",html:`<input type='text' id='uid' class='swal2-input' placeholder='UID\uFF08\u30E6\u30FC\u30B6\u30FC\u8B58\u5225\u5B50\uFF09' autocomplete='off'>
        <input type='text' id='password' class='swal2-input' placeholder='\u30D1\u30B9\u30EF\u30FC\u30C9' autocomplete='off'>`,icon:"warning",showCancelButton:!0,confirmButtonText:"\u7D9A\u3051\u308B",cancelButtonText:"\u3084\u3081\u308B",allowOutsideClick:!1,allowEscapeKey:!1,focusConfirm:!1,preConfirm:()=>{const e=At.getPopup().querySelector("#uid").value,n=At.getPopup().querySelector("#password").value;if(!e||!n)At.showValidationMessage("UID\u3068\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044");else if(e!==Ct.currentUser.uid||n!==t.password)At.showValidationMessage("UID\u3082\u3057\u304F\u306F\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9593\u9055\u3063\u3066\u3044\u307E\u3059");else return{uid:e,password:n}}}).then(async e=>{e.value&&At.fire({title:"\u51E6\u7406\u4E2D",html:"\u51E6\u7406\u7D42\u4E86\u307E\u3067\u753B\u9762\u306F\u305D\u306E\u307E\u307E\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",allowOutsideClick:!1,showConfirmButton:!1,timer:1e3}).then(async()=>{const n=gi.credential(Ct.currentUser.email,e.value.password);await $f(Ct.currentUser,n).then(async()=>{await xF(Po(po,"users",t.id)),await nZ(Ct.currentUser),At.fire({title:"Avenu-E\u304B\u3089\u9000\u4F1A\u3057\u307E\u3057\u305F",html:"\u307E\u305F\u6A5F\u4F1A\u304C\u3042\u308C\u3070\u3054\u5229\u7528\u304F\u3060\u3055\u3044\u3002",icon:"success"}).then(()=>{window.location="/"})})})})};function Bee(){const[t,e]=Z.exports.useState(String()),[n,r]=Z.exports.useState(Boolean(!1)),[i,s]=Z.exports.useState(Boolean(!0));return gw.configure({showSpinner:!1,speed:800,minimum:1}),Z.exports.useEffect(()=>(gw.start(),eZ(Ct,o=>{e(o),o&&r(o.emailVerified),s(!1)}),()=>{gw.done()}),[]),Z.exports.useEffect(()=>{if(t){const o=ST(po,"users");OT(o,a=>{a.docs.map(async u=>{if(u.data().email===t.email&&u.data().uid===""&&n){const l=xT(po),c=Po(po,"users",u.id);l.update(c,{uid:t.uid}),await l.commit()}})})}},[i]),!i&&de("div",{children:de(rK,{user:t})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n){this._delegate=e,this.firebase=n,Km(e,new mr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),T2(this._delegate)))}_getService(e,n=Fa){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Fa){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Km(this._delegate,e)}_addOrOverwriteComponent(e){I2(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},BO=new lu("app-compat","Firebase",Vee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Kn,setLogLevel:C2,onLog:A2,apps:null,SDK_VERSION:As,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:C6}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||Fa,!kr(e,l))throw BO.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,c={}){const d=hI(l,c);if(kr(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const c=l.name,d=c.replace("-compat","");if(ji(l)&&l.type==="PUBLIC"){const h=(m=i())=>{if(typeof m[d]!="function")throw BO.create("invalid-app-argument",{appName:c});return m[d]()};l.serviceProps!==void 0&&ph(h,l.serviceProps),n[d]=h,t.prototype[d]=function(...m){return this._getService.bind(this,c).apply(this,l.multipleInstances?m:[])}}return l.type==="PUBLIC"?n[d]:null}function u(l,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){const t=Wee(jee);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:ZU,extendNamespace:e,createSubscribe:v2,ErrorFactory:lu,deepExtend:ph});function e(n){ph(t,n)}return t}const zee=ZU();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new ec("@firebase/app-compat"),qee="@firebase/app-compat",Hee="0.1.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gee(t){Kn(qee,Hee,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(aK()&&self.firebase!==void 0){jO.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&jO.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Es=zee;Gee();var Kee="firebase",Qee="9.9.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es.registerVersion(Kee,Qee,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yee=2e3;async function Xee(t,e,n){var r;const{BuildInfo:i}=Xa();pi(e.sessionId,"AuthEvent did not contain a session ID");const s=await nte(e.sessionId),o={};return mc()?o.ibi=i.packageName:Nf()?o.apn=i.packageName:ln(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,eb(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function Jee(t){const{BuildInfo:e}=Xa(),n={};mc()?n.iosBundleId=e.packageName:Nf()?n.androidPackageName=e.packageName:ln(t,"operation-not-supported-in-this-environment"),await GU(t,n)}function Zee(t){const{cordova:e}=Xa();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,uJ()?"_blank":"_system","location=yes"),n(i)})})}async function ete(t,e,n){const{cordova:r}=Xa();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Tn(t,"redirect-cancelled-by-user"))},Yee))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),Nf()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function tte(t){var e,n,r,i,s,o,a,u,l,c;const d=Xa();ee(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee(typeof((u=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee(typeof((c=(l=d==null?void 0:d.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function nte(t){const e=rte(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function rte(t){if(pi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite=20;class ste extends qU{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function ote(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:lte(),postBody:null,tenantId:t.tenantId,error:Tn(t,"no-auth-event")}}function ate(t,e){return tb()._set(nb(t),e)}async function VO(t){const e=await tb()._get(nb(t));return e&&await tb()._remove(nb(t)),e}function ute(t,e){var n,r;const i=dte(e);if(i.includes("/__/auth/callback")){const s=gm(i),o=s.firebaseError?cte(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Tn(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function lte(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ite;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function tb(){return Cr(ev)}function nb(t){return Ca("authEvent",t.config.apiKey,t.name)}function cte(t){try{return JSON.parse(t)}catch{return null}}function dte(t){const e=gm(t),n=e.link?decodeURIComponent(e.link):void 0,r=gm(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return gm(i).link||i||r||n||t}function gm(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Zu(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=500;class fte{constructor(){this._redirectPersistence=xo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=iv,this._overrideRedirectResult=JT}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new ste(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){tte(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),XZ(),await this._originValidation(e);const o=ote(e,r,i);await ate(e,o);const a=await Xee(e,o,n),u=await Zee(a);return ete(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jee(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Xa(),o=setTimeout(async()=>{await VO(e),n.onEvent(WO())},hte),a=async c=>{clearTimeout(o);const d=await VO(e);let h=null;d&&(c==null?void 0:c.url)&&(h=ute(d,c.url)),n.onEvent(h||WO())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;Xa().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(l)&&a({url:c}),typeof u=="function")try{u(c)}catch(d){console.error(d)}}}}const pte=fte;function WO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mte(t,e){cn(t)._logFramework(e)}var gte="@firebase/auth-compat",yte="0.2.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte=1e3;function qd(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function _te(){return qd()==="http:"||qd()==="https:"}function eB(t=ct()){return!!((qd()==="file:"||qd()==="ionic:"||qd()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wte(){return hf()||aI()}function Ete(){return lI()&&(document==null?void 0:document.documentMode)===11}function bte(t=ct()){return/Edge\/\d+/.test(t)}function Ste(t=ct()){return Ete()||bte(t)}function tB(){try{const t=self.localStorage,e=Lf();if(t)return t.setItem(e,"1"),t.removeItem(e),Ste()?mh():!0}catch{return t1()&&mh()}return!1}function t1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vw(){return(_te()||uI()||eB())&&!wte()&&tB()&&!t1()}function nB(){return eB()&&typeof document<"u"}async function Ite(){return nB()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},vte);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Tte(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},id=ee,rB="persistence";function Ate(t,e){if(id(Object.values(Sr).includes(e),t,"invalid-persistence-type"),hf()){id(e!==Sr.SESSION,t,"unsupported-persistence-type");return}if(aI()){id(e===Sr.NONE,t,"unsupported-persistence-type");return}if(t1()){id(e===Sr.NONE||e===Sr.LOCAL&&mh(),t,"unsupported-persistence-type");return}id(e===Sr.NONE||tB(),t,"unsupported-persistence-type")}async function rb(t){await t._initializationPromise;const e=iB(),n=Ca(rB,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Cte(t,e){const n=iB();if(!n)return[];const r=Ca(rB,t,e);switch(n.getItem(r)){case Sr.NONE:return[Ml];case Sr.LOCAL:return[Ul,xo];case Sr.SESSION:return[xo];default:return[]}}function iB(){var t;try{return((t=Tte())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte=ee;class Js{constructor(){this.browserResolver=Cr(KU),this.cordovaResolver=Cr(pte),this.underlyingResolver=null,this._redirectPersistence=xo,this._completeRedirectFn=iv,this._overrideRedirectResult=JT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return nB()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rte(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Ite();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){return t.unwrap()}function Pte(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(t){return oB(t)}function kte(t,e){var n,r;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(((r=e)===null||r===void 0?void 0:r.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new xte(t,rZ(t,e))}else if(i){const s=oB(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function oB(t){const{_tokenResponse:e}=t instanceof Dn?t.customData:t;if(!e)return null;if(!(t instanceof Dn)&&"temporaryProof"in e&&"phoneNumber"in e)return di.credentialFromResult(t);const n=e.providerId;if(!n||n===rd.PASSWORD)return null;let r;switch(n){case rd.GOOGLE:r=Wr;break;case rd.FACEBOOK:r=Ti;break;case rd.GITHUB:r=oi;break;case rd.TWITTER:r=Ai;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Fl._create(n,a):zi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new fl(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof Dn?r.credentialFromError(t):r.credentialFromResult(t)}function nr(t,e){return e.catch(n=>{throw n instanceof Dn&&kte(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Ote(n),additionalUserInfo:ZJ(n),user:as.getOrCreate(i)}})}async function ib(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>nr(t,n.confirm(r))}}class xte{constructor(e,n){this.resolver=n,this.auth=Pte(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return nr(sB(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._delegate=e,this.multiFactor=aZ(e)}static getOrCreate(e){return as.USER_MAP.has(e)||as.USER_MAP.set(e,new as(e)),as.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return nr(this.auth,wU(this._delegate,e))}async linkWithPhoneNumber(e,n){return ib(this.auth,BZ(this._delegate,e,n))}async linkWithPopup(e){return nr(this.auth,jU(this._delegate,e,Js))}async linkWithRedirect(e){return await rb(cn(this.auth)),nee(this._delegate,e,Js)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return nr(this.auth,$f(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return ib(this.auth,jZ(this._delegate,e,n))}reauthenticateWithPopup(e){return nr(this.auth,GZ(this._delegate,e,Js))}async reauthenticateWithRedirect(e){return await rb(cn(this.auth)),eee(this._delegate,e,Js)}sendEmailVerification(e){return qT(this._delegate,e)}async unlink(e){return await yU(this._delegate,e),this}updateEmail(e){return AU(this._delegate,e)}updatePassword(e){return CU(this._delegate,e)}updatePhoneNumber(e){return VZ(this._delegate,e)}updateProfile(e){return TU(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return HJ(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}as.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=ee;class sb{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;sd(r,"invalid-api-key",{appName:e.name}),sd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Js:void 0;this._delegate=n.initialize({options:{persistence:Dte(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(VX),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?as.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){pJ(this._delegate,e,n)}applyActionCode(e){return UJ(this._delegate,e)}checkActionCode(e){return bU(this._delegate,e)}confirmPasswordReset(e,n){return FJ(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return nr(this._delegate,SU(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return qJ(this._delegate,e)}isSignInWithEmailLink(e){return VJ(this._delegate,e)}async getRedirectResult(){sd(Vw(),this._delegate,"operation-not-supported-in-this-environment");const e=await iee(this._delegate,Js);return e?nr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){mte(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=zO(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=zO(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return jJ(this._delegate,e,n)}sendPasswordResetEmail(e,n){return EU(this._delegate,e,n||void 0)}async setPersistence(e){Ate(this._delegate,e);let n;switch(e){case Sr.SESSION:n=xo;break;case Sr.LOCAL:n=await Cr(Ul)._isAvailable()?Ul:ev;break;case Sr.NONE:n=Ml;break;default:return ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return nr(this._delegate,$J(this._delegate))}signInWithCredential(e){return nr(this._delegate,Xy(this._delegate,e))}signInWithCustomToken(e){return nr(this._delegate,MJ(this._delegate,e))}signInWithEmailAndPassword(e,n){return nr(this._delegate,IU(this._delegate,e,n))}signInWithEmailLink(e,n){return nr(this._delegate,WJ(this._delegate,e,n))}signInWithPhoneNumber(e,n){return ib(this._delegate,UZ(this._delegate,e,n))}async signInWithPopup(e){return sd(Vw(),this._delegate,"operation-not-supported-in-this-environment"),nr(this._delegate,BU(this._delegate,e,Js))}async signInWithRedirect(e){return sd(Vw(),this._delegate,"operation-not-supported-in-this-environment"),await rb(this._delegate),JZ(this._delegate,e,Js)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return BJ(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}sb.Persistence=Sr;function zO(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&as.getOrCreate(o)),error:e,complete:n}}function Dte(t,e){const n=Cte(t,e);if(typeof self<"u"&&!n.includes(Ul)&&n.push(Ul),typeof window<"u")for(const r of[ev,xo])n.includes(r)||n.push(r);return n.includes(Ml)||n.push(Ml),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.providerId="phone",this._delegate=new di(sB(Es.auth()))}static credential(e,n){return di.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}n1.PHONE_SIGN_IN_METHOD=di.PHONE_SIGN_IN_METHOD;n1.PROVIDER_ID=di.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte=ee;class $te{constructor(e,n,r=Es.app()){var i;Nte((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new MZ(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte="auth-compat";function Mte(t){t.INTERNAL.registerComponent(new mr(Lte,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new sb(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fu.EMAIL_SIGNIN,PASSWORD_RESET:Fu.PASSWORD_RESET,RECOVER_EMAIL:Fu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Fu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Fu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Fu.VERIFY_EMAIL}},EmailAuthProvider:gi,FacebookAuthProvider:Ti,GithubAuthProvider:oi,GoogleAuthProvider:Wr,OAuthProvider:fl,SAMLAuthProvider:mg,PhoneAuthProvider:n1,PhoneMultiFactorGenerator:QU,RecaptchaVerifier:$te,TwitterAuthProvider:Ai,Auth:sb,AuthCredential:gc,Error:Dn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(gte,yte)}Mte(Es);const qO="@firebase/database",HO="0.13.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aB="";function uB(t){aB=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:gh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return kr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Fte(e)}}catch{}return new Ute},wa=lB("localStorage"),ob=lB("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new ec("@firebase/database"),cB=function(){let t=1;return function(){return t++}}(),dB=function(t){const e=wK(t),n=new yK;n.update(e);const r=n.digest();return oI.encodeByteArray(r)},Ff=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ff.apply(null,r):typeof r=="object"?e+=zt(r):e+=r,e+=" "}return e};let Pa=null,GO=!0;const hB=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ml.logLevel=je.VERBOSE,Pa=ml.log.bind(ml),e&&ob.set("logging_enabled",!0)):typeof t=="function"?Pa=t:(Pa=null,ob.remove("logging_enabled"))},nn=function(...t){if(GO===!0&&(GO=!1,Pa===null&&ob.get("logging_enabled")===!0&&hB(!0)),Pa){const e=Ff.apply(null,t);Pa(e)}},Uf=function(t){return function(...e){nn(t,...e)}},ab=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ff(...t);ml.error(e)},qi=function(...t){const e=`FIREBASE FATAL ERROR: ${Ff(...t)}`;throw ml.error(e),new Error(e)},$n=function(...t){const e="FIREBASE WARNING: "+Ff(...t);ml.warn(e)},Bte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$n("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},jte=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},bs="[MIN_NAME]",Hi="[MAX_NAME]",vu=function(t,e){if(t===e)return 0;if(t===bs||e===Hi)return-1;if(e===bs||t===Hi)return 1;{const n=_g(t),r=_g(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Vte=function(t,e){return t===e?0:t<e?-1:1},od=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+zt(e))},r1=function(t){if(typeof t!="object"||t===null)return zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=zt(e[r]),n+=":",n+=r1(t[e[r]]);return n+="}",n},fB=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function dn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pB=function(t){ne(!sv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const l=[];for(u=n;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const c=l.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(c.substr(u,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Wte=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zte=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function qte(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Hte=new RegExp("^-?(0*)\\d{1,10}$"),mB=-2147483648,i1=2147483647,_g=function(t){if(Hte.test(t)){const e=Number(t);if(e>=mB&&e<=i1)return e}return null},vc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $n("Exception was thrown by user callback.",n),e},Math.floor(0))}},Gte=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hd=function(t,e){const n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$n(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$n(e)}}class gl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="5",gB="v",yB="s",vB="r",_B="f",wB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,EB="ls",bB="p",ub="ac",SB="websocket",IB="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Yte(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function AB(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===SB)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===IB)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Yte(t)&&(n.ns=t.namespace);const i=[];return dn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(){this.counters_={}}incrementCounter(e,n=1){kr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sK(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={},zw={};function o1(t){const e=t.toString();return Ww[e]||(Ww[e]=new Xte),Ww[e]}function Jte(t,e){const n=t.toString();return zw[n]||(zw[n]=e()),zw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="start",ene="close",tne="pLPCommand",nne="pRTLPCB",CB="id",RB="pw",PB="ser",rne="cb",ine="seg",sne="ts",one="d",ane="dframe",OB=1870,kB=30,une=OB-kB,lne=25e3,cne=3e4;class Zs{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uf(e),this.stats_=o1(n),this.urlFn=u=>(this.appCheckToken&&(u[ub]=this.appCheckToken),AB(n,IB,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Zte(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cne)),jte(()=>{if(this.isClosed_)return;this.scriptTagHolder=new a1((...s)=>{const[o,a,u,l,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===KO)this.id=a,this.password=u;else if(o===ene)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[KO]="t",r[PB]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[rne]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gB]=s1,this.transportSessionId&&(r[yB]=this.transportSessionId),this.lastSessionId&&(r[EB]=this.lastSessionId),this.applicationId&&(r[bB]=this.applicationId),this.appCheckToken&&(r[ub]=this.appCheckToken),typeof location<"u"&&location.hostname&&wB.test(location.hostname)&&(r[vB]=_B);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zs.forceAllow_=!0}static forceDisallow(){Zs.forceDisallow_=!0}static isAvailable(){return Zs.forceAllow_?!0:!Zs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Wte()&&!zte()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=p2(n),i=fB(r,une);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[ane]="t",r[CB]=e,r[RB]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class a1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cB(),window[tne+this.uniqueCallbackIdentifier]=e,window[nne+this.uniqueCallbackIdentifier]=n,this.myIFrame=a1.createIFrame_();let s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){nn("frame writing exception"),a.stack&&nn(a.stack),nn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[CB]=this.myID,e[RB]=this.myPW,e[PB]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kB+r.length<=OB;){const o=this.pendingSegs.shift();r=r+"&"+ine+i+"="+o.seg+"&"+sne+i+"="+o.ts+"&"+one+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(lne)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne=16384,hne=45e3;let wg=null;typeof MozWebSocket<"u"?wg=MozWebSocket:typeof WebSocket<"u"&&(wg=WebSocket);class zr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uf(this.connId),this.stats_=o1(n),this.connURL=zr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[gB]=s1,typeof location<"u"&&location.hostname&&wB.test(location.hostname)&&(o[vB]=_B),n&&(o[yB]=n),r&&(o[EB]=r),i&&(o[ub]=i),s&&(o[bB]=s),AB(e,SB,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wa.set("previous_websocket_failure",!0);try{let r;g2(),this.mySock=new wg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){zr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&wg!==null&&!zr.forceDisallow_}static previouslyFailed(){return wa.isInMemoryStorage||wa.get("previous_websocket_failure")===!0}markConnectionHealthy(){wa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=gh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fB(n,dne);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hne))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zr.responsesRequiredToBeHealthy=2;zr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zs,zr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=zr&&zr.isAvailable();let r=n&&!zr.previouslyFailed();if(e.webSocketOnly&&(n||$n("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zr];else{const i=this.transports_=[];for(const s of Bl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Bl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne=6e4,pne=5e3,mne=10*1024,gne=100*1024,qw="t",QO="d",yne="s",YO="r",vne="e",XO="o",JO="a",ZO="n",ek="p",_ne="h";class wne{constructor(e,n,r,i,s,o,a,u,l,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uf("c:"+this.id+":"),this.transportManager_=new Bl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gne?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mne?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(qw in e){const n=e[qw];n===JO?this.upgradeIfSecondaryHealthy_():n===YO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===XO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=od("t",e),r=od("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ek,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:JO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ZO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=od("t",e),r=od("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=od(qw,e);if(QO in e){const r=e[QO];if(n===_ne)this.onHandshake_(r);else if(n===ZO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yne?this.onConnectionShutdown_(r):n===YO?this.onReset_(r):n===vne?ab("Server Error: "+r):n===XO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ab("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),s1!==r&&$n("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Hd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fne))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pne))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ek,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends DB{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!my()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Eg}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=32,nk=768;class Ge{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function qe(){return new Ge("")}function ke(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Do(t){return t.pieces_.length-t.pieceNum_}function Ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ge(t.pieces_,e)}function u1(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ene(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Uh(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function NB(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ge(e,0)}function pt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ge)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ge(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Hn(t,e){const n=ke(t),r=ke(e);if(n===null)return e;if(n===r)return Hn(Ze(t),Ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bne(t,e){const n=Uh(t,0),r=Uh(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=vu(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function l1(t,e){if(Do(t)!==Do(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Hr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Do(t)>Do(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Sne{constructor(e,n){this.errorPrefix_=n,this.parts_=Uh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gy(this.parts_[r]);$B(this)}}function Ine(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gy(e),$B(t)}function Tne(t){const e=t.parts_.pop();t.byteLength_-=gy(e),t.parts_.length>0&&(t.byteLength_-=1)}function $B(t){if(t.byteLength_>nk)throw new Error(t.errorPrefix_+"has a key path longer than "+nk+" bytes ("+t.byteLength_+").");if(t.parts_.length>tk)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tk+") or object contains a cycle "+ia(t))}function ia(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends DB{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new c1}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=1e3,Ane=60*5*1e3,rk=30*1e3,Cne=1.3,Rne=3e4,Pne="server_kill",ik=3;class hs extends xB{constructor(e,n,r,i,s,o,a,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=u,this.id=hs.nextPersistentConnectionId_++,this.log_=Uf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ad,this.maxReconnectDelay_=Ane,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!g2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");c1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Eg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(zt(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new sr,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const u=a.d,l=a.s;hs.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),l!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(l,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&kr(e,"w")){const r=La(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();$n(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||gK(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rk)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=mK(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ab("Unrecognized action received from server: "+zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Rne&&(this.reconnectDelay_=ad),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Cne)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+hs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const u=function(){a?a.close():(o=!0,r())},l=function(d){ne(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:u,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?nn("getToken() completed but was canceled"):(nn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new wne(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{$n(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(Pne)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&$n(d),u())}}}interrupt(e){nn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qm(this.interruptReasons_)&&(this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>r1(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ge(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){nn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ik&&(this.reconnectDelay_=rk,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ik&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+aB.replace(/\./g,"-")]=1,my()?e["framework.cordova"]=1:hf()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Eg.getInstance().currentlyOnline();return qm(this.interruptReasons_)&&e}}hs.nextPersistentConnectionId_=0;hs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new De(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new De(bs,e),i=new De(bs,n);return this.compare(r,i)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp;class LB extends ov{static get __EMPTY_NODE(){return Wp}static set __EMPTY_NODE(e){Wp=e}compare(e,n){return vu(e.name,n.name)}isDefinedOn(e){throw Zl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return De.MIN}maxPost(){return new De(Hi,Wp)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,Wp)}toString(){return".key"}}const Fi=new LB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:tn.RED,this.left=i!=null?i:lr.EMPTY_NODE,this.right=s!=null?s:lr.EMPTY_NODE}copy(e,n,r,i,s){return new tn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return lr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return lr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tn.RED=!0;tn.BLACK=!1;class One{copy(e,n,r,i,s){return this}insert(e,n,r){return new tn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class lr{constructor(e,n=lr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new lr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,tn.BLACK,null,null))}remove(e){return new lr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new zp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new zp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new zp(this.root_,null,this.comparator_,!0,e)}}lr.EMPTY_NODE=new One;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(t,e){return vu(t.name,e.name)}function d1(t,e){return vu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lb;function xne(t){lb=t}const MB=function(t){return typeof t=="number"?"number:"+pB(t):"string:"+t},FB=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&kr(e,".sv"),"Priority must be a string or number.")}else ne(t===lb||t.isEmpty(),"priority of unexpected type.");ne(t===lb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sk;class Yt{constructor(e,n=Yt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FB(this.priorityNode_)}static set __childrenNodeConstructor(e){sk=e}static get __childrenNodeConstructor(){return sk}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Yt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Yt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:ke(e)===".priority"?this.priorityNode_:Yt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Yt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ke(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||Do(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Yt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+MB(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pB(this.value_):e+=this.value_,this.lazyHash_=dB(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Yt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Yt.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Yt.VALUE_TYPE_ORDER.indexOf(n),s=Yt.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Yt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UB,BB;function Dne(t){UB=t}function Nne(t){BB=t}class $ne extends ov{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?vu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return De.MIN}maxPost(){return new De(Hi,new Yt("[PRIORITY-POST]",BB))}makePost(e,n){const r=UB(e);return new De(n,new Yt("[PRIORITY-POST]",r))}toString(){return".priority"}}const it=new $ne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lne=Math.log(2);class Mne{constructor(e){const n=s=>parseInt(Math.log(s)/Lne,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bg=function(t,e,n,r){t.sort(e);const i=function(u,l){const c=l-u;let d,h;if(c===0)return null;if(c===1)return d=t[u],h=n?n(d):d,new tn(h,d.node,tn.BLACK,null,null);{const m=parseInt(c/2,10)+u,g=i(u,m),_=i(m+1,l);return d=t[m],h=n?n(d):d,new tn(h,d.node,tn.BLACK,g,_)}},s=function(u){let l=null,c=null,d=t.length;const h=function(g,_){const S=d-g,v=d;d-=g;const y=i(S+1,v),w=t[S],b=n?n(w):w;m(new tn(b,w.node,_,null,y))},m=function(g){l?(l.left=g,l=g):(c=g,l=g)};for(let g=0;g<u.count;++g){const _=u.nextBitIsOne(),S=Math.pow(2,u.count-(g+1));_?h(S,tn.BLACK):(h(S,tn.BLACK),h(S,tn.RED))}return c},o=new Mne(t.length),a=s(o);return new lr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hw;const Uu={};class us{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(Uu&&it,"ChildrenNode.ts has not been loaded"),Hw=Hw||new us({".priority":Uu},{".priority":it}),Hw}get(e){const n=La(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof lr?n:null}hasIndex(e){return kr(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(De.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=bg(r,e.getCompare()):a=Uu;const u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;const c=Object.assign({},this.indexes_);return c[u]=a,new us(c,l)}addToIndexes(e,n){const r=Hm(this.indexes_,(i,s)=>{const o=La(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===Uu)if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(De.Wrap);let l=u.getNext();for(;l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),bg(a,o.getCompare())}else return Uu;else{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new De(e.name,a))),u.insert(e,e.node)}});return new us(r,this.indexSet_)}removeFromIndexes(e,n){const r=Hm(this.indexes_,i=>{if(i===Uu)return i;{const s=n.get(e.name);return s?i.remove(new De(e.name,s)):i}});return new us(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud;class Ee{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&FB(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ud||(ud=new Ee(new lr(d1),null,us.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ud}updatePriority(e){return this.children_.isEmpty()?this:new Ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ud:n}}getChild(e){const n=ke(e);return n===null?this:this.getImmediateChild(n).getChild(Ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new De(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ud:this.priorityNode_;return new Ee(i,o,s)}}updateChild(e,n){const r=ke(e);if(r===null)return n;{ne(ke(e)!==".priority"||Do(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ze(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(it,(o,a)=>{n[o]=a.val(e),r++,s&&Ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+MB(this.getPriority().val())+":"),this.forEachChild(it,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":dB(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new De(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new De(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new De(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,De.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bf?-1:0}withIndex(e){if(e===Fi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Fi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(it),i=n.getIterator(it);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Fi?null:this.indexMap_.get(e.toString())}}Ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Fne extends Ee{constructor(){super(new lr(d1),Ee.EMPTY_NODE,us.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ee.EMPTY_NODE}isEmpty(){return!1}}const Bf=new Fne;Object.defineProperties(De,{MIN:{value:new De(bs,Ee.EMPTY_NODE)},MAX:{value:new De(Hi,Bf)}});LB.__EMPTY_NODE=Ee.EMPTY_NODE;Yt.__childrenNodeConstructor=Ee;xne(Bf);Nne(Bf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Une=!0;function _t(t,e=null){if(t===null)return Ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Yt(n,_t(e))}if(!(t instanceof Array)&&Une){const n=[];let r=!1;if(dn(t,(o,a)=>{if(o.substring(0,1)!=="."){const u=_t(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new De(o,u)))}}),n.length===0)return Ee.EMPTY_NODE;const s=bg(n,kne,o=>o.name,d1);if(r){const o=bg(n,it.getCompare());return new Ee(s,_t(e),new us({".priority":o},{".priority":it}))}else return new Ee(s,_t(e),us.Default)}else{let n=Ee.EMPTY_NODE;return dn(t,(r,i)=>{if(kr(t,r)&&r.substring(0,1)!=="."){const s=_t(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(_t(e))}}Dne(_t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends ov{constructor(e){super(),this.indexPath_=e,ne(!xe(e)&&ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?vu(e.name,n.name):s}makePost(e,n){const r=_t(e),i=Ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new De(n,i)}maxPost(){const e=Ee.EMPTY_NODE.updateChild(this.indexPath_,Bf);return new De(Hi,e)}toString(){return Uh(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne extends ov{compare(e,n){const r=e.node.compareTo(n.node);return r===0?vu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,n){const r=_t(e);return new De(n,r)}toString(){return".value"}}const f1=new Bne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cb="-",jB="z",VB=786,jne=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=jl.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=jl.charAt(e[i]);return ne(o.length===20,"nextPushId: Length should be 20."),o}}(),ok=function(t){if(t===""+i1)return cb;const e=_g(t);if(e!=null)return""+(e+1);const n=new Array(t.length);for(let o=0;o<n.length;o++)n[o]=t.charAt(o);if(n.length<VB)return n.push(cb),n.join("");let r=n.length-1;for(;r>=0&&n[r]===jB;)r--;if(r===-1)return Hi;const i=n[r],s=jl.charAt(jl.indexOf(i)+1);return n[r]=s,n.slice(0,r+1).join("")},ak=function(t){if(t===""+mB)return bs;const e=_g(t);if(e!=null)return""+(e-1);const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===cb?n.length===1?""+i1:(delete n[n.length-1],n.join("")):(n[n.length-1]=jl.charAt(jl.indexOf(n[n.length-1])-1),n.join("")+jB.repeat(VB-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){return{type:"value",snapshotNode:t}}function Vl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Bh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function jh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Vne(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Bh(n,a)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Vl(n,r)):o.trackChildChange(jh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(it,(i,s)=>{n.hasChild(i)||r.trackChildChange(Bh(i,s))}),n.isLeafNode()||n.forEachChild(it,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(jh(i,s,o))}else r.trackChildChange(Vl(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.indexedFilter_=new p1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Vh.getStartPost_(e),this.endPost_=Vh.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,s,o){return this.matches(new De(n,r))||(r=Ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ee.EMPTY_NODE);const s=this;return n.forEachChild(it,(o,a)=>{s.matches(new De(o,a))||(i=i.updateImmediateChild(o,Ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(e){this.rangedFilter_=new Vh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new De(n,r))||(r=Ee.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ee.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let u;if(this.reverse_?u=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:u=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,u)i=i.updateImmediateChild(a.name,a.node),o++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ee.EMPTY_NODE);let s,o,a,u;if(this.reverse_){u=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,m)=>d(m,h)}else u=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let l=0,c=!1;for(;u.hasNext();){const d=u.getNext();!c&&a(s,d)<=0&&(c=!0),c&&l<this.limit_&&a(d,o)<=0?l++:i=i.updateImmediateChild(d.name,Ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,m)=>d(m,h)}else o=this.index_.getCompare();const a=e;ne(a.numChildren()===this.limit_,"");const u=new De(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const m=h==null?1:o(h,u);if(c&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(jh(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Bh(n,d));const _=a.updateImmediateChild(n,Ee.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Vl(h.name,h.node)),_.updateImmediateChild(h.name,h.node)):_}}else return r.isEmpty()?e:c&&o(l,u)>=0?(s!=null&&(s.trackChildChange(Bh(l.name,l.node)),s.trackChildChange(Vl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,Ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=it}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bs}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===it}copy(){const e=new av;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zne(t){return t.loadsAllData()?new p1(t.getIndex()):t.hasLimit()?new Wne(t):new Vh(t)}function qne(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Hne(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function db(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Gne(t,e,n){let r;if(t.index_===Fi)typeof e=="string"&&(e=ok(e)),r=db(t,e,n);else{let i;n==null?i=Hi:i=ok(n),r=db(t,e,i)}return r.startAfterSet_=!0,r}function hb(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Kne(t,e,n){let r,i;return t.index_===Fi?(typeof e=="string"&&(e=ak(e)),i=hb(t,e,n)):(n==null?r=bs:r=ak(n),i=hb(t,e,r)),i.endBeforeSet_=!0,i}function uv(t,e){const n=t.copy();return n.index_=e,n}function uk(t){const e={};if(t.isDefault())return e;let n;return t.index_===it?n="$priority":t.index_===f1?n="$value":t.index_===Fi?n="$key":(ne(t.index_ instanceof h1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=zt(n),t.startSet_&&(e.startAt=zt(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+zt(t.indexStartName_))),t.endSet_&&(e.endAt=zt(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+zt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function lk(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==it&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends xB{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Uf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Sg.getListenId_(e,r),a={};this.listens_[o]=a;const u=uk(e._queryParams);this.restRequest_(s+".json",u,(l,c)=>{let d=c;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),La(this.listens_,o)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){const r=Sg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=uk(e._queryParams),r=e._path.toString(),i=new sr;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=gh(a.responseText)}catch{$n("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else a.status!==401&&a.status!==404&&$n("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(){this.rootNode_=Ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){return{value:null,children:new Map}}function _c(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ke(e);t.children.has(r)||t.children.set(r,Ig());const i=t.children.get(r);e=Ze(e),_c(i,e,n)}}function fb(t,e){if(xe(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(it,(r,i)=>{_c(t,new Ge(r),i)}),fb(t,e)}}else if(t.children.size>0){const n=ke(e);return e=Ze(e),t.children.has(n)&&fb(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function pb(t,e,n){t.value!==null?n(e,t.value):Yne(t,(r,i)=>{const s=new Ge(e.toString()+"/"+r);pb(i,s,n)})}function Yne(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&dn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=10*1e3,Jne=30*1e3,Zne=5*60*1e3;class ere{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Xne(e);const r=ck+(Jne-ck)*Math.random();Hd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;dn(e,(i,s)=>{s>0&&kr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Hd(this.reportStats_.bind(this),Math.floor(Math.random()*2*Zne))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ui||(ui={}));function m1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function g1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function y1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ui.ACK_USER_WRITE,this.source=m1()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ge(e));return new Tg(qe(),n,this.revert)}}else return ne(ke(this.path)===e,"operationForChild called for unrelated child."),new Tg(Ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.source=e,this.path=n,this.type=ui.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new Wh(this.source,qe()):new Wh(this.source,Ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ui.OVERWRITE}operationForChild(e){return xe(this.path)?new Ja(this.source,qe(),this.snap.getImmediateChild(e)):new Ja(this.source,Ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ui.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Ge(e));return n.isEmpty()?null:n.value?new Ja(this.source,qe(),n.value):new Wl(this.source,qe(),n)}else return ne(ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wl(this.source,Ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ke(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nre(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Vne(o.childName,o.snapshotNode))}),ld(t,i,"child_removed",e,r,n),ld(t,i,"child_added",e,r,n),ld(t,i,"child_moved",s,r,n),ld(t,i,"child_changed",e,r,n),ld(t,i,"value",e,r,n),i}function ld(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>ire(t,a,u)),o.forEach(a=>{const u=rre(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(u,t.query_))})})}function rre(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ire(t,e,n){if(e.childName==null||n.childName==null)throw Zl("Should only compare child_ events.");const r=new De(e.childName,e.snapshotNode),i=new De(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){return{eventCache:t,serverCache:e}}function Gd(t,e,n,r){return lv(new No(e,n,r),t.serverCache)}function zB(t,e,n,r){return lv(t.eventCache,new No(e,n,r))}function Ag(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Za(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gw;const sre=()=>(Gw||(Gw=new lr(Vte)),Gw);class tt{constructor(e,n=sre()){this.value=e,this.children=n}static fromObject(e){let n=new tt(null);return dn(e,(r,i)=>{n=n.set(new Ge(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:qe(),value:this.value};if(xe(e))return null;{const r=ke(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ze(e),n);return s!=null?{path:pt(new Ge(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=ke(e),r=this.children.get(n);return r!==null?r.subtree(Ze(e)):new tt(null)}}set(e,n){if(xe(e))return new tt(n,this.children);{const r=ke(e),s=(this.children.get(r)||new tt(null)).set(Ze(e),n),o=this.children.insert(r,s);return new tt(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new tt(null):new tt(null,this.children);{const n=ke(e),r=this.children.get(n);if(r){const i=r.remove(Ze(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new tt(null):new tt(this.value,s)}else return this}}get(e){if(xe(e))return this.value;{const n=ke(e),r=this.children.get(n);return r?r.get(Ze(e)):null}}setTree(e,n){if(xe(e))return n;{const r=ke(e),s=(this.children.get(r)||new tt(null)).setTree(Ze(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new tt(this.value,o)}}fold(e){return this.fold_(qe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(pt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,qe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(xe(e))return null;{const s=ke(e),o=this.children.get(s);return o?o.findOnPath_(Ze(e),pt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,qe(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const i=ke(e),s=this.children.get(i);return s?s.foreachOnPath_(Ze(e),pt(n,i),r):new tt(null)}}foreach(e){this.foreach_(qe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.writeTree_=e}static empty(){return new hi(new tt(null))}}function Kd(t,e,n){if(xe(e))return new hi(new tt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Hn(i,e);return s=s.updateChild(o,n),new hi(t.writeTree_.set(i,s))}else{const i=new tt(n),s=t.writeTree_.setTree(e,i);return new hi(s)}}}function mb(t,e,n){let r=t;return dn(n,(i,s)=>{r=Kd(r,pt(e,i),s)}),r}function dk(t,e){if(xe(e))return hi.empty();{const n=t.writeTree_.setTree(e,new tt(null));return new hi(n)}}function gb(t,e){return _u(t,e)!=null}function _u(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Hn(n.path,e)):null}function hk(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(it,(r,i)=>{e.push(new De(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new De(r,i.value))}),e}function mo(t,e){if(xe(e))return t;{const n=_u(t,e);return n!=null?new hi(new tt(n)):new hi(t.writeTree_.subtree(e))}}function yb(t){return t.writeTree_.isEmpty()}function zl(t,e){return qB(qe(),t.writeTree_,e)}function qB(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qB(pt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){return QB(e,t)}function ore(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Kd(t.visibleWrites,e,n)),t.lastWriteId=r}function are(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=mb(t.visibleWrites,e,n),t.lastWriteId=r}function ure(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function lre(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&cre(a,r.path)?i=!1:Hr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return dre(t),!0;if(r.snap)t.visibleWrites=dk(t.visibleWrites,r.path);else{const a=r.children;dn(a,u=>{t.visibleWrites=dk(t.visibleWrites,pt(r.path,u))})}return!0}else return!1}function cre(t,e){if(t.snap)return Hr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Hr(pt(t.path,n),e))return!0;return!1}function dre(t){t.visibleWrites=HB(t.allWrites,hre,qe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hre(t){return t.visible}function HB(t,e,n){let r=hi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Hr(n,o)?(a=Hn(n,o),r=Kd(r,a,s.snap)):Hr(o,n)&&(a=Hn(o,n),r=Kd(r,qe(),s.snap.getChild(a)));else if(s.children){if(Hr(n,o))a=Hn(n,o),r=mb(r,a,s.children);else if(Hr(o,n))if(a=Hn(o,n),xe(a))r=mb(r,qe(),s.children);else{const u=La(s.children,ke(a));if(u){const l=u.getChild(Ze(a));r=Kd(r,qe(),l)}}}else throw Zl("WriteRecord should have .snap or .children")}}return r}function GB(t,e,n,r,i){if(!r&&!i){const s=_u(t.visibleWrites,e);if(s!=null)return s;{const o=mo(t.visibleWrites,e);if(yb(o))return n;if(n==null&&!gb(o,qe()))return null;{const a=n||Ee.EMPTY_NODE;return zl(o,a)}}}else{const s=mo(t.visibleWrites,e);if(!i&&yb(s))return n;if(!i&&n==null&&!gb(s,qe()))return null;{const o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Hr(l.path,e)||Hr(e,l.path))},a=HB(t.allWrites,o,e),u=n||Ee.EMPTY_NODE;return zl(a,u)}}}function fre(t,e,n){let r=Ee.EMPTY_NODE;const i=_u(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(it,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=mo(t.visibleWrites,e);return n.forEachChild(it,(o,a)=>{const u=zl(mo(s,new Ge(o)),a);r=r.updateImmediateChild(o,u)}),hk(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=mo(t.visibleWrites,e);return hk(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function pre(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=pt(e,n);if(gb(t.visibleWrites,s))return null;{const o=mo(t.visibleWrites,s);return yb(o)?i.getChild(n):zl(o,i.getChild(n))}}function mre(t,e,n,r){const i=pt(e,n),s=_u(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=mo(t.visibleWrites,i);return zl(o,r.getNode().getImmediateChild(n))}else return null}function gre(t,e){return _u(t.visibleWrites,e)}function yre(t,e,n,r,i,s,o){let a;const u=mo(t.visibleWrites,e),l=_u(u,qe());if(l!=null)a=l;else if(n!=null)a=zl(u,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=h.getNext();for(;m&&c.length<i;)d(m,r)!==0&&c.push(m),m=h.getNext();return c}else return[]}function vre(){return{visibleWrites:hi.empty(),allWrites:[],lastWriteId:-1}}function Cg(t,e,n,r){return GB(t.writeTree,t.treePath,e,n,r)}function v1(t,e){return fre(t.writeTree,t.treePath,e)}function fk(t,e,n,r){return pre(t.writeTree,t.treePath,e,n,r)}function Rg(t,e){return gre(t.writeTree,pt(t.treePath,e))}function _re(t,e,n,r,i,s){return yre(t.writeTree,t.treePath,e,n,r,i,s)}function _1(t,e,n){return mre(t.writeTree,t.treePath,e,n)}function KB(t,e){return QB(pt(t.treePath,e),t.writeTree)}function QB(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,jh(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Bh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Vl(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,jh(r,e.snapshotNode,i.oldSnap));else throw Zl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const YB=new Ere;class w1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new No(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Za(this.viewCache_),s=_re(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bre(t){return{filter:t}}function Sre(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ire(t,e,n,r,i){const s=new wre;let o,a;if(n.type===ui.OVERWRITE){const l=n;l.source.fromUser?o=vb(t,e,l.path,l.snap,r,i,s):(ne(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!xe(l.path),o=Pg(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===ui.MERGE){const l=n;l.source.fromUser?o=Are(t,e,l.path,l.children,r,i,s):(ne(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=_b(t,e,l.path,l.children,r,i,a,s))}else if(n.type===ui.ACK_USER_WRITE){const l=n;l.revert?o=Pre(t,e,l.path,r,i,s):o=Cre(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===ui.LISTEN_COMPLETE)o=Rre(t,e,n.path,r,s);else throw Zl("Unknown operation type: "+n.type);const u=s.getChanges();return Tre(e,o,u),{viewCache:o,changes:u}}function Tre(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ag(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(WB(Ag(e)))}}function XB(t,e,n,r,i,s){const o=e.eventCache;if(Rg(r,n)!=null)return e;{let a,u;if(xe(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Za(e),c=l instanceof Ee?l:Ee.EMPTY_NODE,d=v1(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const l=Cg(r,Za(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=ke(n);if(l===".priority"){ne(Do(n)===1,"Can't have a priority with additional path components");const c=o.getNode();u=e.serverCache.getNode();const d=fk(r,n,c,u);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=Ze(n);let d;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();const h=fk(r,n,o.getNode(),u);h!=null?d=o.getNode().getImmediateChild(l).updateChild(c,h):d=o.getNode().getImmediateChild(l)}else d=_1(r,l,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),l,d,c,i,s):a=o.getNode()}}return Gd(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function Pg(t,e,n,r,i,s,o,a){const u=e.serverCache;let l;const c=o?t.filter:t.filter.getIndexedFilter();if(xe(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){const m=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),m,null)}else{const m=ke(n);if(!u.isCompleteForPath(n)&&Do(n)>1)return e;const g=Ze(n),S=u.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?l=c.updatePriority(u.getNode(),S):l=c.updateChild(u.getNode(),m,S,g,YB,null)}const d=zB(e,l,u.isFullyInitialized()||xe(n),c.filtersNodes()),h=new w1(i,d,s);return XB(t,d,n,i,h,a)}function vb(t,e,n,r,i,s,o){const a=e.eventCache;let u,l;const c=new w1(i,e,s);if(xe(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Gd(e,l,!0,t.filter.filtersNodes());else{const d=ke(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),u=Gd(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=Ze(n),m=a.getNode().getImmediateChild(d);let g;if(xe(h))g=r;else{const _=c.getCompleteChild(d);_!=null?u1(h)===".priority"&&_.getChild(NB(h)).isEmpty()?g=_:g=_.updateChild(h,r):g=Ee.EMPTY_NODE}if(m.equals(g))u=e;else{const _=t.filter.updateChild(a.getNode(),d,g,h,c,o);u=Gd(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function pk(t,e){return t.eventCache.isCompleteForChild(e)}function Are(t,e,n,r,i,s,o){let a=e;return r.foreach((u,l)=>{const c=pt(n,u);pk(e,ke(c))&&(a=vb(t,a,c,l,i,s,o))}),r.foreach((u,l)=>{const c=pt(n,u);pk(e,ke(c))||(a=vb(t,a,c,l,i,s,o))}),a}function mk(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _b(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,l;xe(n)?l=r:l=new tt(null).setTree(n,r);const c=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=mk(t,m,h);u=Pg(t,u,new Ge(d),g,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{const m=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),_=mk(t,g,h);u=Pg(t,u,new Ge(d),_,i,s,o,a)}}),u}function Cre(t,e,n,r,i,s,o){if(Rg(i,n)!=null)return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(xe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pg(t,e,n,u.getNode().getChild(n),i,s,a,o);if(xe(n)){let l=new tt(null);return u.getNode().forEachChild(Fi,(c,d)=>{l=l.set(new Ge(c),d)}),_b(t,e,n,l,i,s,a,o)}else return e}else{let l=new tt(null);return r.foreach((c,d)=>{const h=pt(n,c);u.isCompleteForPath(h)&&(l=l.set(c,u.getNode().getChild(h)))}),_b(t,e,n,l,i,s,a,o)}}function Rre(t,e,n,r,i){const s=e.serverCache,o=zB(e,s.getNode(),s.isFullyInitialized()||xe(n),s.isFiltered());return XB(t,o,n,r,YB,i)}function Pre(t,e,n,r,i,s){let o;if(Rg(r,n)!=null)return e;{const a=new w1(r,e,i),u=e.eventCache.getNode();let l;if(xe(n)||ke(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Cg(r,Za(e));else{const d=e.serverCache.getNode();ne(d instanceof Ee,"serverChildren would be complete if leaf node"),c=v1(r,d)}c=c,l=t.filter.updateFullNode(u,c,s)}else{const c=ke(n);let d=_1(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=u.getImmediateChild(c)),d!=null?l=t.filter.updateChild(u,c,d,Ze(n),a,s):e.eventCache.getNode().hasChild(c)?l=t.filter.updateChild(u,c,Ee.EMPTY_NODE,Ze(n),a,s):l=u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Cg(r,Za(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||Rg(r,qe())!=null,Gd(e,l,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new p1(r.getIndex()),s=zne(r);this.processor_=bre(s);const o=n.serverCache,a=n.eventCache,u=i.updateFullNode(Ee.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(Ee.EMPTY_NODE,a.getNode(),null),c=new No(u,o.isFullyInitialized(),i.filtersNodes()),d=new No(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=lv(d,c),this.eventGenerator_=new tre(this.query_)}get query(){return this.query_}}function kre(t){return t.viewCache_.serverCache.getNode()}function xre(t){return Ag(t.viewCache_)}function Dre(t,e){const n=Za(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(ke(e)).isEmpty())?n.getChild(e):null}function gk(t){return t.eventRegistrations_.length===0}function Nre(t,e){t.eventRegistrations_.push(e)}function yk(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function vk(t,e,n,r){e.type===ui.MERGE&&e.source.queryId!==null&&(ne(Za(t.viewCache_),"We should always have a full cache before handling merges"),ne(Ag(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Ire(t.processor_,i,e,n,r);return Sre(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,JB(t,s.changes,s.viewCache.eventCache.getNode(),null)}function $re(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(it,(s,o)=>{r.push(Vl(s,o))}),n.isFullyInitialized()&&r.push(WB(n.getNode())),JB(t,r,n.getNode(),e)}function JB(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return nre(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og;class ZB{constructor(){this.views=new Map}}function Lre(t){ne(!Og,"__referenceConstructor has already been defined"),Og=t}function Mre(){return ne(Og,"Reference.ts has not been loaded"),Og}function Fre(t){return t.views.size===0}function E1(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),vk(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(vk(o,e,n,r));return s}}function ej(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Cg(n,i?r:null),u=!1;a?u=!0:r instanceof Ee?(a=v1(n,r),u=!1):(a=Ee.EMPTY_NODE,u=!1);const l=lv(new No(a,u,!1),new No(r,i,!1));return new Ore(e,l)}return o}function Ure(t,e,n,r,i,s){const o=ej(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Nre(o,n),$re(o,n)}function Bre(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=$o(t);if(i==="default")for(const[u,l]of t.views.entries())o=o.concat(yk(l,n,r)),gk(l)&&(t.views.delete(u),l.query._queryParams.loadsAllData()||s.push(l.query));else{const u=t.views.get(i);u&&(o=o.concat(yk(u,n,r)),gk(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return a&&!$o(t)&&s.push(new(Mre())(e._repo,e._path)),{removed:s,events:o}}function tj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function go(t,e){let n=null;for(const r of t.views.values())n=n||Dre(r,e);return n}function nj(t,e){if(e._queryParams.loadsAllData())return dv(t);{const r=e._queryIdentifier;return t.views.get(r)}}function rj(t,e){return nj(t,e)!=null}function $o(t){return dv(t)!=null}function dv(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kg;function jre(t){ne(!kg,"__referenceConstructor has already been defined"),kg=t}function Vre(){return ne(kg,"Reference.ts has not been loaded"),kg}let Wre=1;class _k{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=vre(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function b1(t,e,n,r,i){return ore(t.pendingWriteTree_,e,n,r,i),i?wc(t,new Ja(m1(),e,n)):[]}function zre(t,e,n,r){are(t.pendingWriteTree_,e,n,r);const i=tt.fromObject(n);return wc(t,new Wl(m1(),e,i))}function eo(t,e,n=!1){const r=ure(t.pendingWriteTree_,e);if(lre(t.pendingWriteTree_,e)){let s=new tt(null);return r.snap!=null?s=s.set(qe(),!0):dn(r.children,o=>{s=s.set(new Ge(o),!0)}),wc(t,new Tg(r.path,s,n))}else return[]}function jf(t,e,n){return wc(t,new Ja(g1(),e,n))}function qre(t,e,n){const r=tt.fromObject(n);return wc(t,new Wl(g1(),e,r))}function Hre(t,e){return wc(t,new Wh(g1(),e))}function Gre(t,e,n){const r=S1(t,n);if(r){const i=I1(r),s=i.path,o=i.queryId,a=Hn(s,e),u=new Wh(y1(o),a);return T1(t,s,u)}else return[]}function xg(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||rj(o,e))){const u=Bre(o,e,n,r);Fre(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const l=u.removed;if(a=u.events,!i){const c=l.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,m)=>$o(m));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const m=Yre(h);for(let g=0;g<m.length;++g){const _=m[g],S=_.query,v=aj(t,_);t.listenProvider_.startListening(Qd(S),zh(t,S),v.hashFn,v.onComplete)}}}!d&&l.length>0&&!r&&(c?t.listenProvider_.stopListening(Qd(e),null):l.forEach(h=>{const m=t.queryToTagMap.get(fv(h));t.listenProvider_.stopListening(Qd(h),m)}))}Xre(t,l)}return a}function ij(t,e,n,r){const i=S1(t,r);if(i!=null){const s=I1(i),o=s.path,a=s.queryId,u=Hn(o,e),l=new Ja(y1(a),u,n);return T1(t,o,l)}else return[]}function Kre(t,e,n,r){const i=S1(t,r);if(i){const s=I1(i),o=s.path,a=s.queryId,u=Hn(o,e),l=tt.fromObject(n),c=new Wl(y1(a),u,l);return T1(t,o,c)}else return[]}function wb(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,m)=>{const g=Hn(h,i);s=s||go(m,g),o=o||$o(m)});let a=t.syncPointTree_.get(i);a?(o=o||$o(a),s=s||go(a,qe())):(a=new ZB,t.syncPointTree_=t.syncPointTree_.set(i,a));let u;s!=null?u=!0:(u=!1,s=Ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,g)=>{const _=go(g,qe());_&&(s=s.updateImmediateChild(m,_))}));const l=rj(a,e);if(!l&&!e._queryParams.loadsAllData()){const h=fv(e);ne(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const m=Jre();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}const c=cv(t.pendingWriteTree_,i);let d=Ure(a,e,n,c,s,u);if(!l&&!o&&!r){const h=nj(a,e);d=d.concat(Zre(t,e,h))}return d}function hv(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=Hn(o,e),l=go(a,u);if(l)return l});return GB(i,e,s,n,!0)}function Qre(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,c)=>{const d=Hn(l,n);r=r||go(c,d)});let i=t.syncPointTree_.get(n);i?r=r||go(i,qe()):(i=new ZB,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new No(r,!0,!1):null,a=cv(t.pendingWriteTree_,e._path),u=ej(i,e,a,s?o.getNode():Ee.EMPTY_NODE,s);return xre(u)}function wc(t,e){return sj(e,t.syncPointTree_,null,cv(t.pendingWriteTree_,qe()))}function sj(t,e,n,r){if(xe(t.path))return oj(t,e,n,r);{const i=e.get(qe());n==null&&i!=null&&(n=go(i,qe()));let s=[];const o=ke(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const l=n?n.getImmediateChild(o):null,c=KB(r,o);s=s.concat(sj(a,u,l,c))}return i&&(s=s.concat(E1(i,t,r,n))),s}}function oj(t,e,n,r){const i=e.get(qe());n==null&&i!=null&&(n=go(i,qe()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,l=KB(r,o),c=t.operationForChild(o);c&&(s=s.concat(oj(c,a,u,l)))}),i&&(s=s.concat(E1(i,t,r,n))),s}function aj(t,e){const n=e.query,r=zh(t,n);return{hashFn:()=>(kre(e)||Ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Gre(t,n._path,r):Hre(t,n._path);{const s=qte(i,n);return xg(t,n,null,s)}}}}function zh(t,e){const n=fv(e);return t.queryToTagMap.get(n)}function fv(t){return t._path.toString()+"$"+t._queryIdentifier}function S1(t,e){return t.tagToQueryMap.get(e)}function I1(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ge(t.substr(0,e))}}function T1(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=cv(t.pendingWriteTree_,e);return E1(r,n,i,null)}function Yre(t){return t.fold((e,n,r)=>{if(n&&$o(n))return[dv(n)];{let i=[];return n&&(i=tj(n)),dn(r,(s,o)=>{i=i.concat(o)}),i}})}function Qd(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Vre())(t._repo,t._path):t}function Xre(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=fv(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Jre(){return Wre++}function Zre(t,e,n){const r=e._path,i=zh(t,e),s=aj(t,n),o=t.listenProvider_.startListening(Qd(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)ne(!$o(a.value),"If we're adding a query, it shouldn't be shadowed");else{const u=a.fold((l,c,d)=>{if(!xe(l)&&c&&$o(c))return[dv(c).query];{let h=[];return c&&(h=h.concat(tj(c).map(m=>m.query))),dn(d,(m,g)=>{h=h.concat(g)}),h}});for(let l=0;l<u.length;++l){const c=u[l];t.listenProvider_.stopListening(Qd(c),zh(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new A1(n)}node(){return this.node_}}class C1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pt(this.path_,e);return new C1(this.syncTree_,n)}node(){return hv(this.syncTree_,this.path_)}}const eie=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},wk=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tie(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nie(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tie=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},nie=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},uj=function(t,e,n,r){return P1(e,new C1(n,t),r)},R1=function(t,e,n){return P1(t,new A1(e),n)};function P1(t,e,n){const r=t.getPriority().val(),i=wk(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=wk(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Yt(a,_t(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Yt(i))),o.forEachChild(it,(a,u)=>{const l=P1(u,e.getImmediateChild(a),n);l!==u&&(s=s.updateImmediateChild(a,l))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function pv(t,e){let n=e instanceof Ge?e:new Ge(e),r=t,i=ke(n);for(;i!==null;){const s=La(r.node.children,i)||{children:{},childCount:0};r=new O1(i,r,s),n=Ze(n),i=ke(n)}return r}function wu(t){return t.node.value}function k1(t,e){t.node.value=e,Eb(t)}function lj(t){return t.node.childCount>0}function rie(t){return wu(t)===void 0&&!lj(t)}function mv(t,e){dn(t.node.children,(n,r)=>{e(new O1(n,t,r))})}function cj(t,e,n,r){n&&!r&&e(t),mv(t,i=>{cj(i,e,!0,r)}),n&&r&&e(t)}function iie(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vf(t){return new Ge(t.parent===null?t.name:Vf(t.parent)+"/"+t.name)}function Eb(t){t.parent!==null&&sie(t.parent,t.name,t)}function sie(t,e,n){const r=rie(n),i=kr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Eb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Eb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie=/[\[\].#$\/\u0000-\u001F\u007F]/,aie=/[\[\].#$\u0000-\u001F\u007F]/,Kw=10*1024*1024,gv=function(t){return typeof t=="string"&&t.length!==0&&!oie.test(t)},dj=function(t){return typeof t=="string"&&t.length!==0&&!aie.test(t)},uie=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dj(t)},qh=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!sv(t)||t&&typeof t=="object"&&kr(t,".sv")},Gi=function(t,e,n,r){r&&e===void 0||Wf(pr(t,"value"),e,n)},Wf=function(t,e,n){const r=n instanceof Ge?new Sne(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ia(r));if(typeof e=="function")throw new Error(t+"contains a function "+ia(r)+" with contents = "+e.toString());if(sv(e))throw new Error(t+"contains "+e.toString()+" "+ia(r));if(typeof e=="string"&&e.length>Kw/3&&gy(e)>Kw)throw new Error(t+"contains a string greater than "+Kw+" utf8 bytes "+ia(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(dn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!gv(o)))throw new Error(t+" contains an invalid key ("+o+") "+ia(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ine(r,o),Wf(t,a,r),Tne(r)}),i&&s)throw new Error(t+' contains ".value" child '+ia(r)+" in addition to actual children.")}},lie=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Uh(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!gv(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(bne);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Hr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},hj=function(t,e,n,r){if(r&&e===void 0)return;const i=pr(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];dn(e,(o,a)=>{const u=new Ge(o);if(Wf(i,a,pt(n,u)),u1(u)===".priority"&&!qh(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),lie(i,s)},x1=function(t,e,n){if(!(n&&e===void 0)){if(sv(e))throw new Error(pr(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qh(e))throw new Error(pr(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zf=function(t,e,n,r){if(!(r&&n===void 0)&&!gv(n))throw new Error(pr(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Hh=function(t,e,n,r){if(!(r&&n===void 0)&&!dj(n))throw new Error(pr(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},cie=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Hh(t,e,n,r)},Gr=function(t,e){if(ke(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},fj=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uie(n))throw new Error(pr(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yv(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!l1(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function pj(t,e,n){yv(t,n),mj(t,r=>l1(r,e))}function Nr(t,e,n){yv(t,n),mj(t,r=>Hr(r,e)||Hr(e,r))}function mj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(hie(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function hie(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Pa&&nn("event: "+n.toString()),vc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="repo_interrupt",fie=25;class pie{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new die,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ig(),this.transactionQueueTree_=new O1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mie(t,e,n){if(t.stats_=o1(t.repoInfo_),t.forceRestClient_||Gte())t.server_=new Sg(t.repoInfo_,(r,i,s,o)=>{Ek(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>bk(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new hs(t.repoInfo_,e,(r,i,s,o)=>{Ek(t,r,i,s,o)},r=>{bk(t,r)},r=>{gie(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Jte(t.repoInfo_,()=>new ere(t.stats_,t.server_)),t.infoData_=new Qne,t.infoSyncTree_=new _k({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=jf(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),D1(t,"connected",!1),t.serverSyncTree_=new _k({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const l=o(a,u);Nr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function yj(t){const n=t.infoData_.getNode(new Ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qf(t){return eie({timestamp:yj(t)})}function Ek(t,e,n,r,i){t.dataUpdateCount++;const s=new Ge(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Hm(n,l=>_t(l));o=Kre(t.serverSyncTree_,s,u,i)}else{const u=_t(n);o=ij(t.serverSyncTree_,s,u,i)}else if(r){const u=Hm(n,l=>_t(l));o=qre(t.serverSyncTree_,s,u)}else{const u=_t(n);o=jf(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=ql(t,s)),Nr(t.eventQueue_,a,o)}function bk(t,e){D1(t,"connected",e),e===!1&&_ie(t)}function gie(t,e){dn(e,(n,r)=>{D1(t,n,r)})}function D1(t,e,n){const r=new Ge("/.info/"+e),i=_t(n);t.infoData_.updateSnapshot(r,i);const s=jf(t.infoSyncTree_,r,i);Nr(t.eventQueue_,r,s)}function vv(t){return t.nextWriteId_++}function yie(t,e,n){const r=Qre(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=_t(i).withIndex(e._queryParams.getIndex());wb(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=jf(t.serverSyncTree_,e._path,s);else{const a=zh(t.serverSyncTree_,e);o=ij(t.serverSyncTree_,e._path,s,a)}return Nr(t.eventQueue_,e._path,o),xg(t.serverSyncTree_,e,n,null,!0),s},i=>(Ec(t,"get for query "+zt(e)+" failed: "+i),Promise.reject(new Error(i))))}function N1(t,e,n,r,i){Ec(t,"set",{path:e.toString(),value:n,priority:r});const s=qf(t),o=_t(n,r),a=hv(t.serverSyncTree_,e),u=R1(o,a,s),l=vv(t),c=b1(t.serverSyncTree_,e,u,l,!0);yv(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,m)=>{const g=h==="ok";g||$n("set at "+e+" failed: "+h);const _=eo(t.serverSyncTree_,l,!g);Nr(t.eventQueue_,e,_),Lo(t,i,h,m)});const d=L1(t,e);ql(t,d),Nr(t.eventQueue_,d,[])}function vie(t,e,n,r){Ec(t,"update",{path:e.toString(),value:n});let i=!0;const s=qf(t),o={};if(dn(n,(a,u)=>{i=!1,o[a]=uj(pt(e,a),_t(u),t.serverSyncTree_,s)}),i)nn("update() called with empty data.  Don't do anything."),Lo(t,r,"ok",void 0);else{const a=vv(t),u=zre(t.serverSyncTree_,e,o,a);yv(t.eventQueue_,u),t.server_.merge(e.toString(),n,(l,c)=>{const d=l==="ok";d||$n("update at "+e+" failed: "+l);const h=eo(t.serverSyncTree_,a,!d),m=h.length>0?ql(t,e):e;Nr(t.eventQueue_,m,h),Lo(t,r,l,c)}),dn(n,l=>{const c=L1(t,pt(e,l));ql(t,c)}),Nr(t.eventQueue_,e,[])}}function _ie(t){Ec(t,"onDisconnectEvents");const e=qf(t),n=Ig();pb(t.onDisconnect_,qe(),(i,s)=>{const o=uj(i,s,t.serverSyncTree_,e);_c(n,i,o)});let r=[];pb(n,qe(),(i,s)=>{r=r.concat(jf(t.serverSyncTree_,i,s));const o=L1(t,i);ql(t,o)}),t.onDisconnect_=Ig(),Nr(t.eventQueue_,qe(),r)}function wie(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&fb(t.onDisconnect_,e),Lo(t,n,r,i)})}function Sk(t,e,n,r){const i=_t(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&_c(t.onDisconnect_,e,i),Lo(t,r,s,o)})}function Eie(t,e,n,r,i){const s=_t(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&_c(t.onDisconnect_,e,s),Lo(t,i,o,a)})}function bie(t,e,n,r){if(qm(n)){nn("onDisconnect().update() called with empty data.  Don't do anything."),Lo(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&dn(n,(o,a)=>{const u=_t(a);_c(t.onDisconnect_,pt(e,o),u)}),Lo(t,r,i,s)})}function Sie(t,e,n){let r;ke(e._path)===".info"?r=wb(t.infoSyncTree_,e,n):r=wb(t.serverSyncTree_,e,n),pj(t.eventQueue_,e._path,r)}function bb(t,e,n){let r;ke(e._path)===".info"?r=xg(t.infoSyncTree_,e,n):r=xg(t.serverSyncTree_,e,n),pj(t.eventQueue_,e._path,r)}function vj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(gj)}function Iie(t){t.persistentConnection_&&t.persistentConnection_.resume(gj)}function Ec(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nn(n,...e)}function Lo(t,e,n,r){e&&vc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function Tie(t,e,n,r,i,s){Ec(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:cB(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=$1(t,e,void 0);o.currentInputSnapshot=a;const u=o.update(a.val());if(u===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Wf("transaction failed: Data returned ",u,o.path),o.status=0;const l=pv(t.transactionQueueTree_,e),c=wu(l)||[];c.push(o),k1(l,c);let d;typeof u=="object"&&u!==null&&kr(u,".priority")?(d=La(u,".priority"),ne(qh(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(hv(t.serverSyncTree_,e)||Ee.EMPTY_NODE).getPriority().val();const h=qf(t),m=_t(u,d),g=R1(m,a,h);o.currentOutputSnapshotRaw=m,o.currentOutputSnapshotResolved=g,o.currentWriteId=vv(t);const _=b1(t.serverSyncTree_,e,g,o.currentWriteId,o.applyLocally);Nr(t.eventQueue_,e,_),_v(t,t.transactionQueueTree_)}}function $1(t,e,n){return hv(t.serverSyncTree_,e,n)||Ee.EMPTY_NODE}function _v(t,e=t.transactionQueueTree_){if(e||wv(t,e),wu(e)){const n=wj(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Aie(t,Vf(e),n)}else lj(e)&&mv(e,n=>{_v(t,n)})}function Aie(t,e,n){const r=n.map(l=>l.currentWriteId),i=$1(t,e,r);let s=i;const o=i.hash();for(let l=0;l<n.length;l++){const c=n[l];ne(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Hn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,l=>{Ec(t,"transaction put response",{path:u.toString(),status:l});let c=[];if(l==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(eo(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();wv(t,pv(t.transactionQueueTree_,e)),_v(t,t.transactionQueueTree_),Nr(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)vc(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{$n("transaction at "+u.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}ql(t,e)}},o)}function ql(t,e){const n=_j(t,e),r=Vf(n),i=wj(t,n);return Cie(t,i,r),r}function Cie(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],l=Hn(n,u.path);let c=!1,d;if(ne(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)c=!0,d=u.abortReason,i=i.concat(eo(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=fie)c=!0,d="maxretry",i=i.concat(eo(t.serverSyncTree_,u.currentWriteId,!0));else{const h=$1(t,u.path,o);u.currentInputSnapshot=h;const m=e[a].update(h.val());if(m!==void 0){Wf("transaction failed: Data returned ",m,u.path);let g=_t(m);typeof m=="object"&&m!=null&&kr(m,".priority")||(g=g.updatePriority(h.getPriority()));const S=u.currentWriteId,v=qf(t),y=R1(g,h,v);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=y,u.currentWriteId=vv(t),o.splice(o.indexOf(S),1),i=i.concat(b1(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(eo(t.serverSyncTree_,S,!0))}else c=!0,d="nodata",i=i.concat(eo(t.serverSyncTree_,u.currentWriteId,!0))}Nr(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}wv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vc(r[a]);_v(t,t.transactionQueueTree_)}function _j(t,e){let n,r=t.transactionQueueTree_;for(n=ke(e);n!==null&&wu(r)===void 0;)r=pv(r,n),e=Ze(e),n=ke(e);return r}function wj(t,e){const n=[];return Ej(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Ej(t,e,n){const r=wu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);mv(e,i=>{Ej(t,i,n)})}function wv(t,e){const n=wu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,k1(e,n.length>0?n:void 0)}mv(e,r=>{wv(t,r)})}function L1(t,e){const n=Vf(_j(t,e)),r=pv(t.transactionQueueTree_,e);return iie(r,i=>{Qw(t,i)}),Qw(t,r),cj(r,i=>{Qw(t,i)}),n}function Qw(t,e){const n=wu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(eo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?k1(e,void 0):n.length=s+1,Nr(t.eventQueue_,Vf(e),i);for(let o=0;o<r.length;o++)vc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Pie(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$n(`Invalid query segment '${n}' in query '${t}'`)}return e}const Sb=function(t,e){const n=Oie(t),r=n.namespace;n.domain==="firebase.com"&&qi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Bte();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new TB(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ge(n.pathString)}},Oie=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=Rie(t.substring(c,d)));const h=Pie(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",u=parseInt(e.substring(l+1),10)):l=e.length;const m=e.slice(0,l);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+zt(this.snapshot.exportVal())}}class Sj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new sr;return wie(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Gr("OnDisconnect.remove",this._path);const e=new sr;return Sk(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Gr("OnDisconnect.set",this._path),Gi("OnDisconnect.set",e,this._path,!1);const n=new sr;return Sk(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Gr("OnDisconnect.setWithPriority",this._path),Gi("OnDisconnect.setWithPriority",e,this._path,!1),x1("OnDisconnect.setWithPriority",n,!1);const r=new sr;return Eie(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Gr("OnDisconnect.update",this._path),hj("OnDisconnect.update",e,this._path,!1);const n=new sr;return bie(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return xe(this._path)?null:u1(this._path)}get ref(){return new Zr(this._repo,this._path)}get _queryIdentifier(){const e=lk(this._queryParams),n=r1(e);return n==="{}"?"default":n}get _queryObject(){return lk(this._queryParams)}isEqual(e){if(e=ue(e),!(e instanceof yr))return!1;const n=this._repo===e._repo,r=l1(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ene(this._path)}}function Ev(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Go(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Fi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==bs)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Hi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===it){if(e!=null&&!qh(e)||n!=null&&!qh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ne(t.getIndex()instanceof h1||t.getIndex()===f1,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bv(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zr extends yr{constructor(e,n){super(e,n,new av,!1)}get parent(){const e=NB(this._path);return e===null?null:new Zr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class eu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ge(e),r=tu(this.ref,e);return new eu(this._node.getChild(n),r,it)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new eu(i,tu(this.ref,r),it)))}hasChild(e){const n=new Ge(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ij(t,e){return t=ue(t),t._checkNotDeleted("ref"),e!==void 0?tu(t._root,e):t._root}function Ik(t,e){t=ue(t),t._checkNotDeleted("refFromURL");const n=Sb(e,t._repo.repoInfo_.nodeAdmin);fj("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&qi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ij(t,n.path.toString())}function tu(t,e){return t=ue(t),ke(t._path)===null?cie("child","path",e,!1):Hh("child","path",e,!1),new Zr(t._repo,pt(t._path,e))}function xie(t,e){t=ue(t),Gr("push",t._path),Gi("push",e,t._path,!0);const n=yj(t._repo),r=jne(n),i=tu(t,r),s=tu(t,r);let o;return e!=null?o=F1(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Die(t){return Gr("remove",t._path),F1(t,null)}function F1(t,e){t=ue(t),Gr("set",t._path),Gi("set",e,t._path,!1);const n=new sr;return N1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Nie(t,e){t=ue(t),Gr("setPriority",t._path),x1("setPriority",e,!1);const n=new sr;return N1(t._repo,pt(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function $ie(t,e,n){if(Gr("setWithPriority",t._path),Gi("setWithPriority",e,t._path,!1),x1("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new sr;return N1(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function Lie(t,e){hj("update",e,t._path,!1);const n=new sr;return vie(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Mie(t){t=ue(t);const e=new M1(()=>{}),n=new Hf(e);return yie(t._repo,t,n).then(r=>new eu(r,new Zr(t._repo,t._path),t._queryParams.getIndex()))}class Hf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new bj("value",this,new eu(e.snapshotNode,new Zr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Sj(this,e,n):null}matches(e){return e instanceof Hf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Sv{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Sj(this,e,n):null}createEvent(e,n){ne(e.childName!=null,"Child events should have a childName.");const r=tu(new Zr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new bj(e.type,this,new eu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Sv?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Gf(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,l=(c,d)=>{bb(t._repo,t,a),u(c,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}const o=new M1(n,s||void 0),a=e==="value"?new Hf(o):new Sv(e,o);return Sie(t._repo,t,a),()=>bb(t._repo,t,a)}function Ib(t,e,n,r){return Gf(t,"value",e,n,r)}function Tk(t,e,n,r){return Gf(t,"child_added",e,n,r)}function Ak(t,e,n,r){return Gf(t,"child_changed",e,n,r)}function Ck(t,e,n,r){return Gf(t,"child_moved",e,n,r)}function Rk(t,e,n,r){return Gf(t,"child_removed",e,n,r)}function Pk(t,e,n){let r=null;const i=n?new M1(n):null;e==="value"?r=new Hf(i):e&&(r=new Sv(e,i)),bb(t._repo,t,r)}class yi{}class Tj extends yi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Gi("endAt",this._value,e._path,!0);const n=hb(e._queryParams,this._value,this._key);if(bv(n),Go(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yr(e._repo,e._path,n,e._orderByCalled)}}function Fie(t,e){return zf("endAt","key",e,!0),new Tj(t,e)}class Uie extends yi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Gi("endBefore",this._value,e._path,!1);const n=Kne(e._queryParams,this._value,this._key);if(bv(n),Go(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yr(e._repo,e._path,n,e._orderByCalled)}}function Bie(t,e){return zf("endBefore","key",e,!0),new Uie(t,e)}class Aj extends yi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Gi("startAt",this._value,e._path,!0);const n=db(e._queryParams,this._value,this._key);if(bv(n),Go(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yr(e._repo,e._path,n,e._orderByCalled)}}function jie(t=null,e){return zf("startAt","key",e,!0),new Aj(t,e)}class Vie extends yi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Gi("startAfter",this._value,e._path,!1);const n=Gne(e._queryParams,this._value,this._key);if(bv(n),Go(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yr(e._repo,e._path,n,e._orderByCalled)}}function Wie(t,e){return zf("startAfter","key",e,!0),new Vie(t,e)}class zie extends yi{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yr(e._repo,e._path,qne(e._queryParams,this._limit),e._orderByCalled)}}function qie(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zie(t)}class Hie extends yi{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yr(e._repo,e._path,Hne(e._queryParams,this._limit),e._orderByCalled)}}function Gie(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hie(t)}class Kie extends yi{constructor(e){super(),this._path=e}_apply(e){Ev(e,"orderByChild");const n=new Ge(this._path);if(xe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new h1(n),i=uv(e._queryParams,r);return Go(i),new yr(e._repo,e._path,i,!0)}}function Qie(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Hh("orderByChild","path",t,!1),new Kie(t)}class Yie extends yi{_apply(e){Ev(e,"orderByKey");const n=uv(e._queryParams,Fi);return Go(n),new yr(e._repo,e._path,n,!0)}}function Xie(){return new Yie}class Jie extends yi{_apply(e){Ev(e,"orderByPriority");const n=uv(e._queryParams,it);return Go(n),new yr(e._repo,e._path,n,!0)}}function Zie(){return new Jie}class ese extends yi{_apply(e){Ev(e,"orderByValue");const n=uv(e._queryParams,f1);return Go(n),new yr(e._repo,e._path,n,!0)}}function tse(){return new ese}class nse extends yi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Gi("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Tj(this._value,this._key)._apply(new Aj(this._value,this._key)._apply(e))}}function rse(t,e){return zf("equalTo","key",e,!0),new nse(t,e)}function ni(t,...e){let n=ue(t);for(const r of e)n=r._apply(n);return n}Lre(Zr);jre(Zr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ise="FIREBASE_DATABASE_EMULATOR_HOST",Tb={};let sse=!1;function ose(t,e,n,r){t.repoInfo_=new TB(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function Cj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Sb(s,i),a=o.repoInfo,u,l;typeof process<"u"&&process.env&&(l=process.env[ise]),l?(u=!0,s=`http://${l}?ns=${a.namespace}`,o=Sb(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const c=i&&u?new gl(gl.OWNER):new Qte(t.name,t.options,e);fj("Invalid Firebase Database URL",o),xe(o.path)||qi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=use(a,t,c,new Kte(t.name,n));return new lse(d,t)}function ase(t,e){const n=Tb[e];(!n||n[t.key]!==t)&&qi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vj(t),delete n[t.key]}function use(t,e,n,r){let i=Tb[e.name];i||(i={},Tb[e.name]=i);let s=i[t.toURLString()];return s&&qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new pie(t,sse,n,r),i[t.toURLString()]=s,s}class lse{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mie(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zr(this._repo,qe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ase(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qi("Cannot call "+e+" on a deleted database.")}}function Rj(){Bl.IS_TRANSPORT_INITIALIZED&&$n("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function cse(){Rj(),Zs.forceDisallow()}function dse(){Rj(),zr.forceDisallow(),Zs.forceAllow()}function hse(t,e,n,r={}){t=ue(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&qi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new gl(gl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:m2(r.mockUserToken,t.app.options.projectId);s=new gl(o)}ose(i,e,n,s)}function fse(t){t=ue(t),t._checkNotDeleted("goOffline"),vj(t._repo)}function pse(t){t=ue(t),t._checkNotDeleted("goOnline"),Iie(t._repo)}function mse(t,e){hB(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gse(t){uB(As),ji(new mr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Cj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Kn(qO,HO,t),Kn(qO,HO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse={".sv":"timestamp"};function vse(){return yse}function _se(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Ese(t,e,n){var r;if(t=ue(t),Gr("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new sr,o=(u,l,c)=>{let d=null;u?s.reject(u):(d=new eu(c,new Zr(t._repo,t._path),it),s.resolve(new wse(l,d)))},a=Ib(t,()=>{});return Tie(t._repo,t._path,e,o,a,i),s.promise}hs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};hs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gse();const bse="@firebase/database-compat",Sse="0.2.5";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=new ec("@firebase/database-compat"),Pj=function(t){const e="FIREBASE WARNING: "+t;Ise.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tse=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(pr(t,e)+"must be a boolean.")},Ase=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(pr(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e){this._delegate=e}cancel(e){be("OnDisconnect.cancel",0,1,arguments.length),Zt("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){be("OnDisconnect.remove",0,1,arguments.length),Zt("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){be("OnDisconnect.set",1,2,arguments.length),Zt("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){be("OnDisconnect.setWithPriority",2,3,arguments.length),Zt("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(be("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Pj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zt("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return be("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this._database=e,this._delegate=n}val(){return be("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return be("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return be("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return be("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return be("DataSnapshot.child",0,1,arguments.length),e=String(e),Hh("DataSnapshot.child","path",e,!1),new yo(this._database,this._delegate.child(e))}hasChild(e){return be("DataSnapshot.hasChild",1,1,arguments.length),Hh("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return be("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return be("DataSnapshot.forEach",1,1,arguments.length),Zt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new yo(this._database,n)))}hasChildren(){return be("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return be("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return be("DataSnapshot.ref",0,0,arguments.length),new Ir(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gn{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;be("Query.on",2,4,arguments.length),Zt("Query.on","callback",n,!1);const o=gn.getCancelAndContextArgs_("Query.on",r,i),a=(l,c)=>{n.call(o.context,new yo(this.database,l),c)};a.userCallback=n,a.context=o.context;const u=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return Ib(this._delegate,a,u),n;case"child_added":return Tk(this._delegate,a,u),n;case"child_removed":return Rk(this._delegate,a,u),n;case"child_changed":return Ak(this._delegate,a,u),n;case"child_moved":return Ck(this._delegate,a,u),n;default:throw new Error(pr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(be("Query.off",0,3,arguments.length),Ase("Query.off",e,!0),Zt("Query.off","callback",n,!0),GR("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,Pk(this._delegate,e,i)}else Pk(this._delegate,e)}get(){return Mie(this._delegate).then(e=>new yo(this.database,e))}once(e,n,r,i){be("Query.once",1,4,arguments.length),Zt("Query.once","callback",n,!0);const s=gn.getCancelAndContextArgs_("Query.once",r,i),o=new sr,a=(l,c)=>{const d=new yo(this.database,l);n&&n.call(s.context,d,c),o.resolve(d)};a.userCallback=n,a.context=s.context;const u=l=>{s.cancel&&s.cancel.call(s.context,l),o.reject(l)};switch(e){case"value":Ib(this._delegate,a,u,{onlyOnce:!0});break;case"child_added":Tk(this._delegate,a,u,{onlyOnce:!0});break;case"child_removed":Rk(this._delegate,a,u,{onlyOnce:!0});break;case"child_changed":Ak(this._delegate,a,u,{onlyOnce:!0});break;case"child_moved":Ck(this._delegate,a,u,{onlyOnce:!0});break;default:throw new Error(pr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return be("Query.limitToFirst",1,1,arguments.length),new gn(this.database,ni(this._delegate,qie(e)))}limitToLast(e){return be("Query.limitToLast",1,1,arguments.length),new gn(this.database,ni(this._delegate,Gie(e)))}orderByChild(e){return be("Query.orderByChild",1,1,arguments.length),new gn(this.database,ni(this._delegate,Qie(e)))}orderByKey(){return be("Query.orderByKey",0,0,arguments.length),new gn(this.database,ni(this._delegate,Xie()))}orderByPriority(){return be("Query.orderByPriority",0,0,arguments.length),new gn(this.database,ni(this._delegate,Zie()))}orderByValue(){return be("Query.orderByValue",0,0,arguments.length),new gn(this.database,ni(this._delegate,tse()))}startAt(e=null,n){return be("Query.startAt",0,2,arguments.length),new gn(this.database,ni(this._delegate,jie(e,n)))}startAfter(e=null,n){return be("Query.startAfter",0,2,arguments.length),new gn(this.database,ni(this._delegate,Wie(e,n)))}endAt(e=null,n){return be("Query.endAt",0,2,arguments.length),new gn(this.database,ni(this._delegate,Fie(e,n)))}endBefore(e=null,n){return be("Query.endBefore",0,2,arguments.length),new gn(this.database,ni(this._delegate,Bie(e,n)))}equalTo(e,n){return be("Query.equalTo",1,2,arguments.length),new gn(this.database,ni(this._delegate,rse(e,n)))}toString(){return be("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return be("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(be("Query.isEqual",1,1,arguments.length),!(e instanceof gn)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Zt(e,"cancel",i.cancel,!0),i.context=r,GR(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(pr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Ir(this.database,new Zr(this._delegate._repo,this._delegate._path))}}class Ir extends gn{constructor(e,n){super(e,new yr(n._repo,n._path,new av,!1)),this.database=e,this._delegate=n}getKey(){return be("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return be("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new Ir(this.database,tu(this._delegate,e))}getParent(){be("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ir(this.database,e):null}getRoot(){return be("Reference.root",0,0,arguments.length),new Ir(this.database,this._delegate.root)}set(e,n){be("Reference.set",1,2,arguments.length),Zt("Reference.set","onComplete",n,!0);const r=F1(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(be("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Pj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gr("Reference.update",this._delegate._path),Zt("Reference.update","onComplete",n,!0);const r=Lie(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){be("Reference.setWithPriority",2,3,arguments.length),Zt("Reference.setWithPriority","onComplete",r,!0);const i=$ie(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){be("Reference.remove",0,1,arguments.length),Zt("Reference.remove","onComplete",e,!0);const n=Die(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){be("Reference.transaction",1,3,arguments.length),Zt("Reference.transaction","transactionUpdate",e,!1),Zt("Reference.transaction","onComplete",n,!0),Tse("Reference.transaction","applyLocally",r,!0);const i=Ese(this._delegate,e,{applyLocally:r}).then(s=>new Rse(s.committed,new yo(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){be("Reference.setPriority",1,2,arguments.length),Zt("Reference.setPriority","onComplete",n,!0);const r=Nie(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){be("Reference.push",0,2,arguments.length),Zt("Reference.push","onComplete",n,!0);const r=xie(this._delegate,e),i=r.then(o=>new Ir(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new Ir(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Gr("Reference.onDisconnect",this._delegate._path),new Cse(new kie(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:cse,forceLongPolling:dse}}useEmulator(e,n,r={}){hse(this._delegate,e,n,r)}ref(e){if(be("database.ref",0,1,arguments.length),e instanceof Ir){const n=Ik(this._delegate,e.toString());return new Ir(this,n)}else{const n=Ij(this._delegate,e);return new Ir(this,n)}}refFromURL(e){be("database.refFromURL",1,1,arguments.length);const r=Ik(this._delegate,e);return new Ir(this,r)}goOffline(){return be("database.goOffline",0,0,arguments.length),fse(this._delegate)}goOnline(){return be("database.goOnline",0,0,arguments.length),pse(this._delegate)}}Gh.ServerValue={TIMESTAMP:vse(),increment:t=>_se(t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pse({app:t,url:e,version:n,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){uB(n);const o=new _2("auth-internal",new w2("database-standalone"));return o.setComponent(new mr("auth-internal",()=>r,"PRIVATE")),{instance:new Gh(Cj(t,o,void 0,e,s),t),namespace:i}}var Ose=Object.freeze({__proto__:null,initStandalone:Pse});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kse=Gh.ServerValue;function xse(t){t.INTERNAL.registerComponent(new mr("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Gh(i,r)},"PUBLIC").setServiceProps({Reference:Ir,Query:gn,Database:Gh,DataSnapshot:yo,enableLogging:mse,INTERNAL:Ose,ServerValue:kse}).setMultipleInstances(!0)),t.registerVersion(bse,Sse)}xse(Es);const Dse="@firebase/firestore-compat",Nse="0.1.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Y("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){if(typeof Uint8Array>"u")throw new Y("unimplemented","Uint8Arrays are not available in this environment.")}function kk(){if(!J8())throw new Y("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Kh{constructor(e){this._delegate=e}static fromBase64String(e){return kk(),new Kh(Wi.fromBase64String(e))}static fromUint8Array(e){return Ok(),new Kh(Wi.fromUint8Array(e))}toBase64(){return kk(),this._delegate.toBase64()}toUint8Array(){return Ok(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){return $se(t,["next","error","complete"])}function $se(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{enableIndexedDbPersistence(e,n){return zY(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return qY(e._delegate)}clearIndexedDbPersistence(e){return HY(e._delegate)}}class Oj{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof vs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Cl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){FY(this._delegate,e,n,r)}enableNetwork(){return KY(this._delegate)}disableNetwork(){return QY(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,cF("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return GY(this._delegate)}onSnapshotsInSync(e){return A9(this._delegate,e)}get app(){if(!this._appCompat)throw new Y("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hl(this,ST(this._delegate,e))}catch(n){throw Vn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Kr(this,Po(this._delegate,e))}catch(n){throw Vn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jn(this,UY(this._delegate,e))}catch(n){throw Vn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return R9(this._delegate,n=>e(new kj(this,n)))}batch(){return Gt(this._delegate),new xj(new kF(this._delegate,e=>fc(this._delegate,e)))}loadBundle(e){return YY(this._delegate,e)}namedQuery(e){return XY(this._delegate,e).then(n=>n?new jn(this,n):null)}}class Iv extends PT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kh(new Wi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Kr.forKey(n,this.firestore,null)}}function Mse(t){L8(t)}class kj{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Iv(e)}get(e){const n=Ea(e);return this._delegate.get(n).then(r=>new Qh(this._firestore,new _s(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ea(e);return r?(U1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ea(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ea(e);return this._delegate.delete(n),this}}class xj{constructor(e){this._delegate=e}set(e,n,r){const i=Ea(e);return r?(U1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ea(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ea(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class nu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new jd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Yh(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=nu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new nu(e,new Iv(e),n),i.set(n,s)),s}}nu.INSTANCES=new WeakMap;class Kr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Iv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Y("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Kr(n,new lt(n._delegate,r,new ie(e)))}static forKey(e,n,r){return new Kr(n,new lt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Hl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hl(this.firestore,ST(this._delegate,e))}catch(n){throw Vn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ue(e),e instanceof lt?hF(this._delegate,e):!1}set(e,n){n=U1("DocumentReference.set",n);try{return n?vO(this._delegate,e,n):vO(this._delegate,e)}catch(r){throw Vn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?_O(this._delegate,e):_O(this._delegate,e,n,...r)}catch(i){throw Vn(i,"updateDoc()","DocumentReference.update()")}}delete(){return xF(this._delegate)}onSnapshot(...e){const n=Dj(e),r=Nj(e,i=>new Qh(this.firestore,new _s(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return OT(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=w9(this._delegate):(e==null?void 0:e.source)==="server"?n=E9(this._delegate):n=_9(this._delegate),n.then(r=>new Qh(this.firestore,new _s(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Kr(this.firestore,e?this._delegate.withConverter(nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Vn(t,e,n){return t.message=t.message.replace(e,n),t}function Dj(t){for(const e of t)if(typeof e=="object"&&!Ab(e))return e;return{}}function Nj(t,e){var n,r;let i;return Ab(t[0])?i=t[0]:Ab(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Qh{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Kr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return IF(this._delegate,e._delegate)}}class Yh extends Qh{data(e){const n=this._delegate.data(e);return M8(n!==void 0),n}}class jn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Iv(e)}where(e,n,r){try{return new jn(this.firestore,Us(this._delegate,u9(e,n,r)))}catch(i){throw Vn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new jn(this.firestore,Us(this._delegate,c9(e,n)))}catch(r){throw Vn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jn(this.firestore,Us(this._delegate,d9(e)))}catch(n){throw Vn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new jn(this.firestore,Us(this._delegate,h9(e)))}catch(n){throw Vn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new jn(this.firestore,Us(this._delegate,f9(...e)))}catch(n){throw Vn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jn(this.firestore,Us(this._delegate,p9(...e)))}catch(n){throw Vn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jn(this.firestore,Us(this._delegate,m9(...e)))}catch(n){throw Vn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jn(this.firestore,Us(this._delegate,g9(...e)))}catch(n){throw Vn(n,"endAt()","Query.endAt()")}}isEqual(e){return fF(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=S9(this._delegate):(e==null?void 0:e.source)==="server"?n=I9(this._delegate):n=b9(this._delegate),n.then(r=>new Cb(this.firestore,new ko(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Dj(e),r=Nj(e,i=>new Cb(this.firestore,new ko(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return OT(this._delegate,n,r)}withConverter(e){return new jn(this.firestore,e?this._delegate.withConverter(nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Fse{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Yh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Cb{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new jn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Yh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Fse(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Yh(this._firestore,r))})}isEqual(e){return IF(this._delegate,e._delegate)}}class Hl extends jn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Kr(this.firestore,e):null}doc(e){try{return e===void 0?new Kr(this.firestore,Po(this._delegate)):new Kr(this.firestore,Po(this._delegate,e))}catch(n){throw Vn(n,"doc()","CollectionReference.doc()")}}add(e){return T9(this._delegate,e).then(n=>new Kr(this.firestore,n))}isEqual(e){return hF(this._delegate,e._delegate)}withConverter(e){return new Hl(this.firestore,e?this._delegate.withConverter(nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ea(t){return We(t,lt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(...e){this._delegate=new Oo(...e)}static documentId(){return new B1(Dt.keyField().canonicalString())}isEqual(e){return e=ue(e),e instanceof Oo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._delegate=e}static serverTimestamp(){const e=O9();return e._methodName="FieldValue.serverTimestamp",new da(e)}static delete(){const e=P9();return e._methodName="FieldValue.delete",new da(e)}static arrayUnion(...e){const n=k9(...e);return n._methodName="FieldValue.arrayUnion",new da(n)}static arrayRemove(...e){const n=x9(...e);return n._methodName="FieldValue.arrayRemove",new da(n)}static increment(e){const n=D9(e);return n._methodName="FieldValue.increment",new da(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use={Firestore:Oj,GeoPoint:Vy,Timestamp:gt,Blob:Kh,Transaction:kj,WriteBatch:xj,DocumentReference:Kr,DocumentSnapshot:Qh,Query:jn,QueryDocumentSnapshot:Yh,QuerySnapshot:Cb,CollectionReference:Hl,FieldPath:B1,FieldValue:da,setLogLevel:Mse,CACHE_SIZE_UNLIMITED:VY};function Bse(t,e){t.INTERNAL.registerComponent(new mr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Use)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jse(t){Bse(t,(e,n)=>new Oj(e,n,new Lse)),t.registerVersion(Dse,Nse)}jse(Es);const Vse={apiKey:"AIzaSyDWCkNzZ2f3AuOp4AqgxgiI8G1XtF6HIHo",authDomain:"avenu-e.firebaseapp.com",projectId:"avenu-e",storageBucket:"avenu-e.appspot.com",messagingSenderId:"243220346607",appId:"1:243220346607:web:634461e975371e8b4c4d1a",measurementId:"G-RR5TS96545"};try{Es.initializeApp(Vse),Es.firestore()}catch(t){console.log("Firebase\u306E\u521D\u671F\u5316\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",t)}var $j={exports:{}},Lj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Z.exports;function Wse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zse=typeof Object.is=="function"?Object.is:Wse,qse=Gl.useState,Hse=Gl.useEffect,Gse=Gl.useLayoutEffect,Kse=Gl.useDebugValue;function Qse(t,e){var n=e(),r=qse({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Gse(function(){i.value=n,i.getSnapshot=e,Yw(i)&&s({inst:i})},[t,n,e]),Hse(function(){return Yw(i)&&s({inst:i}),t(function(){Yw(i)&&s({inst:i})})},[t]),Kse(n),n}function Yw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zse(t,n)}catch{return!0}}function Yse(t,e){return e()}var Xse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yse:Qse;Lj.useSyncExternalStore=Gl.useSyncExternalStore!==void 0?Gl.useSyncExternalStore:Xse;(function(t){t.exports=Lj})($j);var Jse={exports:{}},Mj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=Z.exports,Zse=$j.exports;function eoe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var toe=typeof Object.is=="function"?Object.is:eoe,noe=Zse.useSyncExternalStore,roe=Tv.useRef,ioe=Tv.useEffect,soe=Tv.useMemo,ooe=Tv.useDebugValue;Mj.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=roe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=soe(function(){function u(m){if(!l){if(l=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,toe(c,m))return g;var _=r(m);return i!==void 0&&i(g,_)?g:(c=m,d=_)}var l=!1,c,d,h=n===void 0?null:n;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,n,r,i]);var a=noe(t,s[0],s[1]);return ioe(function(){o.hasValue=!0,o.value=a},[a]),ooe(a),a};(function(t){t.exports=Mj})(Jse);function aoe(t){t()}let Fj=aoe;const uoe=t=>Fj=t,loe=()=>Fj,coe=Id.createContext(null);var Uj={exports:{}},Qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pn=typeof Symbol=="function"&&Symbol.for,j1=pn?Symbol.for("react.element"):60103,V1=pn?Symbol.for("react.portal"):60106,Av=pn?Symbol.for("react.fragment"):60107,Cv=pn?Symbol.for("react.strict_mode"):60108,Rv=pn?Symbol.for("react.profiler"):60114,Pv=pn?Symbol.for("react.provider"):60109,Ov=pn?Symbol.for("react.context"):60110,W1=pn?Symbol.for("react.async_mode"):60111,kv=pn?Symbol.for("react.concurrent_mode"):60111,xv=pn?Symbol.for("react.forward_ref"):60112,Dv=pn?Symbol.for("react.suspense"):60113,doe=pn?Symbol.for("react.suspense_list"):60120,Nv=pn?Symbol.for("react.memo"):60115,$v=pn?Symbol.for("react.lazy"):60116,hoe=pn?Symbol.for("react.block"):60121,foe=pn?Symbol.for("react.fundamental"):60117,poe=pn?Symbol.for("react.responder"):60118,moe=pn?Symbol.for("react.scope"):60119;function Fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case j1:switch(t=t.type,t){case W1:case kv:case Av:case Rv:case Cv:case Dv:return t;default:switch(t=t&&t.$$typeof,t){case Ov:case xv:case $v:case Nv:case Pv:return t;default:return e}}case V1:return e}}}function Bj(t){return Fr(t)===kv}Qe.AsyncMode=W1;Qe.ConcurrentMode=kv;Qe.ContextConsumer=Ov;Qe.ContextProvider=Pv;Qe.Element=j1;Qe.ForwardRef=xv;Qe.Fragment=Av;Qe.Lazy=$v;Qe.Memo=Nv;Qe.Portal=V1;Qe.Profiler=Rv;Qe.StrictMode=Cv;Qe.Suspense=Dv;Qe.isAsyncMode=function(t){return Bj(t)||Fr(t)===W1};Qe.isConcurrentMode=Bj;Qe.isContextConsumer=function(t){return Fr(t)===Ov};Qe.isContextProvider=function(t){return Fr(t)===Pv};Qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===j1};Qe.isForwardRef=function(t){return Fr(t)===xv};Qe.isFragment=function(t){return Fr(t)===Av};Qe.isLazy=function(t){return Fr(t)===$v};Qe.isMemo=function(t){return Fr(t)===Nv};Qe.isPortal=function(t){return Fr(t)===V1};Qe.isProfiler=function(t){return Fr(t)===Rv};Qe.isStrictMode=function(t){return Fr(t)===Cv};Qe.isSuspense=function(t){return Fr(t)===Dv};Qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Av||t===kv||t===Rv||t===Cv||t===Dv||t===doe||typeof t=="object"&&t!==null&&(t.$$typeof===$v||t.$$typeof===Nv||t.$$typeof===Pv||t.$$typeof===Ov||t.$$typeof===xv||t.$$typeof===foe||t.$$typeof===poe||t.$$typeof===moe||t.$$typeof===hoe)};Qe.typeOf=Fr;(function(t){t.exports=Qe})(Uj);var z1=Uj.exports,goe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yoe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},voe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q1={};q1[z1.ForwardRef]=voe;q1[z1.Memo]=jj;function xk(t){return z1.isMemo(t)?jj:q1[t.$$typeof]||goe}var _oe=Object.defineProperty,woe=Object.getOwnPropertyNames,Dk=Object.getOwnPropertySymbols,Eoe=Object.getOwnPropertyDescriptor,boe=Object.getPrototypeOf,Nk=Object.prototype;function Vj(t,e,n){if(typeof e!="string"){if(Nk){var r=boe(e);r&&r!==Nk&&Vj(t,r,n)}var i=woe(e);Dk&&(i=i.concat(Dk(e)));for(var s=xk(t),o=xk(e),a=0;a<i.length;++a){var u=i[a];if(!yoe[u]&&!(n&&n[u])&&!(o&&o[u])&&!(s&&s[u])){var l=Eoe(e,u);try{_oe(t,u,l)}catch{}}}}return t}var Lv=Vj,Wj={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=Symbol.for("react.element"),G1=Symbol.for("react.portal"),Mv=Symbol.for("react.fragment"),Fv=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),Bv=Symbol.for("react.provider"),jv=Symbol.for("react.context"),Soe=Symbol.for("react.server_context"),Vv=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),zv=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Hv=Symbol.for("react.lazy"),Ioe=Symbol.for("react.offscreen"),zj;zj=Symbol.for("react.module.reference");function ei(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case H1:switch(t=t.type,t){case Mv:case Uv:case Fv:case Wv:case zv:return t;default:switch(t=t&&t.$$typeof,t){case Soe:case jv:case Vv:case Hv:case qv:case Bv:return t;default:return e}}case G1:return e}}}Ye.ContextConsumer=jv;Ye.ContextProvider=Bv;Ye.Element=H1;Ye.ForwardRef=Vv;Ye.Fragment=Mv;Ye.Lazy=Hv;Ye.Memo=qv;Ye.Portal=G1;Ye.Profiler=Uv;Ye.StrictMode=Fv;Ye.Suspense=Wv;Ye.SuspenseList=zv;Ye.isAsyncMode=function(){return!1};Ye.isConcurrentMode=function(){return!1};Ye.isContextConsumer=function(t){return ei(t)===jv};Ye.isContextProvider=function(t){return ei(t)===Bv};Ye.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===H1};Ye.isForwardRef=function(t){return ei(t)===Vv};Ye.isFragment=function(t){return ei(t)===Mv};Ye.isLazy=function(t){return ei(t)===Hv};Ye.isMemo=function(t){return ei(t)===qv};Ye.isPortal=function(t){return ei(t)===G1};Ye.isProfiler=function(t){return ei(t)===Uv};Ye.isStrictMode=function(t){return ei(t)===Fv};Ye.isSuspense=function(t){return ei(t)===Wv};Ye.isSuspenseList=function(t){return ei(t)===zv};Ye.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mv||t===Uv||t===Fv||t===Wv||t===zv||t===Ioe||typeof t=="object"&&t!==null&&(t.$$typeof===Hv||t.$$typeof===qv||t.$$typeof===Bv||t.$$typeof===jv||t.$$typeof===Vv||t.$$typeof===zj||t.getModuleId!==void 0)};Ye.typeOf=ei;(function(t){t.exports=Ye})(Wj);const nxe=QD(Wj.exports);function Toe(){const t=loe();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const $k={notify(){},get:()=>[]};function Aoe(t,e){let n,r=$k;function i(d){return u(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return Boolean(n)}function u(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=Toe())}function l(){n&&(n(),n=void 0,r.clear(),r=$k)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const Coe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Roe=Coe?Z.exports.useLayoutEffect:Z.exports.useEffect;function Poe({store:t,context:e,children:n,serverState:r}){const i=Z.exports.useMemo(()=>{const a=Aoe(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=Z.exports.useMemo(()=>t.getState(),[t]);return Roe(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]),de((e||coe).Provider,{value:i,children:n})}uoe(fS.exports.unstable_batchedUpdates);var Rb={exports:{}},Gv={},qj={};(function(t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var s=n[i];e.call(r,s)?r[s].push(i):r[s]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(qj);var Xw,Lk;function Kf(){return Lk||(Lk=1,Xw={}),Xw}var jt=qj,Ooe=Kf(),Mk=Array.prototype.push;function koe(t,e){return e==2?function(n,r){return t.apply(void 0,arguments)}:function(n){return t.apply(void 0,arguments)}}function Jw(t,e){return e==2?function(n,r){return t(n,r)}:function(n){return t(n)}}function Fk(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function xoe(t){return function(e){return t({},e)}}function Doe(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var s=i[e],o=i.slice(0,e);return s&&Mk.apply(o,s),e!=r&&Mk.apply(o,i.slice(e+1)),t.apply(this,o)}}function Zw(t,e){return function(){var n=arguments.length;if(!!n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}function Pb(t,e,n,r){var i=typeof e=="function",s=e===Object(e);if(s&&(r=n,n=e,e=void 0),n==null)throw new TypeError;r||(r={});var o={cap:"cap"in r?r.cap:!0,curry:"curry"in r?r.curry:!0,fixed:"fixed"in r?r.fixed:!0,immutable:"immutable"in r?r.immutable:!0,rearg:"rearg"in r?r.rearg:!0},a=i?n:Ooe,u="curry"in r&&r.curry,l="fixed"in r&&r.fixed,c="rearg"in r&&r.rearg,d=i?n.runInContext():void 0,h=i?n:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},m=h.ary,g=h.assign,_=h.clone,S=h.curry,v=h.forEach,y=h.isArray,w=h.isError,b=h.isFunction,T=h.isWeakMap,C=h.keys,I=h.rearg,A=h.toInteger,L=h.toPath,k=C(jt.aryMethod),D={castArray:function(oe){return function(){var H=arguments[0];return y(H)?oe(Fk(H)):oe.apply(void 0,arguments)}},iteratee:function(oe){return function(){var H=arguments[0],te=arguments[1],fe=oe(H,te),we=fe.length;return o.cap&&typeof te=="number"?(te=te>2?te-2:1,we&&we<=te?fe:Jw(fe,te)):fe}},mixin:function(oe){return function(H){var te=this;if(!b(te))return oe(te,Object(H));var fe=[];return v(C(H),function(we){b(H[we])&&fe.push([we,te.prototype[we]])}),oe(te,Object(H)),v(fe,function(we){var Xe=we[1];b(Xe)?te.prototype[we[0]]=Xe:delete te.prototype[we[0]]}),te}},nthArg:function(oe){return function(H){var te=H<0?1:A(H)+1;return S(oe(H),te)}},rearg:function(oe){return function(H,te){var fe=te?te.length:0;return S(oe(H,te),fe)}},runInContext:function(oe){return function(H){return Pb(t,oe(H),r)}}};function P(oe,H){if(o.cap){var te=jt.iterateeRearg[oe];if(te)return se(H,te);var fe=!i&&jt.iterateeAry[oe];if(fe)return re(H,fe)}return H}function N(oe,H,te){return u||o.curry&&te>1?S(H,te):H}function O(oe,H,te){if(o.fixed&&(l||!jt.skipFixed[oe])){var fe=jt.methodSpread[oe],we=fe&&fe.start;return we===void 0?m(H,te):Doe(H,we)}return H}function U(oe,H,te){return o.rearg&&te>1&&(c||!jt.skipRearg[oe])?I(H,jt.methodRearg[oe]||jt.aryRearg[te]):H}function F(oe,H){H=L(H);for(var te=-1,fe=H.length,we=fe-1,Xe=_(Object(oe)),x=Xe;x!=null&&++te<fe;){var $=H[te],B=x[$];B!=null&&!(b(B)||w(B)||T(B))&&(x[$]=_(te==we?B:Object(B))),x=x[$]}return Xe}function G(oe){return Te.runInContext.convert(oe)(void 0)}function q(oe,H){var te=jt.aliasToReal[oe]||oe,fe=jt.remap[te]||te,we=r;return function(Xe){var x=i?d:h,$=i?d[fe]:H,B=g(g({},we),Xe);return Pb(x,te,$,B)}}function re(oe,H){return he(oe,function(te){return typeof te=="function"?Jw(te,H):te})}function se(oe,H){return he(oe,function(te){var fe=H.length;return koe(I(Jw(te,fe),H),fe)})}function he(oe,H){return function(){var te=arguments.length;if(!te)return oe();for(var fe=Array(te);te--;)fe[te]=arguments[te];var we=o.rearg?0:te-1;return fe[we]=H(fe[we]),oe.apply(void 0,fe)}}function ve(oe,H,te){var fe,we=jt.aliasToReal[oe]||oe,Xe=H,x=D[we];return x?Xe=x(H):o.immutable&&(jt.mutate.array[we]?Xe=Zw(H,Fk):jt.mutate.object[we]?Xe=Zw(H,xoe(H)):jt.mutate.set[we]&&(Xe=Zw(H,F))),v(k,function($){return v(jt.aryMethod[$],function(B){if(we==B){var K=jt.methodSpread[we],ce=K&&K.afterRearg;return fe=ce?O(we,U(we,Xe,$),$):U(we,O(we,Xe,$),$),fe=P(we,fe),fe=N(we,fe,$),!1}}),!fe}),fe||(fe=Xe),fe==H&&(fe=u?S(fe,1):function(){return H.apply(this,arguments)}),fe.convert=q(we,H),fe.placeholder=H.placeholder=te,fe}if(!s)return ve(e,n,a);var Te=n,$e=[];return v(k,function(oe){v(jt.aryMethod[oe],function(H){var te=Te[jt.remap[H]||H];te&&$e.push([H,ve(H,te,Te)])})}),v(C(Te),function(oe){var H=Te[oe];if(typeof H=="function"){for(var te=$e.length;te--;)if($e[te][0]==oe)return;H.convert=q(oe,H),$e.push([oe,H])}}),v($e,function(oe){Te[oe[0]]=oe[1]}),Te.convert=G,Te.placeholder=Te,v(C(Te),function(oe){v(jt.realToAlias[oe]||[],function(H){Te[H]=Te[oe]})}),Te}var Noe=Pb;function $oe(t){return t}var Qf=$oe,Loe=typeof Er=="object"&&Er&&Er.Object===Object&&Er,Hj=Loe,Moe=Hj,Foe=typeof self=="object"&&self&&self.Object===Object&&self,Uoe=Moe||Foe||Function("return this")(),vr=Uoe,Boe=vr,joe=Boe.Symbol,bc=joe,Uk=bc,Gj=Object.prototype,Voe=Gj.hasOwnProperty,Woe=Gj.toString,cd=Uk?Uk.toStringTag:void 0;function zoe(t){var e=Voe.call(t,cd),n=t[cd];try{t[cd]=void 0;var r=!0}catch{}var i=Woe.call(t);return r&&(e?t[cd]=n:delete t[cd]),i}var qoe=zoe,Hoe=Object.prototype,Goe=Hoe.toString;function Koe(t){return Goe.call(t)}var Qoe=Koe,Bk=bc,Yoe=qoe,Xoe=Qoe,Joe="[object Null]",Zoe="[object Undefined]",jk=Bk?Bk.toStringTag:void 0;function eae(t){return t==null?t===void 0?Zoe:Joe:jk&&jk in Object(t)?Yoe(t):Xoe(t)}var Qi=eae;function tae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bt=tae,nae=Qi,rae=Bt,iae="[object AsyncFunction]",sae="[object Function]",oae="[object GeneratorFunction]",aae="[object Proxy]";function uae(t){if(!rae(t))return!1;var e=nae(t);return e==sae||e==oae||e==iae||e==aae}var Kv=uae,lae=vr,cae=lae["__core-js_shared__"],dae=cae,e0=dae,Vk=function(){var t=/[^.]+$/.exec(e0&&e0.keys&&e0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hae(t){return!!Vk&&Vk in t}var fae=hae,pae=Function.prototype,mae=pae.toString;function gae(t){if(t!=null){try{return mae.call(t)}catch{}try{return t+""}catch{}}return""}var Kj=gae,yae=Kv,vae=fae,_ae=Bt,wae=Kj,Eae=/[\\^$.*+?()[\]{}|]/g,bae=/^\[object .+?Constructor\]$/,Sae=Function.prototype,Iae=Object.prototype,Tae=Sae.toString,Aae=Iae.hasOwnProperty,Cae=RegExp("^"+Tae.call(Aae).replace(Eae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rae(t){if(!_ae(t)||vae(t))return!1;var e=yae(t)?Cae:bae;return e.test(wae(t))}var Pae=Rae;function Oae(t,e){return t==null?void 0:t[e]}var kae=Oae,xae=Pae,Dae=kae;function Nae(t,e){var n=Dae(t,e);return xae(n)?n:void 0}var Eu=Nae,$ae=Eu,Lae=vr,Mae=$ae(Lae,"WeakMap"),Qj=Mae,Wk=Qj,Fae=Wk&&new Wk,Yj=Fae,Uae=Qf,zk=Yj,Bae=zk?function(t,e){return zk.set(t,e),t}:Uae,Xj=Bae,jae=Bt,qk=Object.create,Vae=function(){function t(){}return function(e){if(!jae(e))return{};if(qk)return qk(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Qv=Vae,Wae=Qv,zae=Bt;function qae(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Wae(t.prototype),r=t.apply(n,e);return zae(r)?r:n}}var Yv=qae,Hae=Yv,Gae=vr,Kae=1;function Qae(t,e,n){var r=e&Kae,i=Hae(t);function s(){var o=this&&this!==Gae&&this instanceof s?i:t;return o.apply(r?n:this,arguments)}return s}var Yae=Qae;function Xae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Xv=Xae,Jae=Math.max;function Zae(t,e,n,r){for(var i=-1,s=t.length,o=n.length,a=-1,u=e.length,l=Jae(s-o,0),c=Array(u+l),d=!r;++a<u;)c[a]=e[a];for(;++i<o;)(d||i<s)&&(c[n[i]]=t[i]);for(;l--;)c[a++]=t[i++];return c}var Jj=Zae,eue=Math.max;function tue(t,e,n,r){for(var i=-1,s=t.length,o=-1,a=n.length,u=-1,l=e.length,c=eue(s-a,0),d=Array(c+l),h=!r;++i<c;)d[i]=t[i];for(var m=i;++u<l;)d[m+u]=e[u];for(;++o<a;)(h||i<s)&&(d[m+n[o]]=t[i++]);return d}var Zj=tue;function nue(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var rue=nue;function iue(){}var K1=iue,sue=Qv,oue=K1,aue=4294967295;function Dg(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=aue,this.__views__=[]}Dg.prototype=sue(oue.prototype);Dg.prototype.constructor=Dg;var Q1=Dg;function uue(){}var e4=uue,Hk=Yj,lue=e4,cue=Hk?function(t){return Hk.get(t)}:lue,t4=cue,due={},hue=due,Gk=hue,fue=Object.prototype,pue=fue.hasOwnProperty;function mue(t){for(var e=t.name+"",n=Gk[e],r=pue.call(Gk,e)?n.length:0;r--;){var i=n[r],s=i.func;if(s==null||s==t)return i.name}return e}var gue=mue,yue=Qv,vue=K1;function Ng(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}Ng.prototype=yue(vue.prototype);Ng.prototype.constructor=Ng;var n4=Ng,_ue=Array.isArray,yt=_ue;function wue(t){return t!=null&&typeof t=="object"}var Jn=wue;function Eue(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Yf=Eue,bue=Q1,Sue=n4,Iue=Yf;function Tue(t){if(t instanceof bue)return t.clone();var e=new Sue(t.__wrapped__,t.__chain__);return e.__actions__=Iue(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Aue=Tue,Cue=Q1,Kk=n4,Rue=K1,Pue=yt,Oue=Jn,kue=Aue,xue=Object.prototype,Due=xue.hasOwnProperty;function $g(t){if(Oue(t)&&!Pue(t)&&!(t instanceof Cue)){if(t instanceof Kk)return t;if(Due.call(t,"__wrapped__"))return kue(t)}return new Kk(t)}$g.prototype=Rue.prototype;$g.prototype.constructor=$g;var Nue=$g,$ue=Q1,Lue=t4,Mue=gue,Fue=Nue;function Uue(t){var e=Mue(t),n=Fue[e];if(typeof n!="function"||!(e in $ue.prototype))return!1;if(t===n)return!0;var r=Lue(n);return!!r&&t===r[0]}var Bue=Uue,jue=800,Vue=16,Wue=Date.now;function zue(t){var e=0,n=0;return function(){var r=Wue(),i=Vue-(r-n);if(n=r,i>0){if(++e>=jue)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r4=zue,que=Xj,Hue=r4,Gue=Hue(que),i4=Gue,Kue=/\{\n\/\* \[wrapped with (.+)\] \*/,Que=/,? & /;function Yue(t){var e=t.match(Kue);return e?e[1].split(Que):[]}var Xue=Yue,Jue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Zue(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Jue,`{
/* [wrapped with `+e+`] */
`)}var ele=Zue;function tle(t){return function(){return t}}var s4=tle,nle=Eu,rle=function(){try{var t=nle(Object,"defineProperty");return t({},"",{}),t}catch{}}(),o4=rle,ile=s4,Qk=o4,sle=Qf,ole=Qk?function(t,e){return Qk(t,"toString",{configurable:!0,enumerable:!1,value:ile(e),writable:!0})}:sle,ale=ole,ule=ale,lle=r4,cle=lle(ule),Y1=cle;function dle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Jv=dle;function hle(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var fle=hle;function ple(t){return t!==t}var mle=ple;function gle(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var yle=gle,vle=fle,_le=mle,wle=yle;function Ele(t,e,n){return e===e?wle(t,e,n):vle(t,_le,n)}var X1=Ele,ble=X1;function Sle(t,e){var n=t==null?0:t.length;return!!n&&ble(t,e,0)>-1}var J1=Sle,Ile=Jv,Tle=J1,Ale=1,Cle=2,Rle=8,Ple=16,Ole=32,kle=64,xle=128,Dle=256,Nle=512,$le=[["ary",xle],["bind",Ale],["bindKey",Cle],["curry",Rle],["curryRight",Ple],["flip",Nle],["partial",Ole],["partialRight",kle],["rearg",Dle]];function Lle(t,e){return Ile($le,function(n){var r="_."+n[0];e&n[1]&&!Tle(t,r)&&t.push(r)}),t.sort()}var Mle=Lle,Fle=Xue,Ule=ele,Ble=Y1,jle=Mle;function Vle(t,e,n){var r=e+"";return Ble(t,Ule(r,jle(Fle(r),n)))}var a4=Vle,Wle=Bue,zle=i4,qle=a4,Hle=1,Gle=2,Kle=4,Qle=8,Yk=32,Xk=64;function Yle(t,e,n,r,i,s,o,a,u,l){var c=e&Qle,d=c?o:void 0,h=c?void 0:o,m=c?s:void 0,g=c?void 0:s;e|=c?Yk:Xk,e&=~(c?Xk:Yk),e&Kle||(e&=~(Hle|Gle));var _=[t,e,i,m,d,g,h,a,u,l],S=n.apply(void 0,_);return Wle(t)&&zle(S,_),S.placeholder=r,qle(S,t,e)}var u4=Yle;function Xle(t){var e=t;return e.placeholder}var l4=Xle,Jle=9007199254740991,Zle=/^(?:0|[1-9]\d*)$/;function ece(t,e){var n=typeof t;return e=e==null?Jle:e,!!e&&(n=="number"||n!="symbol"&&Zle.test(t))&&t>-1&&t%1==0&&t<e}var Sc=ece,tce=Yf,nce=Sc,rce=Math.min;function ice(t,e){for(var n=t.length,r=rce(e.length,n),i=tce(t);r--;){var s=e[r];t[r]=nce(s,n)?i[s]:void 0}return t}var sce=ice,Jk="__lodash_placeholder__";function oce(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];(o===e||o===Jk)&&(t[n]=Jk,s[i++]=n)}return s}var Z1=oce,ace=Jj,uce=Zj,lce=rue,Zk=Yv,cce=u4,dce=l4,hce=sce,fce=Z1,pce=vr,mce=1,gce=2,yce=8,vce=16,_ce=128,wce=512;function c4(t,e,n,r,i,s,o,a,u,l){var c=e&_ce,d=e&mce,h=e&gce,m=e&(yce|vce),g=e&wce,_=h?void 0:Zk(t);function S(){for(var v=arguments.length,y=Array(v),w=v;w--;)y[w]=arguments[w];if(m)var b=dce(S),T=lce(y,b);if(r&&(y=ace(y,r,i,m)),s&&(y=uce(y,s,o,m)),v-=T,m&&v<l){var C=fce(y,b);return cce(t,e,c4,S.placeholder,n,y,C,a,u,l-v)}var I=d?n:this,A=h?I[t]:t;return v=y.length,a?y=hce(y,a):g&&v>1&&y.reverse(),c&&u<v&&(y.length=u),this&&this!==pce&&this instanceof S&&(A=_||Zk(A)),A.apply(I,y)}return S}var d4=c4,Ece=Xv,bce=Yv,Sce=d4,Ice=u4,Tce=l4,Ace=Z1,Cce=vr;function Rce(t,e,n){var r=bce(t);function i(){for(var s=arguments.length,o=Array(s),a=s,u=Tce(i);a--;)o[a]=arguments[a];var l=s<3&&o[0]!==u&&o[s-1]!==u?[]:Ace(o,u);if(s-=l.length,s<n)return Ice(t,e,Sce,i.placeholder,void 0,o,l,void 0,void 0,n-s);var c=this&&this!==Cce&&this instanceof i?r:t;return Ece(c,this,o)}return i}var Pce=Rce,Oce=Xv,kce=Yv,xce=vr,Dce=1;function Nce(t,e,n,r){var i=e&Dce,s=kce(t);function o(){for(var a=-1,u=arguments.length,l=-1,c=r.length,d=Array(c+u),h=this&&this!==xce&&this instanceof o?s:t;++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++a];return Oce(h,i?n:this,d)}return o}var $ce=Nce,Lce=Jj,Mce=Zj,ex=Z1,tx="__lodash_placeholder__",t0=1,Fce=2,Uce=4,nx=8,dd=128,rx=256,Bce=Math.min;function jce(t,e){var n=t[1],r=e[1],i=n|r,s=i<(t0|Fce|dd),o=r==dd&&n==nx||r==dd&&n==rx&&t[7].length<=e[8]||r==(dd|rx)&&e[7].length<=e[8]&&n==nx;if(!(s||o))return t;r&t0&&(t[2]=e[2],i|=n&t0?0:Uce);var a=e[3];if(a){var u=t[3];t[3]=u?Lce(u,a,e[4]):a,t[4]=u?ex(t[3],tx):e[4]}return a=e[5],a&&(u=t[5],t[5]=u?Mce(u,a,e[6]):a,t[6]=u?ex(t[5],tx):e[6]),a=e[7],a&&(t[7]=a),r&dd&&(t[8]=t[8]==null?e[8]:Bce(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var Vce=jce,Wce=/\s/;function zce(t){for(var e=t.length;e--&&Wce.test(t.charAt(e)););return e}var qce=zce,Hce=qce,Gce=/^\s+/;function Kce(t){return t&&t.slice(0,Hce(t)+1).replace(Gce,"")}var h4=Kce,Qce=Qi,Yce=Jn,Xce="[object Symbol]";function Jce(t){return typeof t=="symbol"||Yce(t)&&Qce(t)==Xce}var Xf=Jce,Zce=h4,ix=Bt,ede=Xf,sx=0/0,tde=/^[-+]0x[0-9a-f]+$/i,nde=/^0b[01]+$/i,rde=/^0o[0-7]+$/i,ide=parseInt;function sde(t){if(typeof t=="number")return t;if(ede(t))return sx;if(ix(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ix(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Zce(t);var n=nde.test(t);return n||rde.test(t)?ide(t.slice(2),n?2:8):tde.test(t)?sx:+t}var ode=sde,ade=ode,ox=1/0,ude=17976931348623157e292;function lde(t){if(!t)return t===0?t:0;if(t=ade(t),t===ox||t===-ox){var e=t<0?-1:1;return e*ude}return t===t?t:0}var cde=lde,dde=cde;function hde(t){var e=dde(t),n=e%1;return e===e?n?e-n:e:0}var f4=hde,fde=Xj,pde=Yae,mde=Pce,gde=d4,yde=$ce,vde=t4,_de=Vce,wde=i4,Ede=a4,ax=f4,bde="Expected a function",ux=1,Sde=2,n0=8,r0=16,i0=32,lx=64,cx=Math.max;function Ide(t,e,n,r,i,s,o,a){var u=e&Sde;if(!u&&typeof t!="function")throw new TypeError(bde);var l=r?r.length:0;if(l||(e&=~(i0|lx),r=i=void 0),o=o===void 0?o:cx(ax(o),0),a=a===void 0?a:ax(a),l-=i?i.length:0,e&lx){var c=r,d=i;r=i=void 0}var h=u?void 0:vde(t),m=[t,e,n,r,i,c,d,s,o,a];if(h&&_de(m,h),t=m[0],e=m[1],n=m[2],r=m[3],i=m[4],a=m[9]=m[9]===void 0?u?0:t.length:cx(m[9]-l,0),!a&&e&(n0|r0)&&(e&=~(n0|r0)),!e||e==ux)var g=pde(t,e,n);else e==n0||e==r0?g=mde(t,e,a):(e==i0||e==(ux|i0))&&!i.length?g=yde(t,e,n,r):g=gde.apply(void 0,m);var _=h?fde:wde;return Ede(_(g,m),t,e)}var eA=Ide,Tde=eA,Ade=128;function Cde(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,Tde(t,Ade,void 0,void 0,void 0,void 0,e)}var Rde=Cde,dx=o4;function Pde(t,e,n){e=="__proto__"&&dx?dx(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ic=Pde;function Ode(t,e){return t===e||t!==t&&e!==e}var Jf=Ode,kde=Ic,xde=Jf,Dde=Object.prototype,Nde=Dde.hasOwnProperty;function $de(t,e,n){var r=t[e];(!(Nde.call(t,e)&&xde(r,n))||n===void 0&&!(e in t))&&kde(t,e,n)}var Zv=$de,Lde=Zv,Mde=Ic;function Fde(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),i?Mde(n,a,u):Lde(n,a,u)}return n}var bu=Fde;function Ude(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Bde=Ude,jde=Qi,Vde=Jn,Wde="[object Arguments]";function zde(t){return Vde(t)&&jde(t)==Wde}var qde=zde,hx=qde,Hde=Jn,p4=Object.prototype,Gde=p4.hasOwnProperty,Kde=p4.propertyIsEnumerable,Qde=hx(function(){return arguments}())?hx:function(t){return Hde(t)&&Gde.call(t,"callee")&&!Kde.call(t,"callee")},Zf=Qde,ru={exports:{}};function Yde(){return!1}var Xde=Yde;(function(t,e){var n=vr,r=Xde,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;t.exports=l})(ru,ru.exports);var Jde=9007199254740991;function Zde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Jde}var tA=Zde,ehe=Qi,the=tA,nhe=Jn,rhe="[object Arguments]",ihe="[object Array]",she="[object Boolean]",ohe="[object Date]",ahe="[object Error]",uhe="[object Function]",lhe="[object Map]",che="[object Number]",dhe="[object Object]",hhe="[object RegExp]",fhe="[object Set]",phe="[object String]",mhe="[object WeakMap]",ghe="[object ArrayBuffer]",yhe="[object DataView]",vhe="[object Float32Array]",_he="[object Float64Array]",whe="[object Int8Array]",Ehe="[object Int16Array]",bhe="[object Int32Array]",She="[object Uint8Array]",Ihe="[object Uint8ClampedArray]",The="[object Uint16Array]",Ahe="[object Uint32Array]",ot={};ot[vhe]=ot[_he]=ot[whe]=ot[Ehe]=ot[bhe]=ot[She]=ot[Ihe]=ot[The]=ot[Ahe]=!0;ot[rhe]=ot[ihe]=ot[ghe]=ot[she]=ot[yhe]=ot[ohe]=ot[ahe]=ot[uhe]=ot[lhe]=ot[che]=ot[dhe]=ot[hhe]=ot[fhe]=ot[phe]=ot[mhe]=!1;function Che(t){return nhe(t)&&the(t.length)&&!!ot[ehe(t)]}var Rhe=Che;function Phe(t){return function(e){return t(e)}}var e_=Phe,Xh={exports:{}};(function(t,e){var n=Hj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Xh,Xh.exports);var Ohe=Rhe,khe=e_,fx=Xh.exports,px=fx&&fx.isTypedArray,xhe=px?khe(px):Ohe,t_=xhe,Dhe=Bde,Nhe=Zf,$he=yt,Lhe=ru.exports,Mhe=Sc,Fhe=t_,Uhe=Object.prototype,Bhe=Uhe.hasOwnProperty;function jhe(t,e){var n=$he(t),r=!n&&Nhe(t),i=!n&&!r&&Lhe(t),s=!n&&!r&&!i&&Fhe(t),o=n||r||i||s,a=o?Dhe(t.length,String):[],u=a.length;for(var l in t)(e||Bhe.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Mhe(l,u)))&&a.push(l);return a}var m4=jhe,Vhe=Object.prototype;function Whe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Vhe;return t===n}var ep=Whe;function zhe(t,e){return function(n){return t(e(n))}}var g4=zhe,qhe=g4,Hhe=qhe(Object.keys,Object),Ghe=Hhe,Khe=ep,Qhe=Ghe,Yhe=Object.prototype,Xhe=Yhe.hasOwnProperty;function Jhe(t){if(!Khe(t))return Qhe(t);var e=[];for(var n in Object(t))Xhe.call(t,n)&&n!="constructor"&&e.push(n);return e}var n_=Jhe,Zhe=Kv,efe=tA;function tfe(t){return t!=null&&efe(t.length)&&!Zhe(t)}var xs=tfe,nfe=m4,rfe=n_,ife=xs;function sfe(t){return ife(t)?nfe(t):rfe(t)}var Tc=sfe,ofe=bu,afe=Tc;function ufe(t,e){return t&&ofe(e,afe(e),t)}var y4=ufe;function lfe(){this.__data__=[],this.size=0}var cfe=lfe,dfe=Jf;function hfe(t,e){for(var n=t.length;n--;)if(dfe(t[n][0],e))return n;return-1}var r_=hfe,ffe=r_,pfe=Array.prototype,mfe=pfe.splice;function gfe(t){var e=this.__data__,n=ffe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():mfe.call(e,n,1),--this.size,!0}var yfe=gfe,vfe=r_;function _fe(t){var e=this.__data__,n=vfe(e,t);return n<0?void 0:e[n][1]}var wfe=_fe,Efe=r_;function bfe(t){return Efe(this.__data__,t)>-1}var Sfe=bfe,Ife=r_;function Tfe(t,e){var n=this.__data__,r=Ife(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Afe=Tfe,Cfe=cfe,Rfe=yfe,Pfe=wfe,Ofe=Sfe,kfe=Afe;function Ac(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ac.prototype.clear=Cfe;Ac.prototype.delete=Rfe;Ac.prototype.get=Pfe;Ac.prototype.has=Ofe;Ac.prototype.set=kfe;var i_=Ac,xfe=i_;function Dfe(){this.__data__=new xfe,this.size=0}var Nfe=Dfe;function $fe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Lfe=$fe;function Mfe(t){return this.__data__.get(t)}var Ffe=Mfe;function Ufe(t){return this.__data__.has(t)}var Bfe=Ufe,jfe=Eu,Vfe=vr,Wfe=jfe(Vfe,"Map"),nA=Wfe,zfe=Eu,qfe=zfe(Object,"create"),s_=qfe,mx=s_;function Hfe(){this.__data__=mx?mx(null):{},this.size=0}var Gfe=Hfe;function Kfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Qfe=Kfe,Yfe=s_,Xfe="__lodash_hash_undefined__",Jfe=Object.prototype,Zfe=Jfe.hasOwnProperty;function epe(t){var e=this.__data__;if(Yfe){var n=e[t];return n===Xfe?void 0:n}return Zfe.call(e,t)?e[t]:void 0}var tpe=epe,npe=s_,rpe=Object.prototype,ipe=rpe.hasOwnProperty;function spe(t){var e=this.__data__;return npe?e[t]!==void 0:ipe.call(e,t)}var ope=spe,ape=s_,upe="__lodash_hash_undefined__";function lpe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ape&&e===void 0?upe:e,this}var cpe=lpe,dpe=Gfe,hpe=Qfe,fpe=tpe,ppe=ope,mpe=cpe;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=dpe;Cc.prototype.delete=hpe;Cc.prototype.get=fpe;Cc.prototype.has=ppe;Cc.prototype.set=mpe;var gpe=Cc,gx=gpe,ype=i_,vpe=nA;function _pe(){this.size=0,this.__data__={hash:new gx,map:new(vpe||ype),string:new gx}}var wpe=_pe;function Epe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bpe=Epe,Spe=bpe;function Ipe(t,e){var n=t.__data__;return Spe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var o_=Ipe,Tpe=o_;function Ape(t){var e=Tpe(this,t).delete(t);return this.size-=e?1:0,e}var Cpe=Ape,Rpe=o_;function Ppe(t){return Rpe(this,t).get(t)}var Ope=Ppe,kpe=o_;function xpe(t){return kpe(this,t).has(t)}var Dpe=xpe,Npe=o_;function $pe(t,e){var n=Npe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Lpe=$pe,Mpe=wpe,Fpe=Cpe,Upe=Ope,Bpe=Dpe,jpe=Lpe;function Rc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rc.prototype.clear=Mpe;Rc.prototype.delete=Fpe;Rc.prototype.get=Upe;Rc.prototype.has=Bpe;Rc.prototype.set=jpe;var rA=Rc,Vpe=i_,Wpe=nA,zpe=rA,qpe=200;function Hpe(t,e){var n=this.__data__;if(n instanceof Vpe){var r=n.__data__;if(!Wpe||r.length<qpe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zpe(r)}return n.set(t,e),this.size=n.size,this}var Gpe=Hpe,Kpe=i_,Qpe=Nfe,Ype=Lfe,Xpe=Ffe,Jpe=Bfe,Zpe=Gpe;function Pc(t){var e=this.__data__=new Kpe(t);this.size=e.size}Pc.prototype.clear=Qpe;Pc.prototype.delete=Ype;Pc.prototype.get=Xpe;Pc.prototype.has=Jpe;Pc.prototype.set=Zpe;var a_=Pc;function eme(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var tme=eme,nme=Bt,rme=ep,ime=tme,sme=Object.prototype,ome=sme.hasOwnProperty;function ame(t){if(!nme(t))return ime(t);var e=rme(t),n=[];for(var r in t)r=="constructor"&&(e||!ome.call(t,r))||n.push(r);return n}var ume=ame,lme=m4,cme=ume,dme=xs;function hme(t){return dme(t)?lme(t,!0):cme(t)}var tp=hme,fme=bu,pme=tp;function mme(t,e){return t&&fme(e,pme(e),t)}var gme=mme,Lg={exports:{}};(function(t,e){var n=vr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var d=l.length,h=a?a(d):new l.constructor(d);return l.copy(h),h}t.exports=u})(Lg,Lg.exports);function yme(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var iA=yme;function vme(){return[]}var v4=vme,_me=iA,wme=v4,Eme=Object.prototype,bme=Eme.propertyIsEnumerable,yx=Object.getOwnPropertySymbols,Sme=yx?function(t){return t==null?[]:(t=Object(t),_me(yx(t),function(e){return bme.call(t,e)}))}:wme,sA=Sme,Ime=bu,Tme=sA;function Ame(t,e){return Ime(t,Tme(t),e)}var Cme=Ame;function Rme(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var oA=Rme,Pme=g4,Ome=Pme(Object.getPrototypeOf,Object),aA=Ome,kme=oA,xme=aA,Dme=sA,Nme=v4,$me=Object.getOwnPropertySymbols,Lme=$me?function(t){for(var e=[];t;)kme(e,Dme(t)),t=xme(t);return e}:Nme,_4=Lme,Mme=bu,Fme=_4;function Ume(t,e){return Mme(t,Fme(t),e)}var Bme=Ume,jme=oA,Vme=yt;function Wme(t,e,n){var r=e(t);return Vme(t)?r:jme(r,n(t))}var w4=Wme,zme=w4,qme=sA,Hme=Tc;function Gme(t){return zme(t,Hme,qme)}var E4=Gme,Kme=w4,Qme=_4,Yme=tp;function Xme(t){return Kme(t,Yme,Qme)}var uA=Xme,Jme=Eu,Zme=vr,ege=Jme(Zme,"DataView"),tge=ege,nge=Eu,rge=vr,ige=nge(rge,"Promise"),sge=ige,oge=Eu,age=vr,uge=oge(age,"Set"),b4=uge,Ob=tge,kb=nA,xb=sge,Db=b4,Nb=Qj,S4=Qi,Oc=Kj,vx="[object Map]",lge="[object Object]",_x="[object Promise]",wx="[object Set]",Ex="[object WeakMap]",bx="[object DataView]",cge=Oc(Ob),dge=Oc(kb),hge=Oc(xb),fge=Oc(Db),pge=Oc(Nb),sa=S4;(Ob&&sa(new Ob(new ArrayBuffer(1)))!=bx||kb&&sa(new kb)!=vx||xb&&sa(xb.resolve())!=_x||Db&&sa(new Db)!=wx||Nb&&sa(new Nb)!=Ex)&&(sa=function(t){var e=S4(t),n=e==lge?t.constructor:void 0,r=n?Oc(n):"";if(r)switch(r){case cge:return bx;case dge:return vx;case hge:return _x;case fge:return wx;case pge:return Ex}return e});var Su=sa,mge=Object.prototype,gge=mge.hasOwnProperty;function yge(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&gge.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var vge=yge,_ge=vr,wge=_ge.Uint8Array,I4=wge,Sx=I4;function Ege(t){var e=new t.constructor(t.byteLength);return new Sx(e).set(new Sx(t)),e}var lA=Ege,bge=lA;function Sge(t,e){var n=e?bge(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Ige=Sge,Tge=/\w*$/;function Age(t){var e=new t.constructor(t.source,Tge.exec(t));return e.lastIndex=t.lastIndex,e}var Cge=Age,Ix=bc,Tx=Ix?Ix.prototype:void 0,Ax=Tx?Tx.valueOf:void 0;function Rge(t){return Ax?Object(Ax.call(t)):{}}var Pge=Rge,Oge=lA;function kge(t,e){var n=e?Oge(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var T4=kge,xge=lA,Dge=Ige,Nge=Cge,$ge=Pge,Lge=T4,Mge="[object Boolean]",Fge="[object Date]",Uge="[object Map]",Bge="[object Number]",jge="[object RegExp]",Vge="[object Set]",Wge="[object String]",zge="[object Symbol]",qge="[object ArrayBuffer]",Hge="[object DataView]",Gge="[object Float32Array]",Kge="[object Float64Array]",Qge="[object Int8Array]",Yge="[object Int16Array]",Xge="[object Int32Array]",Jge="[object Uint8Array]",Zge="[object Uint8ClampedArray]",eye="[object Uint16Array]",tye="[object Uint32Array]";function nye(t,e,n){var r=t.constructor;switch(e){case qge:return xge(t);case Mge:case Fge:return new r(+t);case Hge:return Dge(t,n);case Gge:case Kge:case Qge:case Yge:case Xge:case Jge:case Zge:case eye:case tye:return Lge(t,n);case Uge:return new r;case Bge:case Wge:return new r(t);case jge:return Nge(t);case Vge:return new r;case zge:return $ge(t)}}var rye=nye,iye=Qv,sye=aA,oye=ep;function aye(t){return typeof t.constructor=="function"&&!oye(t)?iye(sye(t)):{}}var A4=aye,uye=Su,lye=Jn,cye="[object Map]";function dye(t){return lye(t)&&uye(t)==cye}var hye=dye,fye=hye,pye=e_,Cx=Xh.exports,Rx=Cx&&Cx.isMap,mye=Rx?pye(Rx):fye,gye=mye,yye=Su,vye=Jn,_ye="[object Set]";function wye(t){return vye(t)&&yye(t)==_ye}var Eye=wye,bye=Eye,Sye=e_,Px=Xh.exports,Ox=Px&&Px.isSet,Iye=Ox?Sye(Ox):bye,Tye=Iye,Aye=a_,Cye=Jv,Rye=Zv,Pye=y4,Oye=gme,kye=Lg.exports,xye=Yf,Dye=Cme,Nye=Bme,$ye=E4,Lye=uA,Mye=Su,Fye=vge,Uye=rye,Bye=A4,jye=yt,Vye=ru.exports,Wye=gye,zye=Bt,qye=Tye,Hye=Tc,Gye=tp,Kye=1,Qye=2,Yye=4,C4="[object Arguments]",Xye="[object Array]",Jye="[object Boolean]",Zye="[object Date]",eve="[object Error]",R4="[object Function]",tve="[object GeneratorFunction]",nve="[object Map]",rve="[object Number]",P4="[object Object]",ive="[object RegExp]",sve="[object Set]",ove="[object String]",ave="[object Symbol]",uve="[object WeakMap]",lve="[object ArrayBuffer]",cve="[object DataView]",dve="[object Float32Array]",hve="[object Float64Array]",fve="[object Int8Array]",pve="[object Int16Array]",mve="[object Int32Array]",gve="[object Uint8Array]",yve="[object Uint8ClampedArray]",vve="[object Uint16Array]",_ve="[object Uint32Array]",et={};et[C4]=et[Xye]=et[lve]=et[cve]=et[Jye]=et[Zye]=et[dve]=et[hve]=et[fve]=et[pve]=et[mve]=et[nve]=et[rve]=et[P4]=et[ive]=et[sve]=et[ove]=et[ave]=et[gve]=et[yve]=et[vve]=et[_ve]=!0;et[eve]=et[R4]=et[uve]=!1;function ym(t,e,n,r,i,s){var o,a=e&Kye,u=e&Qye,l=e&Yye;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!zye(t))return t;var c=jye(t);if(c){if(o=Fye(t),!a)return xye(t,o)}else{var d=Mye(t),h=d==R4||d==tve;if(Vye(t))return kye(t,a);if(d==P4||d==C4||h&&!i){if(o=u||h?{}:Bye(t),!a)return u?Nye(t,Oye(o,t)):Dye(t,Pye(o,t))}else{if(!et[d])return i?t:{};o=Uye(t,d,a)}}s||(s=new Aye);var m=s.get(t);if(m)return m;s.set(t,o),qye(t)?t.forEach(function(S){o.add(ym(S,e,n,S,t,s))}):Wye(t)&&t.forEach(function(S,v){o.set(v,ym(S,e,n,v,t,s))});var g=l?u?Lye:$ye:u?Gye:Hye,_=c?void 0:g(t);return Cye(_||t,function(S,v){_&&(v=S,S=t[v]),Rye(o,v,ym(S,e,n,v,t,s))}),o}var u_=ym,wve=u_,Eve=4;function bve(t){return wve(t,Eve)}var Sve=bve,Ive=eA,Tve=8;function cA(t,e,n){e=n?void 0:e;var r=Ive(t,Tve,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=cA.placeholder,r}cA.placeholder={};var Ave=cA,Cve=Qi,Rve=aA,Pve=Jn,Ove="[object Object]",kve=Function.prototype,xve=Object.prototype,O4=kve.toString,Dve=xve.hasOwnProperty,Nve=O4.call(Object);function $ve(t){if(!Pve(t)||Cve(t)!=Ove)return!1;var e=Rve(t);if(e===null)return!0;var n=Dve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&O4.call(n)==Nve}var dA=$ve,Lve=Qi,Mve=Jn,Fve=dA,Uve="[object DOMException]",Bve="[object Error]";function jve(t){if(!Mve(t))return!1;var e=Lve(t);return e==Bve||e==Uve||typeof t.message=="string"&&typeof t.name=="string"&&!Fve(t)}var Vve=jve,Wve=Su,zve=Jn,qve="[object WeakMap]";function Hve(t){return zve(t)&&Wve(t)==qve}var Gve=Hve,Kve="__lodash_hash_undefined__";function Qve(t){return this.__data__.set(t,Kve),this}var Yve=Qve;function Xve(t){return this.__data__.has(t)}var Jve=Xve,Zve=rA,e_e=Yve,t_e=Jve;function Mg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Zve;++e<n;)this.add(t[e])}Mg.prototype.add=Mg.prototype.push=e_e;Mg.prototype.has=t_e;var hA=Mg;function n_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var k4=n_e;function r_e(t,e){return t.has(e)}var fA=r_e,i_e=hA,s_e=k4,o_e=fA,a_e=1,u_e=2;function l_e(t,e,n,r,i,s){var o=n&a_e,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t),c=s.get(e);if(l&&c)return l==e&&c==t;var d=-1,h=!0,m=n&u_e?new i_e:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var g=t[d],_=e[d];if(r)var S=o?r(_,g,d,e,t,s):r(g,_,d,t,e,s);if(S!==void 0){if(S)continue;h=!1;break}if(m){if(!s_e(e,function(v,y){if(!o_e(m,y)&&(g===v||i(g,v,n,r,s)))return m.push(y)})){h=!1;break}}else if(!(g===_||i(g,_,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var x4=l_e;function c_e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var d_e=c_e;function h_e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var pA=h_e,kx=bc,xx=I4,f_e=Jf,p_e=x4,m_e=d_e,g_e=pA,y_e=1,v_e=2,__e="[object Boolean]",w_e="[object Date]",E_e="[object Error]",b_e="[object Map]",S_e="[object Number]",I_e="[object RegExp]",T_e="[object Set]",A_e="[object String]",C_e="[object Symbol]",R_e="[object ArrayBuffer]",P_e="[object DataView]",Dx=kx?kx.prototype:void 0,s0=Dx?Dx.valueOf:void 0;function O_e(t,e,n,r,i,s,o){switch(n){case P_e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R_e:return!(t.byteLength!=e.byteLength||!s(new xx(t),new xx(e)));case __e:case w_e:case S_e:return f_e(+t,+e);case E_e:return t.name==e.name&&t.message==e.message;case I_e:case A_e:return t==e+"";case b_e:var a=m_e;case T_e:var u=r&y_e;if(a||(a=g_e),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=v_e,o.set(t,e);var c=p_e(a(t),a(e),r,i,s,o);return o.delete(t),c;case C_e:if(s0)return s0.call(t)==s0.call(e)}return!1}var k_e=O_e,Nx=E4,x_e=1,D_e=Object.prototype,N_e=D_e.hasOwnProperty;function $_e(t,e,n,r,i,s){var o=n&x_e,a=Nx(t),u=a.length,l=Nx(e),c=l.length;if(u!=c&&!o)return!1;for(var d=u;d--;){var h=a[d];if(!(o?h in e:N_e.call(e,h)))return!1}var m=s.get(t),g=s.get(e);if(m&&g)return m==e&&g==t;var _=!0;s.set(t,e),s.set(e,t);for(var S=o;++d<u;){h=a[d];var v=t[h],y=e[h];if(r)var w=o?r(y,v,h,e,t,s):r(v,y,h,t,e,s);if(!(w===void 0?v===y||i(v,y,n,r,s):w)){_=!1;break}S||(S=h=="constructor")}if(_&&!S){var b=t.constructor,T=e.constructor;b!=T&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof T=="function"&&T instanceof T)&&(_=!1)}return s.delete(t),s.delete(e),_}var L_e=$_e,o0=a_,M_e=x4,F_e=k_e,U_e=L_e,$x=Su,Lx=yt,Mx=ru.exports,B_e=t_,j_e=1,Fx="[object Arguments]",Ux="[object Array]",qp="[object Object]",V_e=Object.prototype,Bx=V_e.hasOwnProperty;function W_e(t,e,n,r,i,s){var o=Lx(t),a=Lx(e),u=o?Ux:$x(t),l=a?Ux:$x(e);u=u==Fx?qp:u,l=l==Fx?qp:l;var c=u==qp,d=l==qp,h=u==l;if(h&&Mx(t)){if(!Mx(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new o0),o||B_e(t)?M_e(t,e,n,r,i,s):F_e(t,e,u,n,r,i,s);if(!(n&j_e)){var m=c&&Bx.call(t,"__wrapped__"),g=d&&Bx.call(e,"__wrapped__");if(m||g){var _=m?t.value():t,S=g?e.value():e;return s||(s=new o0),i(_,S,n,r,s)}}return h?(s||(s=new o0),U_e(t,e,n,r,i,s)):!1}var z_e=W_e,q_e=z_e,jx=Jn;function D4(t,e,n,r,i){return t===e?!0:t==null||e==null||!jx(t)&&!jx(e)?t!==t&&e!==e:q_e(t,e,n,r,D4,i)}var mA=D4,H_e=a_,G_e=mA,K_e=1,Q_e=2;function Y_e(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var u=a[0],l=t[u],c=a[1];if(o&&a[2]){if(l===void 0&&!(u in t))return!1}else{var d=new H_e;if(r)var h=r(l,c,u,t,e,d);if(!(h===void 0?G_e(c,l,K_e|Q_e,r,d):h))return!1}}return!0}var X_e=Y_e,J_e=Bt;function Z_e(t){return t===t&&!J_e(t)}var N4=Z_e,ewe=N4,twe=Tc;function nwe(t){for(var e=twe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ewe(i)]}return e}var rwe=nwe;function iwe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var $4=iwe,swe=X_e,owe=rwe,awe=$4;function uwe(t){var e=owe(t);return e.length==1&&e[0][2]?awe(e[0][0],e[0][1]):function(n){return n===t||swe(n,t,e)}}var lwe=uwe,cwe=yt,dwe=Xf,hwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fwe=/^\w*$/;function pwe(t,e){if(cwe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||dwe(t)?!0:fwe.test(t)||!hwe.test(t)||e!=null&&t in Object(e)}var gA=pwe,L4=rA,mwe="Expected a function";function yA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mwe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(yA.Cache||L4),n}yA.Cache=L4;var gwe=yA,ywe=gwe,vwe=500;function _we(t){var e=ywe(t,function(r){return n.size===vwe&&n.clear(),r}),n=e.cache;return e}var wwe=_we,Ewe=wwe,bwe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Swe=/\\(\\)?/g,Iwe=Ewe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bwe,function(n,r,i,s){e.push(i?s.replace(Swe,"$1"):r||n)}),e}),M4=Iwe;function Twe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var kc=Twe,Vx=bc,Awe=kc,Cwe=yt,Rwe=Xf,Pwe=1/0,Wx=Vx?Vx.prototype:void 0,zx=Wx?Wx.toString:void 0;function F4(t){if(typeof t=="string")return t;if(Cwe(t))return Awe(t,F4)+"";if(Rwe(t))return zx?zx.call(t):"";var e=t+"";return e=="0"&&1/t==-Pwe?"-0":e}var vA=F4,Owe=vA;function kwe(t){return t==null?"":Owe(t)}var Iu=kwe,xwe=yt,Dwe=gA,Nwe=M4,$we=Iu;function Lwe(t,e){return xwe(t)?t:Dwe(t,e)?[t]:Nwe($we(t))}var xc=Lwe,Mwe=Xf,Fwe=1/0;function Uwe(t){if(typeof t=="string"||Mwe(t))return t;var e=t+"";return e=="0"&&1/t==-Fwe?"-0":e}var Tu=Uwe,Bwe=xc,jwe=Tu;function Vwe(t,e){e=Bwe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jwe(e[n++])];return n&&n==r?t:void 0}var l_=Vwe,Wwe=l_;function zwe(t,e,n){var r=t==null?void 0:Wwe(t,e);return r===void 0?n:r}var Yi=zwe;function qwe(t,e){return t!=null&&e in Object(t)}var Hwe=qwe,Gwe=xc,Kwe=Zf,Qwe=yt,Ywe=Sc,Xwe=tA,Jwe=Tu;function Zwe(t,e,n){e=Gwe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Jwe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Xwe(i)&&Ywe(o,i)&&(Qwe(t)||Kwe(t)))}var U4=Zwe,e0e=Hwe,t0e=U4;function n0e(t,e){return t!=null&&t0e(t,e,e0e)}var B4=n0e,r0e=mA,i0e=Yi,s0e=B4,o0e=gA,a0e=N4,u0e=$4,l0e=Tu,c0e=1,d0e=2;function h0e(t,e){return o0e(t)&&a0e(e)?u0e(l0e(t),e):function(n){var r=i0e(n,t);return r===void 0&&r===e?s0e(n,t):r0e(e,r,c0e|d0e)}}var f0e=h0e;function p0e(t){return function(e){return e==null?void 0:e[t]}}var j4=p0e,m0e=l_;function g0e(t){return function(e){return m0e(e,t)}}var y0e=g0e,v0e=j4,_0e=y0e,w0e=gA,E0e=Tu;function b0e(t){return w0e(t)?v0e(E0e(t)):_0e(t)}var S0e=b0e,I0e=lwe,T0e=f0e,A0e=Qf,C0e=yt,R0e=S0e;function P0e(t){return typeof t=="function"?t:t==null?A0e:typeof t=="object"?C0e(t)?T0e(t[0],t[1]):I0e(t):R0e(t)}var Ur=P0e,O0e=u_,k0e=Ur,x0e=1;function D0e(t){return k0e(typeof t=="function"?t:O0e(t,x0e))}var N0e=D0e,qx=bc,$0e=Zf,L0e=yt,Hx=qx?qx.isConcatSpreadable:void 0;function M0e(t){return L0e(t)||$0e(t)||!!(Hx&&t&&t[Hx])}var F0e=M0e,U0e=oA,B0e=F0e;function V4(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=B0e),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?V4(a,e-1,n,r,i):U0e(i,a):r||(i[i.length]=a)}return i}var c_=V4,j0e=c_;function V0e(t){var e=t==null?0:t.length;return e?j0e(t,1):[]}var W4=V0e,W0e=Xv,Gx=Math.max;function z0e(t,e,n){return e=Gx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Gx(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),W0e(t,this,a)}}var z4=z0e,q0e=W4,H0e=z4,G0e=Y1;function K0e(t){return G0e(H0e(t,void 0,q0e),t+"")}var _A=K0e,Q0e=eA,Y0e=_A,X0e=256,J0e=Y0e(function(t,e){return Q0e(t,X0e,void 0,void 0,void 0,e)}),Z0e=J0e,eEe=kc,tEe=Yf,nEe=yt,rEe=Xf,iEe=M4,sEe=Tu,oEe=Iu;function aEe(t){return nEe(t)?eEe(t,sEe):rEe(t)?[t]:tEe(iEe(oEe(t)))}var uEe=aEe,lEe={ary:Rde,assign:y4,clone:Sve,curry:Ave,forEach:Jv,isArray:yt,isError:Vve,isFunction:Kv,isWeakMap:Gve,iteratee:N0e,keys:n_,rearg:Z0e,toInteger:f4,toPath:uEe},cEe=Noe,dEe=lEe;function hEe(t,e,n){return cEe(dEe,t,e,n)}var d_=hEe,fEe=Ic,pEe=Jf;function mEe(t,e,n){(n!==void 0&&!pEe(t[e],n)||n===void 0&&!(e in t))&&fEe(t,e,n)}var q4=mEe;function gEe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(n(s[u],u,s)===!1)break}return e}}var yEe=gEe,vEe=yEe,_Ee=vEe(),H4=_Ee,wEe=xs,EEe=Jn;function bEe(t){return EEe(t)&&wEe(t)}var wA=bEe;function SEe(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var G4=SEe,IEe=bu,TEe=tp;function AEe(t){return IEe(t,TEe(t))}var CEe=AEe,Kx=q4,REe=Lg.exports,PEe=T4,OEe=Yf,kEe=A4,Qx=Zf,Yx=yt,xEe=wA,DEe=ru.exports,NEe=Kv,$Ee=Bt,LEe=dA,MEe=t_,Xx=G4,FEe=CEe;function UEe(t,e,n,r,i,s,o){var a=Xx(t,n),u=Xx(e,n),l=o.get(u);if(l){Kx(t,n,l);return}var c=s?s(a,u,n+"",t,e,o):void 0,d=c===void 0;if(d){var h=Yx(u),m=!h&&DEe(u),g=!h&&!m&&MEe(u);c=u,h||m||g?Yx(a)?c=a:xEe(a)?c=OEe(a):m?(d=!1,c=REe(u,!0)):g?(d=!1,c=PEe(u,!0)):c=[]:LEe(u)||Qx(u)?(c=a,Qx(a)?c=FEe(a):(!$Ee(a)||NEe(a))&&(c=kEe(u))):d=!1}d&&(o.set(u,c),i(c,u,r,s,o),o.delete(u)),Kx(t,n,c)}var BEe=UEe,jEe=a_,VEe=q4,WEe=H4,zEe=BEe,qEe=Bt,HEe=tp,GEe=G4;function K4(t,e,n,r,i){t!==e&&WEe(e,function(s,o){if(i||(i=new jEe),qEe(s))zEe(t,e,o,n,K4,r,i);else{var a=r?r(GEe(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),VEe(t,o,a)}},HEe)}var EA=K4,KEe=Qf,QEe=z4,YEe=Y1;function XEe(t,e){return YEe(QEe(t,e,KEe),t+"")}var h_=XEe,JEe=Jf,ZEe=xs,ebe=Sc,tbe=Bt;function nbe(t,e,n){if(!tbe(n))return!1;var r=typeof e;return(r=="number"?ZEe(n)&&ebe(e,n.length):r=="string"&&e in n)?JEe(n[e],t):!1}var bA=nbe,rbe=h_,ibe=bA;function sbe(t){return rbe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&ibe(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var SA=sbe,a0,Jx;function Q4(){if(Jx)return a0;Jx=1;var t=EA,e=SA,n=e(function(r,i,s){t(r,i,s)});return a0=n,a0}var obe=d_,Y4=obe("merge",Q4());Y4.placeholder=Kf();var IA=Y4,u0={},abe=H4,ube=Tc;function lbe(t,e){return t&&abe(t,e,ube)}var X4=lbe,cbe=xs;function dbe(t,e){return function(n,r){if(n==null)return n;if(!cbe(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var hbe=dbe,fbe=X4,pbe=hbe,mbe=pbe(fbe),Au=mbe,gbe=Au;function ybe(t,e){var n=[];return gbe(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}var J4=ybe,vbe=iA,_be=J4,wbe=Ur,Ebe=yt;function bbe(t,e){var n=Ebe(t)?vbe:_be;return n(t,wbe(e))}var Z4=bbe,Sbe=Au;function Ibe(t,e){var n;return Sbe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var Tbe=Ibe,Abe=k4,Cbe=Ur,Rbe=Tbe,Pbe=yt,Obe=bA;function kbe(t,e,n){var r=Pbe(t)?Abe:Rbe;return n&&Obe(t,e,n)&&(e=void 0),r(t,Cbe(e))}var TA=kbe,xbe=mA;function Dbe(t,e){return xbe(t,e)}var Dc=Dbe,l0={};function Nbe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var AA=Nbe;function $be(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var e3=$be,Lbe=l_,Mbe=e3;function Fbe(t,e){return e.length<2?t:Lbe(t,Mbe(e,0,-1))}var Ube=Fbe,Bbe=xc,jbe=AA,Vbe=Ube,Wbe=Tu;function zbe(t,e){return e=Bbe(e,t),t=Vbe(t,e),t==null||delete t[Wbe(jbe(e))]}var CA=zbe,qbe=CA,Hbe=Sc,Gbe=Array.prototype,Kbe=Gbe.splice;function Qbe(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;Hbe(i)?Kbe.call(t,i,1):qbe(t,i)}}return t}var Ybe=Qbe,Xbe=Ur,Jbe=Ybe;function Zbe(t,e){var n=[];if(!(t&&t.length))return n;var r=-1,i=[],s=t.length;for(e=Xbe(e);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return Jbe(t,i),n}var eSe=Zbe,tSe=Au,nSe=xs;function rSe(t,e){var n=-1,r=nSe(t)?Array(t.length):[];return tSe(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var iSe=rSe,sSe=kc,oSe=Ur,aSe=iSe,uSe=yt;function lSe(t,e){var n=uSe(t)?sSe:aSe;return n(t,oSe(e))}var Nc=lSe,cSe=c_,dSe=Nc;function hSe(t,e){return cSe(dSe(t,e),1)}var fSe=hSe,c0={},pSe=Object.prototype,mSe=pSe.hasOwnProperty;function gSe(t,e){return t!=null&&mSe.call(t,e)}var ySe=gSe,vSe=ySe,_Se=U4;function wSe(t,e){return t!=null&&_Se(t,e,vSe)}var RA=wSe,ESe=Zv,bSe=xc,SSe=Sc,Zx=Bt,ISe=Tu;function TSe(t,e,n,r){if(!Zx(t))return t;e=bSe(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var u=ISe(e[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=o){var c=a[u];l=r?r(c,u,a):void 0,l===void 0&&(l=Zx(c)?c:SSe(e[i+1])?[]:{})}ESe(a,u,l),a=a[u]}return t}var PA=TSe,ASe=PA;function CSe(t,e,n){return t==null?t:ASe(t,e,n)}var np=CSe,RSe=Qf;function PSe(t){return typeof t=="function"?t:RSe}var OSe=PSe,kSe=Jv,xSe=Au,DSe=OSe,NSe=yt;function $Se(t,e){var n=NSe(t)?kSe:xSe;return n(t,DSe(e))}var f_=$Se,eD;function p_(){return eD||(eD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getChildType=h,t.getPopulateChild=_,t.getPopulateObj=d,t.getPopulateObjs=m,t.getPopulates=g,t.populateList=S,t.promisesForPopulate=v;var e=c(TA),n=c(RA),r=c(np),i=c(f_),s=c(Yi),o=c(Nc),a=c(Bt),u=c(Z4),l=Ji();function c(y){return y&&y.__esModule?y:{default:y}}function d(y){if(!(0,l.isString)(y))return y;var w=y.split(":");return{child:w[0],root:w[1]}}function h(y){return(0,l.isString)(y)?"string":Array.isArray(y)?"array":(0,a.default)(y)?"object":"other"}function m(y){return Array.isArray(y)?y.map(function(w){return(0,a.default)(w)?w:d(w)}):y}function g(y){var w=(0,u.default)(y,function(b){return b.indexOf("populate")!==-1||(0,a.default)(b)&&b.populates}).map(function(b){return b.split("=")[1]});return w.length?w.map(d):null}function _(y,w,b){var T=w.childParam?"/".concat(w.childParam):"",C="".concat(w.root,"/").concat(b).concat(T);return y.database().ref().child(C).once("value").then(function(I){return I.val()})}function S(y,w,b,T){return T[b.root]||(0,r.default)(T,b.root,{}),Promise.all((0,o.default)(w,function(C,I){var A=C===!0||b.populateByKey?I:C;return _(y,b,A).then(function(L){return L?(0,r.default)(T,"".concat(b.root,".").concat(A),L):T})}))}function v(y,w,b,T){var C=[],I={},A=m(typeof T=="function"?T(w,b):T),L=(0,e.default)(A,function(k){return(0,n.default)(b,k.child)});return L?(0,i.default)(A,function(k){return(0,l.isString)((0,s.default)(b,k.child))?C.push(_(y,k,(0,s.default)(b,k.child)).then(function(D){D&&(0,r.default)(I,"".concat(k.root,".").concat((0,s.default)(b,k.child)),D)})):C.push(S(y,(0,s.default)(b,k.child),k,I))}):(0,i.default)(b,function(k,D){var P=d(typeof T=="function"?T(D,k):T);(0,i.default)(P,function(N){var O=(0,s.default)(k,N.child);return O?(0,l.isString)(O)?C.push(_(y,N,O).then(function(U){return U&&(0,r.default)(I,"".concat(N.root,".").concat(O),U),I})):Array.isArray(O)||(0,a.default)(O)?C.push(S(y,O,N,I)):void 0:void 0})}),Promise.all(C).then(function(){return I})}}(c0)),c0}var d0={},LSe=Qi,MSe=Jn,FSe="[object Number]";function USe(t){return typeof t=="number"||MSe(t)&&LSe(t)==FSe}var t3=USe,BSe=t3;function jSe(t){return BSe(t)&&t!=+t}var VSe=jSe,Xi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.v3ErrorMessage=t.topLevelPaths=t.supportedAuthProviders=t.defaultConfig=t.default=t.actionsPrefix=t.actionTypes=void 0,t.actionsPrefix="@@reactReduxFirebase";var e={START:"".concat("@@reactReduxFirebase","/START"),SET:"".concat("@@reactReduxFirebase","/SET"),REMOVE:"".concat("@@reactReduxFirebase","/REMOVE"),MERGE:"".concat("@@reactReduxFirebase","/MERGE"),SET_PROFILE:"".concat("@@reactReduxFirebase","/SET_PROFILE"),LOGIN:"".concat("@@reactReduxFirebase","/LOGIN"),LOGOUT:"".concat("@@reactReduxFirebase","/LOGOUT"),LOGIN_ERROR:"".concat("@@reactReduxFirebase","/LOGIN_ERROR"),NO_VALUE:"".concat("@@reactReduxFirebase","/NO_VALUE"),UNAUTHORIZED_ERROR:"".concat("@@reactReduxFirebase","/UNAUTHORIZED_ERROR"),ERROR:"".concat("@@reactReduxFirebase","/ERROR"),CLEAR_ERRORS:"".concat("@@reactReduxFirebase","/CLEAR_ERRORS"),SET_LISTENER:"".concat("@@reactReduxFirebase","/SET_LISTENER"),UNSET_LISTENER:"".concat("@@reactReduxFirebase","/UNSET_LISTENER"),AUTHENTICATION_INIT_STARTED:"".concat("@@reactReduxFirebase","/AUTHENTICATION_INIT_STARTED"),AUTHENTICATION_INIT_FINISHED:"".concat("@@reactReduxFirebase","/AUTHENTICATION_INIT_FINISHED"),SESSION_START:"".concat("@@reactReduxFirebase","/SESSION_START"),SESSION_END:"".concat("@@reactReduxFirebase","/SESSION_END"),FILE_UPLOAD_START:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_START"),FILE_UPLOAD_ERROR:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_ERROR"),FILE_UPLOAD_PROGRESS:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_PROGRESS"),FILE_UPLOAD_COMPLETE:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_COMPLETE"),FILE_DELETE_START:"".concat("@@reactReduxFirebase","/FILE_DELETE_START"),FILE_DELETE_ERROR:"".concat("@@reactReduxFirebase","/FILE_DELETE_ERROR"),FILE_DELETE_COMPLETE:"".concat("@@reactReduxFirebase","/FILE_DELETE_COMPLETE"),AUTH_UPDATE_START:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_START"),AUTH_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_SUCCESS"),AUTH_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_ERROR"),PROFILE_UPDATE_START:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_START"),PROFILE_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_SUCCESS"),PROFILE_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_ERROR"),EMAIL_UPDATE_START:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_START"),EMAIL_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_SUCCESS"),EMAIL_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_ERROR"),AUTH_RELOAD_START:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_START"),AUTH_RELOAD_ERROR:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_ERROR"),AUTH_RELOAD_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_SUCCESS"),AUTH_LINK_START:"".concat("@@reactReduxFirebase","/AUTH_LINK_START"),AUTH_LINK_ERROR:"".concat("@@reactReduxFirebase","/AUTH_LINK_ERROR"),AUTH_LINK_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_LINK_SUCCESS"),AUTH_EMPTY_CHANGE:"".concat("@@reactReduxFirebase","/AUTH_EMPTY_CHANGE")};t.actionTypes=e;var n={userProfile:null,presence:null,sessions:"sessions",enableLogging:!1,logErrors:!0,preserveOnLogout:null,preserveOnEmptyAuthChange:null,resetBeforeLogin:!0,updateProfileOnLogin:!0,enableRedirectHandling:!0,autoPopulateProfile:!1,setProfilePopulateResults:!1,dispatchOnUnsetListener:!0,dispatchRemoveAction:!1,enableEmptyAuthChanges:!0,firebaseStateName:"firebase",attachAuthIsReady:!1,keysToRemoveFromAuth:["appName","apiKey","authDomain","redirectEventId","stsTokenManager","uid"],keysToPreserveFromProviderData:["email","phoneNumber","photoURL","providerId","uid"]};t.defaultConfig=n;var r=["google","github","twitter","facebook","microsoft.com","apple.com","yahoo.com"];t.supportedAuthProviders=r;var i=["auth","profile","ordered","data"];t.topLevelPaths=i,t.v3ErrorMessage="Context from react-redux not found. If you are using react-redux v6 a v3.*.* version of react-redux-firebase is required. Please checkout the v3 migration guide: http://bit.ly/2SRNdiO";var s={actionTypes:e,defaultConfig:n};t.default=s})(Xi);var tD;function n3(){return tD||(tD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.applyParamsToQuery=m,t.getQueryIdFromPath=l,t.getWatchPath=u,t.getWatcherCount=d,t.orderedFromSnapshot=g,t.populateAndDispatch=_,t.setWatcher=c,t.unsetWatcher=h;var e=o(f_),n=o(VSe),r=Xi,i=p_(),s=Ji();function o(S){return S&&S.__esModule?S:{default:S}}function a(S){var v=+S;return(0,n.default)(v)?S:v}function u(S,v){if(!S||S===""||!v)throw new Error("Event and path are required");return"".concat(S,":").concat(v.substring(0,1)==="/"?"":"/").concat(v)}function l(S,v){if(!(0,s.isString)(S))throw new Error("Query path must be a string");var y=S,w=S.split("#");S=w[0];var b=1<w.length,T=b?w[1].split("&"):[],C=b?T.map(function(I){var A=I.split("=");if(A[0]==="queryId")return A[1]}).filter(function(I){return I}):void 0;return C&&0<C.length?v?"".concat(v,":/").concat(C):C[0]:b?y:void 0}function c(S,v,y,w,b){var T=b||l(w,y)||u(y,w);return S._.watchers[T]?S._.watchers[T]++:S._.watchers[T]=1,v({type:r.actionTypes.SET_LISTENER,path:w,payload:{id:T}}),S._.watchers[T]}function d(S,v,y,w){var b=w||l(y,v)||u(v,y);return S._.watchers[b]}function h(S,v,y,w,b){var T=b||l(w,y)||u(y,w);w=w.split("#")[0];var C=S._.watchers;1>=C[T]?(delete C[T],y!=="first_child"&&y!=="once"&&S.database().ref().child(w).off(y)):C[T]&&C[T]--,v({type:r.actionTypes.UNSET_LISTENER,path:w,payload:{id:T}})}function m(S,v){var y=!1;return S&&S.forEach(function(w){switch(w=w.split("="),w[0]){case"orderByValue":v=v.orderByValue(),y=!0;break;case"orderByPriority":v=v.orderByPriority(),y=!0;break;case"orderByKey":v=v.orderByKey(),y=!0;break;case"orderByChild":v=v.orderByChild(w[1]);break;case"limitToFirst":v=v.limitToFirst(parseInt(w[1],10));break;case"limitToLast":v=v.limitToLast(parseInt(w[1],10));break;case"notParsed":y=!0;break;case"parsed":y=!1;break;case"equalTo":var b=y?w[1]:a(w[1]);b=b==="null"?null:b,b=b!=="false"&&b,b=b==="true"||b,v=w.length===3?v.equalTo(b,w[2]):v.equalTo(b);break;case"startAt":var T=y?w[1]:a(w[1]);T=T==="null"?null:T,v=w.length===3?v.startAt(T,w[2]):v.startAt(T);break;case"endAt":var C=y?w[1]:a(w[1]);C=C==="null"?null:C,v=w.length===3?v.endAt(C,w[2]):v.endAt(C)}}),v}function g(S){if(S.hasChildren&&!S.hasChildren())return null;var v=[];return S.forEach&&S.forEach(function(y){v.push({key:y.key,value:y.val()})}),v.length?v:null}function _(S,v,y){var w=y.data,b=y.populates,T=y.snapshot,C=y.path,I=y.storeAs;return(0,i.promisesForPopulate)(S,T.key,w,b).then(function(A){return(0,e.default)(A,function(L,k){v({type:r.actionTypes.MERGE,path:k,data:L})}),v({type:r.actionTypes.SET,path:I||C,data:w,ordered:g(T)}),A}).catch(function(A){return v({type:r.actionTypes.ERROR,payload:A}),Promise.reject(A)})}}(d0)),d0}var nD;function WSe(){return nD||(nD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getEventsFromInput=u,t.pathStrToObj=a;var e=o(eSe),n=o(Bt),r=o(fSe),i=p_(),s=n3();function o(c){return c&&c.__esModule?c:{default:c}}function a(c){var d={path:c,type:"value",isQuery:!1},h=(0,s.getQueryIdFromPath)(c);if(h){var m=c.split("#");d=Object.assign({},d,{queryId:h,isQuery:!0,path:m[0],queryParams:m[1].split("&")}),(0,i.getPopulates)(m[1].split("&"))&&(d.populates=(0,i.getPopulates)(m[1].split("&")),d.queryParams=(0,e.default)(m[1].split("&"),function(g){return g.indexOf("populate")===-1}))}return d}function u(c){return(0,r.default)(c,function(d){if(typeof d=="string"||d instanceof String)return[a(d)];if(Array.isArray(d))return[{type:"first_child",path:d[0]},{type:"child_added",path:d[0]},{type:"child_removed",path:d[0]},{type:"child_moved",path:d[0]},{type:"child_changed",path:d[0]}];if((0,n.default)(d)){if(!d.path)throw new Error("Path is a required parameter within definition object");var h=d.path;return d.storeAs&&(h+="@".concat(d.storeAs)),d.queryParams&&(h+="#".concat(d.queryParams.join("&"))),d=Object.assign({},a(h),d),[d]}throw new Error("Invalid Path Definition: ".concat(d,". Only strings, objects, and arrays accepted."))})}var l={getEventsFromInput:u};t.default=l}(l0)),l0}var rD;function Ji(){return rD||(rD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createCallable=u,t.getChanges=h,Object.defineProperty(t,"getEventsFromInput",{enumerable:!0,get:function(){return s.getEventsFromInput}}),t.invokeArrayQuery=l,t.isString=a,t.wrapDisplayName=d;var e=o(Z4),n=o(TA),r=o(Dc),i=o(s4),s=WSe();function o(m){return m&&m.__esModule?m:{default:m}}function a(m){return typeof m=="string"||m instanceof String}function u(m){return typeof m=="function"?m:(0,i.default)(m)}function l(m,g){var _=u(m)(g);return Array.isArray(_)?_:_?[_]:null}function c(m){return typeof m=="string"?m:m?m.displayName||m.name||"Component":void 0}function d(m,g){return"".concat(g,"(").concat(c(m),")")}function h(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],_={};return _.added=(0,e.default)(m,function(S){return!(0,n.default)(g,function(v){return(0,r.default)(S,v)})}),_.removed=(0,e.default)(g,function(S){return!(0,n.default)(m,function(v){return(0,r.default)(S,v)})}),_}}(u0)),u0}var OA={},zSe=Ic,qSe=X4,HSe=Ur;function GSe(t,e){var n={};return e=HSe(e),qSe(t,function(r,i,s){zSe(n,i,e(r,i,s))}),n}var kA=GSe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapWithFirebaseAndDispatch=w,t.wrapInDispatch=v;var e=r(kA),n=r(Bt);function r(b){return b&&b.__esModule?b:{default:b}}function i(b,T){var C=Object.keys(b);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(b);T&&(I=I.filter(function(A){return Object.getOwnPropertyDescriptor(b,A).enumerable})),C.push.apply(C,I)}return C}function s(b){for(var T,C=1;C<arguments.length;C++)T=arguments[C]==null?{}:arguments[C],C%2?i(Object(T),!0).forEach(function(I){o(b,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(b,I,Object.getOwnPropertyDescriptor(T,I))});return b}function o(b,T,C){return T in b?Object.defineProperty(b,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):b[T]=C,b}function a(b){return c(b)||l(b)||m(b)||u()}function u(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}function c(b){if(Array.isArray(b))return g(b)}function d(b,T){return S(b)||_(b,T)||m(b,T)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(b,T){if(b){if(typeof b=="string")return g(b,T);var C=Object.prototype.toString.call(b).slice(8,-1);return C==="Object"&&b.constructor&&(C=b.constructor.name),C==="Map"||C==="Set"?Array.from(b):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?g(b,T):void 0}}function g(b,T){(T==null||T>b.length)&&(T=b.length);for(var C=0,I=Array(T);C<T;C++)I[C]=b[C];return I}function _(b,T){var C=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(C!=null){var I,A,L=[],k=!0,D=!1;try{for(C=C.call(b);!(k=(I=C.next()).done)&&(L.push(I.value),!(T&&L.length===T));k=!0);}catch(P){D=!0,A=P}finally{try{k||C.return==null||C.return()}finally{if(D)throw A}}return L}}function S(b){if(Array.isArray(b))return b}function v(b,T){var C=T.meta,I=T.method,A=T.args,L=A===void 0?[]:A,k=T.types,D=d(k,3),P=D[0],N=D[1],O=D[2];return b({type:(0,n.default)(P)?P.type:P,meta:C,payload:(0,n.default)(P)?P.payload:{args:L}}),I.apply(void 0,a(L)).then(function(U){return b({type:(0,n.default)(N)?N.type:N,meta:C,payload:(0,n.default)(N)?N.payload:U}),U}).catch(function(U){return b({type:O,meta:C,payload:U}),Promise.reject(U)})}function y(b,T,C){return function(I){return function(){for(var A=arguments.length,L=Array(A),k=0;k<A;k++)L[k]=arguments[k];return I.apply(b,C?[T,b].concat(L):[b,T].concat(L))}}}function w(b,T,C,I){var A=y(b,T),L=y(b,T,!0);return s(s({},(0,e.default)(C,A)),(0,e.default)(I,L))}})(OA);var r3={},KSe=l_,QSe=PA,YSe=xc;function XSe(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=KSe(t,o);n(a,o)&&QSe(s,YSe(o,t),a)}return s}var i3=XSe,JSe=i3,ZSe=B4;function eIe(t,e){return JSe(t,e,function(n,r){return ZSe(t,r)})}var tIe=eIe,nIe=tIe,rIe=_A,iIe=rIe(function(t,e){return t==null?{}:nIe(t,e)}),m_=iIe,sIe=dA;function oIe(t){return sIe(t)?void 0:t}var aIe=oIe,uIe=kc,lIe=u_,cIe=CA,dIe=xc,hIe=bu,fIe=aIe,pIe=_A,mIe=uA,gIe=1,yIe=2,vIe=4,_Ie=pIe(function(t,e){var n={};if(t==null)return n;var r=!1;e=uIe(e,function(s){return s=dIe(s,t),r||(r=s.length>1),s}),hIe(t,mIe(t),n),r&&(n=lIe(n,gIe|yIe|vIe,fIe));for(var i=e.length;i--;)cIe(n,e[i]);return n}),g_=_Ie,xA={},wIe=EA,iD=Bt;function s3(t,e,n,r,i,s){return iD(t)&&iD(e)&&(s.set(e,t),wIe(t,e,void 0,s3,s),s.delete(e)),t}var EIe=s3,bIe=EA,SIe=SA,IIe=SIe(function(t,e,n,r){bIe(t,e,n,r)}),TIe=IIe,AIe=Xv,CIe=h_,RIe=EIe,PIe=TIe,OIe=CIe(function(t){return t.push(void 0,RIe),AIe(PIe,void 0,t)}),kIe=OIe;function xIe(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}var DIe=xIe;function NIe(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}var $Ie=NIe,LIe=DIe,MIe=Au,FIe=Ur,UIe=$Ie,BIe=yt;function jIe(t,e,n){var r=BIe(t)?LIe:UIe,i=arguments.length<3;return r(t,FIe(e),n,i,MIe)}var VIe=jIe,WIe=Qi,zIe=yt,qIe=Jn,HIe="[object String]";function GIe(t){return typeof t=="string"||!zIe(t)&&qIe(t)&&WIe(t)==HIe}var KIe=GIe,QIe=j4,YIe=QIe("length"),XIe=YIe,JIe="\\ud800-\\udfff",ZIe="\\u0300-\\u036f",eTe="\\ufe20-\\ufe2f",tTe="\\u20d0-\\u20ff",nTe=ZIe+eTe+tTe,rTe="\\ufe0e\\ufe0f",iTe="\\u200d",sTe=RegExp("["+iTe+JIe+nTe+rTe+"]");function oTe(t){return sTe.test(t)}var DA=oTe,o3="\\ud800-\\udfff",aTe="\\u0300-\\u036f",uTe="\\ufe20-\\ufe2f",lTe="\\u20d0-\\u20ff",cTe=aTe+uTe+lTe,dTe="\\ufe0e\\ufe0f",hTe="["+o3+"]",$b="["+cTe+"]",Lb="\\ud83c[\\udffb-\\udfff]",fTe="(?:"+$b+"|"+Lb+")",a3="[^"+o3+"]",u3="(?:\\ud83c[\\udde6-\\uddff]){2}",l3="[\\ud800-\\udbff][\\udc00-\\udfff]",pTe="\\u200d",c3=fTe+"?",d3="["+dTe+"]?",mTe="(?:"+pTe+"(?:"+[a3,u3,l3].join("|")+")"+d3+c3+")*",gTe=d3+c3+mTe,yTe="(?:"+[a3+$b+"?",$b,u3,l3,hTe].join("|")+")",sD=RegExp(Lb+"(?="+Lb+")|"+yTe+gTe,"g");function vTe(t){for(var e=sD.lastIndex=0;sD.test(t);)++e;return e}var _Te=vTe,wTe=XIe,ETe=DA,bTe=_Te;function STe(t){return ETe(t)?bTe(t):wTe(t)}var ITe=STe,TTe=n_,ATe=Su,CTe=xs,RTe=KIe,PTe=ITe,OTe="[object Map]",kTe="[object Set]";function xTe(t){if(t==null)return 0;if(CTe(t))return RTe(t)?PTe(t):t.length;var e=ATe(t);return e==OTe||e==kTe?t.size:TTe(t).length}var NA=xTe,y_={},DTe=CA;function NTe(t,e){return t==null?!0:DTe(t,e)}var h3=NTe,$Te=d_,f3=$Te("unset",h3);f3.placeholder=Kf();var LTe=f3;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=h,t.getDotStrPath=d,t.getSlashStrPath=c,t.pathToArr=l,t.preserveValuesFromState=m,t.recursiveUnset=g;var e=s(LTe),n=s(m_),r=s(NA),i=s(Yi);function s(_){return _&&_.__esModule?_:{default:_}}function o(_,S){var v=Object.keys(_);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(_);S&&(y=y.filter(function(w){return Object.getOwnPropertyDescriptor(_,w).enumerable})),v.push.apply(v,y)}return v}function a(_){for(var S,v=1;v<arguments.length;v++)S=arguments[v]==null?{}:arguments[v],v%2?o(Object(S),!0).forEach(function(y){u(_,y,S[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(S)):o(Object(S)).forEach(function(y){Object.defineProperty(_,y,Object.getOwnPropertyDescriptor(S,y))});return _}function u(_,S,v){return S in _?Object.defineProperty(_,S,{value:v,enumerable:!0,configurable:!0,writable:!0}):_[S]=v,_}function l(_){return _?_.split(/\//).filter(function(S){return!!S}):[]}function c(_){return l(_).join("/")}function d(_){return l(_).join(".")}function h(_){return function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},v=1<arguments.length?arguments[1]:void 0;return Object.keys(_).reduce(function(y,w){return y[w]=_[w](S[w],v),y},{})}}function m(_,S,v){if(typeof S=="function")return S(_,v);if(S===!0)return v?a(a({},_),v):_;if(Array.isArray(S))return(0,n.default)(_,S);throw new Error("Invalid preserve parameter. It must be an Object or an Array")}function g(_,S){var v=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(!_||0<(0,r.default)((0,i.default)(S,_))&&v)return S;var y=(0,e.default)(_,S),w=_.match(/\./)?_.replace(/\.[^.]*$/,""):"";return g(w,y,!0)}})(y_);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fixPath=k,t.getVal=I,t.isEmpty=L,t.isLoaded=A,t.populate=N;var e=m(TA),n=m(kIe),r=m(VIe),i=m(kA),s=m(Nc),o=m(RA),a=m(Yi),u=m(np),l=m(NA),c=Xi,d=p_(),h=y_;function m(O){return O&&O.__esModule?O:{default:O}}function g(O){return y(O)||v(O)||S(O)||_()}function _(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(O,U){if(O){if(typeof O=="string")return w(O,U);var F=Object.prototype.toString.call(O).slice(8,-1);return F==="Object"&&O.constructor&&(F=O.constructor.name),F==="Map"||F==="Set"?Array.from(O):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?w(O,U):void 0}}function v(O){if(typeof Symbol<"u"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}function y(O){if(Array.isArray(O))return w(O)}function w(O,U){(U==null||U>O.length)&&(U=O.length);for(var F=0,G=Array(U);F<U;F++)G[F]=O[F];return G}function b(O,U){var F=Object.keys(O);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(O);U&&(G=G.filter(function(q){return Object.getOwnPropertyDescriptor(O,q).enumerable})),F.push.apply(F,G)}return F}function T(O){for(var U,F=1;F<arguments.length;F++)U=arguments[F]==null?{}:arguments[F],F%2?b(Object(U),!0).forEach(function(G){C(O,G,U[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(U)):b(Object(U)).forEach(function(G){Object.defineProperty(O,G,Object.getOwnPropertyDescriptor(U,G))});return O}function C(O,U,F){return U in O?Object.defineProperty(O,U,{value:F,enumerable:!0,configurable:!0,writable:!0}):O[U]=F,O}function I(O,U,F){if(!O)return F;var G=(0,h.getDotStrPath)(U),q=(0,a.default)(O,G,F);return q}function A(){for(var O=arguments.length,U=Array(O),F=0;F<O;F++)U[F]=arguments[F];return!(U&&U.length)||U.every(function(G){return G!==void 0&&(0,a.default)(G,"isLoaded")!==!1})}function L(){for(var O=arguments.length,U=Array(O),F=0;F<O;F++)U[F]=arguments[F];return!(U&&U.length)||U.some(function(G){return!(G&&(0,l.default)(G))||G.isEmpty===!0})}function k(O){return(O.substring(0,1)==="/"?"":"/")+O}function D(O,U,F){var G=Array.isArray(U)?s.default:i.default;return G(U,function(q,re){var se=q;(q===!0||F.populateByKey)&&(se=re);var he=(0,h.getDotStrPath)(F.root),ve=[he,se];F.childParam&&ve.push(F.childParam);var Te=ve.join(".");return(0,a.default)(O.data,Te)?F.keyProp?T(C({},F.keyProp,se),(0,a.default)(O.data,Te)):(0,a.default)(O.data,Te):q===!0||F.populateByKey?q:se})}function P(O,U,F){var G=(0,a.default)(U,F.child);if(!U||!G)return null;if(typeof G=="string"||G instanceof String){var q=(F.storeAs?F.storeAs:F.root).split("/").filter(Boolean).join("."),re=[q,G];F.childParam&&re.push(F.childParam);var se=re.join("."),he=(0,a.default)(O.data,se);return he?(0,u.default)({},F.childAlias||F.child,F.keyProp?T(C({},F.keyProp,G),he):he):U}return(0,u.default)({},F.childAlias||F.child,D(O,G,F))}function N(O,U,F,G){var q=U.split("/").filter(Boolean),re=c.topLevelPaths.indexOf(q[0])===-1?["data"].concat(g(q)):q,se=re.join("."),he=(0,a.default)(O,se,G);if(!O||he===G)return G;if(he===null)return null;var ve=(0,d.getPopulateObjs)(typeof F=="function"?F(re.slice(-1)[0],he):F);if(Array.isArray(he)){var Te=function(H){return function(te){return(0,e.default)(H,function(fe){return(0,o.default)(fe,te)})}},$e=(0,e.default)(ve,function(H){return Te(he)(["value",H.child])});return $e?he.map(function(H){var te=H.key,fe=H.value,we=ve.map(function(Xe){return P(O,fe,Xe)}).reduce(function(Xe,x){return(0,n.default)(x,Xe)},fe);return{key:te,value:we}}):he}var oe=(0,e.default)(ve,function(H){return(0,o.default)(he,H.child)});return oe?ve.map(function(H){return P(O,he,H)}).reduce(function(H,te){return(0,n.default)(te,H)},he):re.indexOf("profile")===-1?(0,i.default)(he,function(H,te){var fe=re[0]==="ordered"?H.key:te,we=(0,d.getPopulateObjs)(typeof F=="function"?F(fe,H):F),Xe=(0,e.default)(we,function(x){return(0,o.default)(H,x.child)});return Xe?(0,r.default)((0,s.default)(we,function(x){return P(O,H,x)}),function(x,$){return(0,n.default)($,x)},H):H}):he}})(xA);var $A={},MTe=e3;function FTe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:MTe(t,e,n)}var LA=FTe;function UTe(t){return t.split("")}var BTe=UTe,p3="\\ud800-\\udfff",jTe="\\u0300-\\u036f",VTe="\\ufe20-\\ufe2f",WTe="\\u20d0-\\u20ff",zTe=jTe+VTe+WTe,qTe="\\ufe0e\\ufe0f",HTe="["+p3+"]",Mb="["+zTe+"]",Fb="\\ud83c[\\udffb-\\udfff]",GTe="(?:"+Mb+"|"+Fb+")",m3="[^"+p3+"]",g3="(?:\\ud83c[\\udde6-\\uddff]){2}",y3="[\\ud800-\\udbff][\\udc00-\\udfff]",KTe="\\u200d",v3=GTe+"?",_3="["+qTe+"]?",QTe="(?:"+KTe+"(?:"+[m3,g3,y3].join("|")+")"+_3+v3+")*",YTe=_3+v3+QTe,XTe="(?:"+[m3+Mb+"?",Mb,g3,y3,HTe].join("|")+")",JTe=RegExp(Fb+"(?="+Fb+")|"+XTe+YTe,"g");function ZTe(t){return t.match(JTe)||[]}var e1e=ZTe,t1e=BTe,n1e=DA,r1e=e1e;function i1e(t){return n1e(t)?r1e(t):t1e(t)}var MA=i1e,s1e=LA,o1e=DA,a1e=MA,u1e=Iu;function l1e(t){return function(e){e=u1e(e);var n=o1e(e)?a1e(e):void 0,r=n?n[0]:e.charAt(0),i=n?s1e(n,1).join(""):e.slice(1);return r[t]()+i}}var c1e=l1e,d1e=c1e,h1e=d1e("toUpperCase"),f1e=h1e,p1e=Iu,m1e=f1e;function g1e(t){return m1e(p1e(t).toLowerCase())}var y1e=g1e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.authIsReady=u,t.createAuthIsReady=l,t.getLoginMethodAndParams=s,t.getReauthenticateMethodAndParams=o,t.setupPresence=h,t.updateProfileOnFirestore=d,t.updateProfileOnRTDB=c;var e=r(y1e),n=Xi;function r(m){return m&&m.__esModule?m:{default:m}}function i(m,g,_){var S=g.toLowerCase();if(S==="microsoft.com"||S==="apple.com"||S==="yahoo.com"){var v=new m.auth.OAuthProvider(g);return v}var y="".concat((0,e.default)(g),"AuthProvider");if(!m.auth[y])throw new Error("".concat(g," is not a valid auth provider for your firebase instance. If using react-native, use a RN specific auth library."));var w=new m.auth[y],b=m._.config.customAuthParameters;return b&&b[g]&&w.setCustomParameters(b[g]),S==="twitter"||typeof w.addScope!="function"||(w.addScope("email"),_&&(Array.isArray(_)&&_.forEach(function(T){w.addScope(T)}),(typeof _=="string"||_ instanceof String)&&w.addScope(_))),w}function s(m,g){var _=g.email,S=g.password,v=g.provider,y=g.type,w=g.token,b=g.scopes,T=g.phoneNumber,C=g.applicationVerifier,I=g.credential,A=g.emailLink;if(I){var L=m.auth().signInAndRetrieveDataWithCredential;return L?{method:"signInAndRetrieveDataWithCredential",params:[I]}:{method:"signInWithCredential",params:[I]}}if(v){if(n.supportedAuthProviders.indexOf(v.toLowerCase())===-1)throw new Error("".concat(v," is not a valid Auth Provider"));if(w)throw new Error("provider with token no longer supported, use credential parameter instead");var k=i(m,v,b);return y==="popup"?{method:"signInWithPopup",params:[k]}:{method:"signInWithRedirect",params:[k]}}if(w){var D=m.auth().signInAndRetrieveDataWithCustomToken;return D?{method:"signInAndRetrieveDataWithCustomToken",params:[w]}:{method:"signInWithCustomToken",params:[w]}}if(T){if(!C)throw new Error("Application verifier is required for phone authentication");return{method:"signInWithPhoneNumber",params:[T,C]}}return A&&_?{method:"signInWithEmailLink",params:[_,A]}:m.auth().signInWithEmailAndPassword?{method:"signInWithEmailAndPassword",params:[_,S]}:{method:"signInAndRetrieveDataWithEmailAndPassword",params:[_,S]}}function o(m,g){var _=g.provider,S=g.type,v=g.scopes,y=g.phoneNumber,w=g.applicationVerifier,b=g.credential;if(b){var T=m.auth().reauthenticateAndRetrieveDataWithCredential;return T?{method:"reauthenticateAndRetrieveDataWithCredential",params:[b]}:{method:"reauthenticateWithCredential",params:[b]}}if(_){if(n.supportedAuthProviders.indexOf(_.toLowerCase())===-1)throw new Error("".concat(_," is not a valid Auth Provider"));var C=i(m,_,v);return S==="popup"?{method:"reauthenticateWithPopup",params:[C]}:{method:"reauthenticateWithRedirect",params:[C]}}if(!w)throw new Error("Application verifier is required for phone authentication");return{method:"reauthenticateWithPhoneNumber",params:[y,w]}}function a(m,g){var _=m.getState(),S=g?_[g]:_,v=S&&S.auth;if(!v)throw new Error("The Firebase auth state could not be found in the store under the attribute '".concat(g?"".concat(g,"."):"","auth'. Make sure your react-redux-firebase reducer is correctly set in the store"));return S.auth.isLoaded}function u(m){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"firebase";return new Promise(function(_){if(a(m,g))_();else var S=m.subscribe(function(){a(m,g)&&(S(),_())})})}function l(m,g){return typeof g.authIsReady=="function"?g.authIsReady(m,g):u(m,g.firebaseStateName)}function c(m,g){var _=m._,S=_.config,v=_.authUid,y=m.database().ref("".concat(S.userProfile,"/").concat(v));return y.update(g).then(function(){return y.once("value")})}function d(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},S=_.useSet,v=_.merge,y=m.firestore,w=m._,b=w.config,T=w.authUid,C=y().doc("".concat(b.userProfile,"/").concat(T)),I=S===void 0||S?C.set(g,{merge:v===void 0||v}):C.update(g);return I.then(function(){return C.get()})}function h(m,g){if(g.database&&g.database.ServerValue){var _=g.database().ref(),S=g._,v=S.config,y=v.presence,w=v.sessions,b=S.authUid,T=_.child(".info/connected"),C=_.child(typeof y=="function"?y(g.auth().currentUser,g):y).child(b),I=typeof w=="function"?w(g.auth().currentUser,g):w;I&&(I=_.child(w)),T.on("value",function(A){if(A.val()){if(I){m({type:n.actionTypes.SESSION_START,payload:b});var L=I.push({startedAt:g.database.ServerValue.TIMESTAMP,user:b});typeof L.setPriority=="function"&&L.setPriority(b),L.child("endedAt").onDisconnect().set(g.database.ServerValue.TIMESTAMP,function(){m({type:n.actionTypes.SESSION_END})})}C.set(!0),C.onDisconnect().remove()}})}}})($A);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createUserProfile=t.createUser=t.confirmPasswordReset=t.applyActionCode=void 0,t.handleProfileWatchResponse=C,t.init=t.handleRedirectResult=void 0,t.linkAndRetrieveDataWithCredential=te,t.linkWithCredential=void 0,t.linkWithPopup=fe,t.linkWithRedirect=we,t.resetPassword=t.reloadAuth=t.reauthenticate=t.logout=t.login=void 0,t.signInWithPhoneNumber=Xe,t.unWatchUserProfile=b,t.watchUserProfile=t.verifyPasswordResetCode=t.updateProfile=t.updateEmail=t.updateAuth=void 0;var e=l(m_),n=l(g_),r=l(f_),i=Xi,s=xA,o=Ji(),a=$A,u=p_();function l(x){return x&&x.__esModule?x:{default:x}}function c(x){return g(x)||m(x)||h(x)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(x,$){if(x){if(typeof x=="string")return _(x,$);var B=Object.prototype.toString.call(x).slice(8,-1);return B==="Object"&&x.constructor&&(B=x.constructor.name),B==="Map"||B==="Set"?Array.from(x):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?_(x,$):void 0}}function m(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}function g(x){if(Array.isArray(x))return _(x)}function _(x,$){($==null||$>x.length)&&($=x.length);for(var B=0,K=Array($);B<$;B++)K[B]=x[B];return K}function S(x,$){var B=Object.keys(x);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(x);$&&(K=K.filter(function(ce){return Object.getOwnPropertyDescriptor(x,ce).enumerable})),B.push.apply(B,K)}return B}function v(x){for(var $,B=1;B<arguments.length;B++)$=arguments[B]==null?{}:arguments[B],B%2?S(Object($),!0).forEach(function(K){y(x,K,$[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors($)):S(Object($)).forEach(function(K){Object.defineProperty(x,K,Object.getOwnPropertyDescriptor($,K))});return x}function y(x,$,B){return $ in x?Object.defineProperty(x,$,{value:B,enumerable:!0,configurable:!0,writable:!0}):x[$]=B,x}function w(x,$){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return x(v(v({type:i.actionTypes.LOGIN_ERROR},B),{},{authError:$}))}function b(x){var $=x._,B=$.authUid,K=$.config,ce=K.userProfile,le=K.useFirestoreForProfile;x._.profileWatch&&(le&&x.firestore?x._.profileWatch():ce&&x.database&&x.database().ref().child("".concat(ce,"/").concat(B)).off("value",x._.profileWatch),x._.profileWatch=null)}function T(x){return x&&x.val?x.val():x&&x.data&&x.exists?x.data():null}function C(x,$,B,K){var ce=$._.config,le=ce.profileParamsToPopulate,z=ce.autoPopulateProfile,V=ce.useFirestoreForProfile,Q=ce.logErrors,_e=T(B);le&&!V&&(Array.isArray(le)||(0,o.isString)(le))?(0,u.promisesForPopulate)($,B.key,_e,le).then(function(Pt){if((0,r.default)(Pt,function(Ns,$s){x({type:i.actionTypes.SET,path:$s,data:Ns,timestamp:Date.now(),requesting:!1,requested:!0})}),!z)x({type:i.actionTypes.SET_PROFILE,profile:K?v(v({},_e),{},{token:K}):_e});else{var $t=(0,u.getPopulateObjs)(le),Rn=B.val();x({type:i.actionTypes.SET_PROFILE,profile:(0,s.populate)({profile:K?v(v({},Rn),{},{token:K}):Rn,data:Pt},"profile",$t)})}}).catch(function(Pt){Q&&console.error("RRF: Error retrieving data for profile population. Firebase:",Pt),x({type:i.actionTypes.UNAUTHORIZED_ERROR,authError:"Error during profile population: ".concat(Pt.message)}),x({type:i.actionTypes.SET_PROFILE,profile:_e})}):(V&&le&&console.warn("Profile population is not yet supported for Firestore"),x({type:i.actionTypes.SET_PROFILE,profile:K?v(v({},_e),{},{token:K}):_e}))}function I(x,$){var B=$._.config,K=B.onProfileListenerError,ce=B.logErrors;return function(le){if(ce&&console.error("Error with profile listener: ".concat(le.message||""),le),typeof K=="function"){var z=K(le,$);if(typeof z.then=="function")return z}return Promise.reject(le)}}var A=function(x,$){var B=$._,K=B.authUid,ce=B.config,le=ce.userProfile,z=ce.useFirestoreForProfile,V=ce.enableClaims;if(b($),!le)V&&($._.profileWatch=$.auth().currentUser.getIdTokenResult(!0).then(function(Q){x({type:i.actionTypes.SET_PROFILE,profile:{token:Q}})}));else if(z&&$.firestore)$._.profileWatch=$.firestore().collection(le).doc(K).onSnapshot(function(Q){return V?$.auth().currentUser.getIdTokenResult(!0).then(function(_e){return C(x,$,Q,_e)}):C(x,$,Q,null)},I(x,$));else if($.database)$._.profileWatch=$.database().ref().child("".concat(le,"/").concat(K)).on("value",function(Q){V?$.auth().currentUser.getIdTokenResult(!0).then(function(_e){return C(x,$,Q,_e)}):C(x,$,Q,null)},I(x,$));else throw new Error("Real Time Database or Firestore must be included to enable user profile")};t.watchUserProfile=A;var L=function(x,$,B,K){var ce=$._.config;if(!ce.userProfile||!$.database&&!$.firestore)return Promise.resolve(B);if(typeof ce.profileFactory=="function")try{K=ce.profileFactory(B,K,$)}catch(le){return console.error("Error occurred within profileFactory function:",le.message||le),Promise.reject(le)}return ce.useFirestoreForProfile?$.firestore().collection(ce.userProfile).doc(B.uid||B.user.uid).get().then(function(le){if(!ce.updateProfileOnLogin&&le.exists)return le.data();var z=K;if(!z){var V=B.uid?B.toJSON?B.toJSON():B:B.user.toJSON?B.user.toJSON():B.user;z=v(v({},(0,n.default)(V,ce.keysToRemoveFromAuth)),{},{avatarUrl:V.photoURL})}return Array.isArray(z.providerData)&&(z.providerData=z.providerData.map(function(Q){return(0,e.default)(Q,ce.keysToPreserveFromProviderData)})),le.ref.set(z,{merge:!0}).then(function(){return z})}).catch(function(le){return x({type:i.actionTypes.UNAUTHORIZED_ERROR,authError:le}),Promise.reject(le)}):$.database().ref().child("".concat(ce.userProfile,"/").concat(B.user?B.user.uid:B.uid)).once("value").then(function(le){return ce.updateProfileOnLogin||le.val()===null?le.ref.update(K).then(function(){return K}):le.val()}).catch(function(le){return x({type:i.actionTypes.UNAUTHORIZED_ERROR,authError:le}),typeof ce.onProfileWriteError=="function"&&ce.onProfileWriteError(le,$),Promise.reject(le)})};t.createUserProfile=L;var k=function(x,$,B){var K=$._.config;B?($._.authUid=B.uid,K.presence&&(0,a.setupPresence)(x,$),x({type:i.actionTypes.LOGIN,auth:B,preserve:K.preserveOnLogin}),A(x,$),typeof K.onAuthStateChanged=="function"&&K.onAuthStateChanged(B,$,x)):(typeof K.onAuthStateChanged=="function"&&$._.config.onAuthStateChanged(B,$,x),x({type:i.actionTypes.AUTH_EMPTY_CHANGE,preserve:K.preserveOnEmptyAuthChange}),b($))},D=function(x,$,B){if(typeof $._.config.onRedirectResult=="function"&&$._.config.onRedirectResult(B,$,x),B&&B.user){var K=B.user;return $._.authUid=K.uid,A(x,$),x({type:i.actionTypes.LOGIN,auth:K,preserve:$._.config.preserveOnLogin}),L(x,$,K,{email:K.email,displayName:K.providerData[0].displayName||K.email,avatarUrl:K.providerData[0].photoURL,providerData:K.providerData})}};t.handleRedirectResult=D;var P=function(x,$){$.auth&&(x({type:i.actionTypes.AUTHENTICATION_INIT_STARTED}),$.auth().onAuthStateChanged(function(B){return k(x,$,B)}),$._.config.enableRedirectHandling&&typeof $.auth().getRedirectResult=="function"&&typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("http")!==-1&&$.auth().getRedirectResult().then(function(B){return D(x,$,B)}).catch(function(B){return w(x,B),Promise.reject(B)}),$.auth().currentUser,x({type:i.actionTypes.AUTHENTICATION_INIT_FINISHED}))};t.init=P;var N=function(x,$,B){var K;$._.config.resetBeforeLogin&&w(x,null);var ce=(0,a.getLoginMethodAndParams)($,B),le=ce.method,z=ce.params;return(K=$.auth())[le].apply(K,c(z)).then(function(V){if(!V)return Promise.resolve(null);if(["signInWithEmailAndPassword","signInAndRetrieveDataWithEmailAndPassword","signInWithEmailLink"].includes(le))return{user:V};if(["signInWithCustomToken","signInAndRetrieveDataWithCustomToken"].includes(le))return $._.config.updateProfileOnLogin?L(x,$,V,B.profile):{user:V};if(le==="signInWithPhoneNumber")return v(v({},V),{},{confirm:function(Pt){return V.confirm(Pt).then(function($t){var Rn=$t.user,Ns=$t.additionalUserInfo;return L(x,$,Rn,{phoneNumber:Rn.providerData[0].phoneNumber,providerData:Rn.providerData}).then(function($s){return{profile:$s,user:Rn,additionalUserInfo:Ns}})})}});var Q=V.user||V;return L(x,$,Q,B.profile||{email:Q.email,displayName:Q.providerData[0].displayName||Q.email,avatarUrl:Q.providerData[0].photoURL,providerData:Q.providerData}).then(function(_e){return v({profile:_e},V)})}).catch(function(V){return w(x,V),Promise.reject(V)})};t.login=N;var O=function(x,$,B){var K,ce=(0,a.getReauthenticateMethodAndParams)($,B),le=ce.method,z=ce.params;return(K=$.auth().currentUser)[le].apply(K,c(z)).then(function(V){if(!V)return Promise.resolve(null);if(le==="reauthenticateWithPhoneNumber")return v(v({},V),{},{confirm:function(Pt){return V.confirm(Pt).then(function($t){var Rn=$t.user,Ns=$t.additionalUserInfo;return L(x,$,Rn,{phoneNumber:Rn.providerData[0].phoneNumber,providerData:Rn.providerData}).then(function($s){return{profile:$s,user:Rn,additionalUserInfo:Ns}})})}});var Q=V.user||V;return L(x,$,Q,B.profile||{email:Q.email,displayName:Q.providerData[0].displayName||Q.email,avatarUrl:Q.providerData[0].photoURL,providerData:Q.providerData}).then(function(_e){return v({profile:_e},V)})}).catch(function(V){return w(x,V,{reauthenticate:!0}),Promise.reject(V)})};t.reauthenticate=O;var U=function(x,$){return b($),$.auth().signOut().then(function(){var B={type:i.actionTypes.LOGOUT};return $._.config.preserveOnLogout&&(B.preserve=$._.config.preserveOnLogout),x(B),$._.authUid=null,$})};t.logout=U;var F=function(x,$,B,K){var ce=B.email,le=B.password;if(w(x,null),!ce||!le){var z=new Error("Email and Password are required to create user");return w(x,z),Promise.reject(z)}return $.auth().createUserWithEmailAndPassword(ce,le).then(function(V){return L(x,$,V,K||{email:ce})}).catch(function(V){return w(x,V),Promise.reject(V)})};t.createUser=F;var G=function(x,$,B){return w(x,null),$.auth().sendPasswordResetEmail(B).catch(function(K){if(K){switch(K.code){case"auth/user-not-found":w(x,v(v({},K),{},{message:"The specified user account does not exist."}));break;default:w(x,K)}return Promise.reject(K)}})};t.resetPassword=G;var q=function(x,$,B,K){return w(x,null),$.auth().confirmPasswordReset(B,K).catch(function(ce){if(ce){switch(ce.code){case"auth/expired-action-code":w(x,new Error("The action code has expired."));break;case"auth/invalid-action-code":w(x,new Error("The action code is invalid."));break;case"auth/user-disabled":w(x,new Error("The user is disabled."));break;case"auth/user-not-found":w(x,new Error("The user is not found."));break;case"auth/weak-password":w(x,new Error("The password is not strong enough."));break;default:w(x,ce)}return Promise.reject(ce)}})};t.confirmPasswordReset=q;var re=function(x,$,B){return w(x,null),$.auth().verifyPasswordResetCode(B).catch(function(K){return K&&w(x,K),Promise.reject(K)})};t.verifyPasswordResetCode=re;var se=function(x,$,B){return w(x,null),$.auth().applyActionCode(B).catch(function(K){return K&&w(x,K),Promise.reject(K)})};t.applyActionCode=se;var he=function(x,$,B,K){var ce=$._.config;x({type:i.actionTypes.PROFILE_UPDATE_START,payload:B});var le=ce.useFirestoreForProfile?a.updateProfileOnFirestore:a.updateProfileOnRTDB;return le($,B,K).then(function(z){return x({type:i.actionTypes.PROFILE_UPDATE_SUCCESS,payload:ce.useFirestoreForProfile?z.data():z.val()}),z}).catch(function(z){return x({type:i.actionTypes.PROFILE_UPDATE_ERROR,error:z}),Promise.reject(z)})};t.updateProfile=he;var ve=function(x,$,B,K){if(x({type:i.actionTypes.AUTH_UPDATE_START,payload:B}),!$.auth().currentUser){var ce=new Error("User must be logged in to update auth.");return x({type:i.actionTypes.AUTH_UPDATE_ERROR,payload:ce}),Promise.reject(ce)}return $.auth().currentUser.updateProfile(B).then(function(le){return x({type:i.actionTypes.AUTH_UPDATE_SUCCESS,auth:$.auth().currentUser}),K?he(x,$,B):le}).catch(function(le){return x({type:i.actionTypes.AUTH_UPDATE_ERROR,error:le}),Promise.reject(le)})};t.updateAuth=ve;var Te=function(x,$,B,K){if(x({type:i.actionTypes.EMAIL_UPDATE_START,payload:B}),!$.auth().currentUser){var ce=new Error("User must be logged in to update email.");return x({type:i.actionTypes.EMAIL_UPDATE_ERROR,error:ce}),Promise.reject(ce)}return $.auth().currentUser.updateEmail(B).then(function(le){return x({type:i.actionTypes.EMAIL_UPDATE_SUCCESS,payload:B}),K?he(x,$,{email:B}):le}).catch(function(le){return x({type:i.actionTypes.EMAIL_UPDATE_ERROR,error:le}),Promise.reject(le)})};t.updateEmail=Te;var $e=function(x,$){if(x({type:i.actionTypes.AUTH_RELOAD_START}),!$.auth().currentUser){var B=new Error("User must be logged in to reload auth.");return x({type:i.actionTypes.AUTH_RELOAD_ERROR,error:B}),Promise.reject(B)}return $.auth().currentUser.reload().then(function(){var K=$.auth().currentUser;return x({type:i.actionTypes.AUTH_RELOAD_SUCCESS,payload:K}),K}).catch(function(K){return x({type:i.actionTypes.AUTH_RELOAD_ERROR,error:K}),Promise.reject(K)})};t.reloadAuth=$e;var oe=function(x,$,B){if(x({type:i.actionTypes.AUTH_LINK_START}),!$.auth().currentUser){var K=new Error("User must be logged in to link with credential.");return x({type:i.actionTypes.AUTH_LINK_ERROR,error:K}),Promise.reject(K)}return $.auth().currentUser.linkWithCredential(B).then(function(ce){return x({type:i.actionTypes.AUTH_LINK_SUCCESS,payload:ce}),ce}).catch(function(ce){return x({type:i.actionTypes.AUTH_LINK_ERROR,error:ce}),Promise.reject(ce)})};t.linkWithCredential=oe;function H(x,$,B,K){if(B({type:i.actionTypes.AUTH_LINK_START}),!K.auth().currentUser){var ce=new Error("User must be logged in to link with credential.");return B({type:i.actionTypes.AUTH_LINK_ERROR,error:ce}),Promise.reject(ce)}return x.apply(void 0,c($)).then(function(le){return B({type:i.actionTypes.AUTH_LINK_SUCCESS,payload:le}),le}).catch(function(le){return B({type:i.actionTypes.AUTH_LINK_ERROR,error:le}),Promise.reject(le)})}function te(x,$,B){return H($.auth().currentUser.linkAndRetrieveDataWithCredential,[B],x,$)}function fe(x,$,B){return H($.auth().currentUser.linkWithPopup,[B],x,$)}function we(x,$,B){return H($.auth().currentUser.linkWithRedirect,[B],x,$)}function Xe(x,$,B,K){var ce=4<arguments.length&&arguments[4]!==void 0?arguments[4]:{};return N($,x,v({phoneNumber:B,applicationVerifier:K},ce))}})(r3);var v_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove=a,t.unWatchEvent=i,t.unWatchEvents=o,t.watchEvent=r,t.watchEvents=s;var e=Xi,n=n3();function r(u,l,c){if(!u.database||typeof u.database!="function")throw new Error("Firebase database is required to create watchers");var d=c.type,h=c.path,m=c.populates,g=c.queryParams,_=c.queryId,S=c.isQuery,v=c.storeAs,y=u._.config.logErrors,w=v?"".concat(h,"@").concat(v):h,b=_||(0,n.getQueryIdFromPath)(h),T=(0,n.getWatcherCount)(u,d,w,b);if(0<T&&b&&(0,n.unsetWatcher)(u,l,d,h,b),(0,n.setWatcher)(u,l,d,w,b),!(0<T)){if(d==="first_child")return u.database().ref().child(h).orderByKey().limitToFirst(1).once("value").then(function(I){return I.val()===null&&l({type:e.actionTypes.NO_VALUE,path:v||h}),I}).catch(function(I){return l({type:e.actionTypes.ERROR,path:v||h,payload:I}),Promise.reject(I)});var C=u.database().ref().child(h);return S&&(C=(0,n.applyParamsToQuery)(g,C)),l({type:e.actionTypes.START,path:v||h}),d==="once"?C.once("value").then(function(I){return I.val()===null?l({type:e.actionTypes.NO_VALUE,path:v||h}):m?(0,n.populateAndDispatch)(u,l,{path:h,storeAs:v,snapshot:I,data:I.val(),populates:m}):l({type:e.actionTypes.SET,path:v||h,data:I.val(),ordered:(0,n.orderedFromSnapshot)(I)})}).catch(function(I){return l({type:e.actionTypes.UNAUTHORIZED_ERROR,payload:I}),Promise.reject(I)}):void C.on(d,function(I){var A=d==="child_removed"?void 0:I.val(),L=v||d==="value"?h:"".concat(h,"/").concat(I.key);if(!m){var k=d==="child_added"?[{key:I.key,value:I.val()}]:(0,n.orderedFromSnapshot)(I);return l({type:e.actionTypes.SET,path:v||L,data:A,ordered:k})}return(0,n.populateAndDispatch)(u,l,{path:h,storeAs:v,snapshot:I,data:I.val(),populates:m})},function(I){y&&console.log("Error retrieving data for path: ".concat(h,", storeAs: ").concat(v,". Firebase:"),I),l({type:e.actionTypes.ERROR,storeAs:v,path:h,payload:I})})}}function i(u,l,c){var d=c.type,h=c.path,m=c.storeAs,g=c.queryId,_=m?"".concat(h,"@").concat(m):h;(0,n.unsetWatcher)(u,l,d,_,g)}function s(u,l,c){if(!Array.isArray(c))throw new Error("Events config must be an Array");return c.map(function(d){return r(u,l,d)})}function o(u,l,c){c==null||c.forEach(function(d){return i(u,l,d)})}function a(u,l,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},h=d.dispatchAction,m=u._.config.dispatchRemoveAction;return u.database().ref(c).remove().then(function(){return m&&(h===void 0||h)&&l({type:e.actionTypes.REMOVE,path:c}),c}).catch(function(g){return l({type:e.actionTypes.ERROR,payload:g}),Promise.reject(g)})}})(v_);var w3={},E3={};function v1e(t){return t===void 0}var _1e=v1e,w1e="Expected a function";function E1e(t){if(typeof t!="function")throw new TypeError(w1e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var b3=E1e,b1e=kc,S1e=Ur,I1e=i3,T1e=uA;function A1e(t,e){if(t==null)return{};var n=b1e(T1e(t),function(r){return[r]});return e=S1e(e),I1e(t,n,function(r,i){return e(r,i[0])})}var C1e=A1e,R1e=Ur,P1e=b3,O1e=C1e;function k1e(t,e){return O1e(t,P1e(R1e(e)))}var x1e=k1e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=a,t.uploadFileWithProgress=d,t.writeMetadataToDb=c;var e=i(_1e),n=i(x1e),r=Xi;function i(h){return h&&h.__esModule?h:{default:h}}var s=r.actionTypes.FILE_UPLOAD_ERROR,o=r.actionTypes.FILE_UPLOAD_PROGRESS;function a(h,m){var g=m.path,_=m.dbPath;return h.storage().ref(g).delete().then(function(){return!_||!h.database&&!h.firestore?{path:g}:function(){return h._.config.useFirestoreForStorageMeta?h.firestore().doc(_).delete():h.database().ref(_).remove()}().then(function(){return{path:g,dbPath:_}})})}function u(h){var m=h.fileData,g=h.firebase,_=h.uploadTaskSnapshot,S=h.downloadURL;return function(v){var y=g._.config.useFirestoreForStorageMeta,w={snapshot:v,key:v.key||v.id,File:m,metaDataSnapshot:v,uploadTaskSnapshot:_,uploadTaskSnaphot:_,createdAt:y?g.firestore.FieldValue.serverTimestamp():g.database.ServerValue.TIMESTAMP};return v.id&&(w.id=v.id),S&&(w.downloadURL=S),w}}function l(h){return h.ref&&typeof h.ref.getDownloadURL=="function"?h.ref.getDownloadURL():Promise.resolve(h.downloadURLs&&h.downloadURLs[0])}function c(h){var m=h.firebase,g=h.uploadTaskSnapshot,_=h.dbPath,S=h.options,v=m._.config,y=v.fileMetadataFactory,w=v.useFirestoreForStorageMeta,b=S.metadataFactory,T=S.documentId,C=S.useSetForMetadata,I=b||y;return l(g).then(function(A){var L=typeof I=="function"?I(g,m,g.metadata,A):(0,n.default)(g.metadata,e.default),k=u({fileData:L,firebase:m,uploadTaskSnapshot:g,downloadURL:A}),D=typeof T=="function"?T(g,m,g.metadata,A):T;return function(N){if(w){if(D){var O=m.firestore().collection(_).doc(D);return C===!1?O.update(N).then(function(){return O}):O.set(N,{merge:!0}).then(function(){return O})}return m.firestore().collection(_).add(N)}var U=m.database().ref(_).push();return U.set(N).then(function(){return U})}(L).then(k)})}function d(h,m,g){var _=g.path,S=g.file,v=g.filename,y=g.meta,w=g.fileMetadata,b=m.storage().ref("".concat(_,"/").concat(v)).put(S,w),T=b.on(m.storage.TaskEvent.STATE_CHANGED,{next:function(I){h({type:o,meta:y,payload:{snapshot:I,percent:Math.floor(100*(I.bytesTransferred/I.totalBytes))}})},error:function(I){h({type:s,meta:y,payload:I}),T()},complete:function(){T()}});return b}})(E3);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=b,t.uploadFile=y,t.uploadFiles=w;var e=o(Nc),n=Xi,r=OA,i=E3,s=["files"];function o(T){return T&&T.__esModule?T:{default:T}}function a(T,C){if(T==null)return{};var I,A,L=u(T,C);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(T);for(A=0;A<k.length;A++)I=k[A],0<=C.indexOf(I)||Object.prototype.propertyIsEnumerable.call(T,I)&&(L[I]=T[I])}return L}function u(T,C){if(T==null)return{};var I,A,L={},k=Object.keys(T);for(A=0;A<k.length;A++)I=k[A],0<=C.indexOf(I)||(L[I]=T[I]);return L}function l(T,C){var I=Object.keys(T);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(T);C&&(A=A.filter(function(L){return Object.getOwnPropertyDescriptor(T,L).enumerable})),I.push.apply(I,A)}return I}function c(T){for(var C,I=1;I<arguments.length;I++)C=arguments[I]==null?{}:arguments[I],I%2?l(Object(C),!0).forEach(function(A){d(T,A,C[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(A){Object.defineProperty(T,A,Object.getOwnPropertyDescriptor(C,A))});return T}function d(T,C,I){return C in T?Object.defineProperty(T,C,{value:I,enumerable:!0,configurable:!0,writable:!0}):T[C]=I,T}var h=n.actionTypes.FILE_UPLOAD_START,m=n.actionTypes.FILE_UPLOAD_ERROR,g=n.actionTypes.FILE_UPLOAD_COMPLETE,_=n.actionTypes.FILE_DELETE_START,S=n.actionTypes.FILE_DELETE_ERROR,v=n.actionTypes.FILE_DELETE_COMPLETE;function y(T,C,I){if(!C.storage)throw new Error("Firebase storage is required to upload files");var A=I||{},L=A.path,k=A.file,D=A.dbPath,P=A.options,N=P===void 0?{progress:!1}:P,O=(N||{}).metadata,U=C._.config.logErrors,F=typeof N.name=="function"?N.name(k,C,I):N.name,G=F||k.name,q=c(c({},I),{},{filename:G});return T({type:h,payload:c(c({},I),{},{filename:G})}),function(){return N.progress?(0,i.uploadFileWithProgress)(T,C,{path:L,file:k,filename:G,meta:q,fileMetadata:O}):C.storage().ref("".concat(L,"/").concat(G)).put(k,O)}().then(function(re){return D&&(C.database||C.firestore)?(0,i.writeMetadataToDb)({firebase:C,uploadTaskSnapshot:re,dbPath:D,options:N}).then(function(se){return T({type:g,meta:c(c({},I),{},{filename:G}),payload:se}),se}):(T({type:g,meta:c(c({},I),{},{filename:G}),payload:{uploadTaskSnapshot:re,uploadTaskSnaphot:re}}),{uploadTaskSnapshot:re,uploadTaskSnaphot:re})}).catch(function(re){return U&&console.error&&console.error("RRF: Error uploading file: ".concat(re.message||re),re),T({type:m,path:L,payload:re}),Promise.reject(re)})}function w(T,C,I){var A=I.files,L=a(I,s);return Promise.all((0,e.default)(A,function(k){return y(T,C,c({file:k},L))}))}function b(T,C,I){var A=I.path,L=I.dbPath;return(0,r.wrapInDispatch)(T,{method:i.deleteFile,args:[C,{path:A,dbPath:L}],types:[_,v,S]})}})(w3);(function(t){function e(y){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(y)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=S,t.getFirebase=v;var n=d(IA),r=d(Bt),i=Ji(),s=OA,o=c(r3),a=c(v_),u=c(w3);function l(y){if(typeof WeakMap!="function")return null;var w=new WeakMap,b=new WeakMap;return(l=function(T){return T?b:w})(y)}function c(y,w){if(!w&&y&&y.__esModule)return y;if(y===null||e(y)!=="object"&&typeof y!="function")return{default:y};var b=l(w);if(b&&b.has(y))return b.get(y);var T={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in y)if(I!="default"&&Object.prototype.hasOwnProperty.call(y,I)){var A=C?Object.getOwnPropertyDescriptor(y,I):null;A&&(A.get||A.set)?Object.defineProperty(T,I,A):T[I]=y[I]}return T.default=y,b&&b.set(y,T),T}function d(y){return y&&y.__esModule?y:{default:y}}function h(y,w){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(y);w&&(T=T.filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable})),b.push.apply(b,T)}return b}function m(y){for(var w,b=1;b<arguments.length;b++)w=arguments[b]==null?{}:arguments[b],b%2?h(Object(w),!0).forEach(function(T){g(y,T,w[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(w)):h(Object(w)).forEach(function(T){Object.defineProperty(y,T,Object.getOwnPropertyDescriptor(w,T))});return y}function g(y,w,b){return w in y?Object.defineProperty(y,w,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[w]=b,y}var _;function S(y,w,b){w&&w.enableLogging&&y.database&&typeof y.database.enableLogging=="function"&&(console.warn("The enableLogging config option is disabled and will be removed in a future version of react-redux-firebase. Enable logging as part of instance initialization."),y.database.enableLogging(w.enableLogging)),y._=(0,n.default)({watchers:{},listeners:{},callbacks:{},queries:{},config:w,authUid:null},y._);var T=function(I,A,L,k){if((0,r.default)(L)){var D=I==="update"?"updated":"created",P=m(m({},L),{},g({},"".concat(D,"At"),y.database.ServerValue.TIMESTAMP));return y.auth().currentUser&&(P["".concat(D,"By")]=y.auth().currentUser.uid),y.database().ref(A)[I](P,k)}return y.database().ref(A)[I](L,k)},C=(0,s.mapWithFirebaseAndDispatch)(y,b,{signInWithPhoneNumber:o.signInWithPhoneNumber},{initializeAuth:o.init});return _=Object.assign(y,m({_reactReduxFirebaseExtended:!0,ref:function(A){return y.database().ref(A)},set:function(A,L,k){return y.database().ref(A).set(L,k)},setWithMeta:function(A,L,k){return T("set",A,L,k)},uniqueSet:function(A,L,k){return y.database().ref(A).transaction(function(D){return D===null?L:void 0}).then(function(D){var P=D.committed,N=D.snapshot;if(!P){var O=new Error("Path already exists.");return k&&k(O),Promise.reject(O)}return k&&k(N),N})},push:function(A,L,k){return y.database().ref(A).push(L,k)},pushWithMeta:function(A,L,k){return T("push",A,L,k)},remove:function(A,L,k){return a.remove(y,b,A,k).then(function(){return typeof L=="function"&&L(),A})},update:function(A,L,k){return y.database().ref(A).update(L,k)},updateWithMeta:function(A,L,k){return T("update",A,L,k)},login:function(A){return o.login(b,y,A)},reauthenticate:function(A){return o.reauthenticate(b,y,A)},handleRedirectResult:function(A){return o.handleRedirectResult(b,y,A)},logout:function(){return o.logout(b,y)},updateAuth:function(A,L){return o.updateAuth(b,y,A,L)},updateEmail:function(A,L){return o.updateEmail(b,y,A,L)},updateProfile:function(A,L){return o.updateProfile(b,y,A,L)},uploadFile:function(A,L,k,D){return u.uploadFile(b,y,{path:A,file:L,dbPath:k,options:D})},uploadFiles:function(A,L,k,D){return u.uploadFiles(b,y,{path:A,files:L,dbPath:k,options:D})},deleteFile:function(A,L){return u.deleteFile(b,y,{path:A,dbPath:L})},createUser:function(A,L){return o.createUser(b,y,A,L)},resetPassword:function(A){return o.resetPassword(b,y,A)},confirmPasswordReset:function(A,L){return o.confirmPasswordReset(b,y,A,L)},verifyPasswordResetCode:function(A){return o.verifyPasswordResetCode(b,y,A)},applyActionCode:function(A){return o.applyActionCode(b,y,A)},watchEvent:function(A,L,k){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};return a.watchEvent(y,b,m({type:A,path:L,storeAs:k},D))},unWatchEvent:function(A,L,k){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};return a.unWatchEvent(y,b,m({type:A,path:L,queryId:k},D))},reloadAuth:function(){return o.reloadAuth(b,y)},linkWithCredential:function(A){return o.linkWithCredential(b,y,A)},promiseEvents:function(A,L){var k=(0,i.createCallable)(A),D=k(L,y),P=(0,i.getEventsFromInput)(D);return Promise.all(P.map(function(N){return a.watchEvent(y,b,N)}))},dispatch:b},C)),_}function v(){if(!_)throw new Error("Firebase instance does not yet exist. Check your compose function.");return _}})(Gv);var Ub={exports:{}},rp={exports:{}},D1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",N1e=D1e,$1e=N1e;function S3(){}function I3(){}I3.resetWarningCache=S3;var L1e=function(){function t(r,i,s,o,a,u){if(u!==$1e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I3,resetWarningCache:S3};return n.PropTypes=n,n};rp.exports=L1e();var Ss={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Z.exports,r=(0,n.createContext)(null),i=r;e.default=i,t.exports=e.default})(Ss,Ss.exports);var Fg={exports:{}},iu={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Z.exports,r=(0,n.createContext)(null),i=r;e.default=i,t.exports=e.default})(iu,iu.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(Z.exports),r=o(rp.exports),i=o(iu.exports),s=o(Gv);function o(l){return l&&l.__esModule?l:{default:l}}function a(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},c=l.children,d=l.config,h=l.dispatch,m=l.firebase,g=l.createFirestoreInstance,_=l.initializeAuth,S=n.default.useMemo(function(){var v=m._reactReduxFirebaseExtended?m:(0,s.default)(m,d,h),y=g(m,d,h);return _&&v.initializeAuth(),y},[m,d,h,g,_]);return n.default.createElement(i.default.Provider,{value:S},c)}a.defaultProps={initializeAuth:!0},a.propTypes={children:r.default.node,config:r.default.object.isRequired,dispatch:r.default.func.isRequired,createFirestoreInstance:r.default.func.isRequired,initializeAuth:r.default.bool,firebase:r.default.object.isRequired};var u=a;e.default=u,t.exports=e.default})(Fg,Fg.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(Z.exports),r=a(rp.exports),i=a(Gv),s=a(Ss.exports),o=a(Fg.exports);function a(d){return d&&d.__esModule?d:{default:d}}function u(){return u=Object.assign||function(d){for(var h,m=1;m<arguments.length;m++)for(var g in h=arguments[m],h)Object.prototype.hasOwnProperty.call(h,g)&&(d[g]=h[g]);return d},u.apply(this,arguments)}function l(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},h=d.children,m=d.config,g=d.dispatch,_=d.firebase,S=d.initializeAuth,v=d.createFirestoreInstance,y=n.default.useMemo(function(){var w=(0,i.default)(_,m,g);return S&&w.initializeAuth(),w},[_,m,g]);return v?n.default.createElement(s.default.Provider,{value:y},n.default.createElement(o.default,u({},d,{initializeAuth:!1}),h)):n.default.createElement(s.default.Provider,{value:y},h)}l.defaultProps={initializeAuth:!0},l.propTypes={children:r.default.node,config:r.default.object.isRequired,dispatch:r.default.func.isRequired,firebase:r.default.object.isRequired,initializeAuth:r.default.bool,createFirestoreInstance:r.default.func};var c=l;e.default=c,t.exports=e.default})(Ub,Ub.exports);var Bb={exports:{}};function M1e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var T3=M1e,F1e=hA,U1e=J1,B1e=T3,j1e=kc,V1e=e_,W1e=fA,z1e=200;function q1e(t,e,n,r){var i=-1,s=U1e,o=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=j1e(e,V1e(n))),r?(s=B1e,o=!1):e.length>=z1e&&(s=W1e,o=!1,e=new F1e(e));e:for(;++i<a;){var c=t[i],d=n==null?c:n(c);if(c=r||c!==0?c:0,o&&d===d){for(var h=l;h--;)if(e[h]===d)continue e;u.push(c)}else s(e,d,r)||u.push(c)}return u}var H1e=q1e,G1e=H1e,K1e=c_,Q1e=h_,h0=wA,Y1e=AA,X1e=Q1e(function(t,e){var n=Y1e(e);return h0(n)&&(n=void 0),h0(t)?G1e(t,K1e(e,1,h0,!0),void 0,n):[]}),A3=X1e;(function(t,e){function n(N){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},n(N)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=P;var r=m(A3),i=m(Dc),s=h(Z.exports),o=m(rp.exports),a=m(Lv),u=v_,l=Ji(),c=m(Ss.exports);function d(N){if(typeof WeakMap!="function")return null;var O=new WeakMap,U=new WeakMap;return(d=function(F){return F?U:O})(N)}function h(N,O){if(!O&&N&&N.__esModule)return N;if(N===null||n(N)!=="object"&&typeof N!="function")return{default:N};var U=d(O);if(U&&U.has(N))return U.get(N);var F={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in N)if(q!="default"&&Object.prototype.hasOwnProperty.call(N,q)){var re=G?Object.getOwnPropertyDescriptor(N,q):null;re&&(re.get||re.set)?Object.defineProperty(F,q,re):F[q]=N[q]}return F.default=N,U&&U.set(N,F),F}function m(N){return N&&N.__esModule?N:{default:N}}function g(){return g=Object.assign||function(N){for(var O,U=1;U<arguments.length;U++)for(var F in O=arguments[U],O)Object.prototype.hasOwnProperty.call(O,F)&&(N[F]=O[F]);return N},g.apply(this,arguments)}function _(N,O){var U=Object.keys(N);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(N);O&&(F=F.filter(function(G){return Object.getOwnPropertyDescriptor(N,G).enumerable})),U.push.apply(U,F)}return U}function S(N){for(var O,U=1;U<arguments.length;U++)O=arguments[U]==null?{}:arguments[U],U%2?_(Object(O),!0).forEach(function(F){D(N,F,O[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(O)):_(Object(O)).forEach(function(F){Object.defineProperty(N,F,Object.getOwnPropertyDescriptor(O,F))});return N}function v(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function y(N,O){for(var U,F=0;F<O.length;F++)U=O[F],U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(N,U.key,U)}function w(N,O,U){return O&&y(N.prototype,O),U&&y(N,U),N}function b(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),O&&T(N,O)}function T(N,O){return T=Object.setPrototypeOf||function(U,F){return U.__proto__=F,U},T(N,O)}function C(N){var O=L();return function(){var U,F=k(N);if(O){var G=k(this).constructor;U=Reflect.construct(F,arguments,G)}else U=F.apply(this,arguments);return I(this,U)}}function I(N,O){if(O&&(n(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(N)}function A(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(N){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},k(N)}function D(N,O,U){return O in N?Object.defineProperty(N,O,{value:U,enumerable:!0,configurable:!0,writable:!0}):N[O]=U,N}function P(){var N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return function(O){function U(G){return s.default.createElement(c.default.Consumer,null,function(q){return s.default.createElement(F,g({},G,{dispatch:q.dispatch,firebase:q}))})}var F=function(G){function q(){var se;v(this,q);for(var he=arguments.length,ve=Array(he),Te=0;Te<he;Te++)ve[Te]=arguments[Te];return se=re.call.apply(re,[this].concat(ve)),D(A(se),"firebaseEvents",[]),D(A(se),"firebase",null),D(A(se),"prevData",null),se}b(q,G);var re=C(q);return w(q,[{key:"componentDidMount",value:function(){var he=this.props,ve=he.firebase,Te=he.dispatch,$e=(0,l.createCallable)(N);this.prevData=$e(this.props,this.props);var oe=ve.ref,H=ve.helpers,te=ve.storage,fe=ve.database,we=ve.auth;this.firebase=S({ref:oe,storage:te,database:fe,auth:we},H),this._firebaseEvents=(0,l.getEventsFromInput)(this.prevData),(0,u.watchEvents)(ve,Te,this._firebaseEvents)}},{key:"componentWillUnmount",value:function(){var he=this.props,ve=he.firebase,Te=he.dispatch;(0,u.unWatchEvents)(ve,Te,this._firebaseEvents)}},{key:"UNSAFE_componentWillReceiveProps",value:function(he){var ve=this.props,Te=ve.firebase,$e=ve.dispatch,oe=(0,l.createCallable)(N),H=oe(he,this.store);if(!(0,i.default)(H,this.prevData)){var te=(0,r.default)(H,this.prevData,i.default),fe=(0,r.default)(this.prevData,H,i.default);this.prevData=H,(0,u.unWatchEvents)(Te,$e,(0,l.getEventsFromInput)(fe)),this._firebaseEvents=(0,l.getEventsFromInput)(H),(0,u.watchEvents)(Te,$e,(0,l.getEventsFromInput)(te))}}},{key:"render",value:function(){return s.default.createElement(O,this.props)}}]),q}(s.Component);return D(F,"displayName",(0,l.wrapDisplayName)(O,"FirebaseConnectWrapped")),D(F,"wrappedComponent",O),F.propTypes={dispatch:o.default.func.isRequired,firebase:o.default.object.isRequired},U.displayName=(0,l.wrapDisplayName)(O,"FirebaseConnect"),U.wrappedComponent=O,(0,a.default)(U,O)}}t.exports=e.default})(Bb,Bb.exports);var jb={exports:{}};(function(t,e){function n(k){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},n(k)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=L;var r=h(Dc),i=d(Z.exports),s=h(rp.exports),o=h(Lv),a=Ji(),u=h(iu.exports),l=h(Ss.exports);function c(k){if(typeof WeakMap!="function")return null;var D=new WeakMap,P=new WeakMap;return(c=function(N){return N?P:D})(k)}function d(k,D){if(!D&&k&&k.__esModule)return k;if(k===null||n(k)!=="object"&&typeof k!="function")return{default:k};var P=c(D);if(P&&P.has(k))return P.get(k);var N={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in k)if(U!="default"&&Object.prototype.hasOwnProperty.call(k,U)){var F=O?Object.getOwnPropertyDescriptor(k,U):null;F&&(F.get||F.set)?Object.defineProperty(N,U,F):N[U]=k[U]}return N.default=k,P&&P.set(k,N),N}function h(k){return k&&k.__esModule?k:{default:k}}function m(){return m=Object.assign||function(k){for(var D,P=1;P<arguments.length;P++)for(var N in D=arguments[P],D)Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},m.apply(this,arguments)}function g(k,D){if(!(k instanceof D))throw new TypeError("Cannot call a class as a function")}function _(k,D){for(var P,N=0;N<D.length;N++)P=D[N],P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}function S(k,D,P){return D&&_(k.prototype,D),P&&_(k,P),k}function v(k,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(D&&D.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),D&&y(k,D)}function y(k,D){return y=Object.setPrototypeOf||function(P,N){return P.__proto__=N,P},y(k,D)}function w(k){var D=C();return function(){var P,N=I(k);if(D){var O=I(this).constructor;P=Reflect.construct(N,arguments,O)}else P=N.apply(this,arguments);return b(this,P)}}function b(k,D){if(D&&(n(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(k)}function T(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I(k){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},I(k)}function A(k,D,P){return D in k?Object.defineProperty(k,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):k[D]=P,k}function L(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return function(D){function P(O){return i.default.createElement(l.default.Consumer,null,function(U){return i.default.createElement(u.default.Consumer,null,function(F){return i.default.createElement(N,m({},O,{dispatch:U.dispatch,firestore:F,firebase:U}))})})}var N=function(O){function U(){var G;g(this,U);for(var q=arguments.length,re=Array(q),se=0;se<q;se++)re[se]=arguments[se];return G=F.call.apply(F,[this].concat(re)),A(T(G),"prevData",null),G}v(U,O);var F=w(U);return S(U,[{key:"firestoreIsEnabled",get:function(){return!!this.props.firestore}},{key:"componentDidMount",value:function(){if(this.firestoreIsEnabled){var q=(0,a.createCallable)(k);this.prevData=q(this.props,this.props),this.props.firestore.setListeners(this.prevData)}}},{key:"componentWillUnmount",value:function(){this.firestoreIsEnabled&&this.prevData&&this.props.firestore.unsetListeners(this.prevData)}},{key:"UNSAFE_componentWillReceiveProps",value:function(q){var re=this.props.firestore,se=(0,a.createCallable)(k),he=se(q,this.props);if(this.firestoreIsEnabled&&!(0,r.default)(he,this.prevData)){var ve=(0,a.getChanges)(he,this.prevData);this.prevData=he,re.unsetListeners(ve.removed),re.setListeners(ve.added)}}},{key:"render",value:function(){return i.default.createElement(D,this.props)}}]),U}(i.Component);return A(N,"wrappedComponent",D),A(N,"displayName",(0,a.wrapDisplayName)(D,"FirestoreConnectWrapped")),N.propTypes={dispatch:s.default.func.isRequired,firebase:s.default.object,firestore:s.default.object},P.displayName=(0,a.wrapDisplayName)(D,"FirestoreConnect"),P.wrappedComponent=D,(0,o.default)(P,D)}}t.exports=e.default})(jb,jb.exports);var Vb={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var n=o(Z.exports),r=o(Lv),i=Ji(),s=o(Ss.exports);function o(l){return l&&l.__esModule?l:{default:l}}function a(){return a=Object.assign||function(l){for(var c,d=1;d<arguments.length;d++)for(var h in c=arguments[d],c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h]);return l},a.apply(this,arguments)}function u(l){function c(d){return n.default.createElement(s.default.Consumer,null,function(h){return n.default.createElement(l,a({firebase:h,dispatch:h&&h.dispatch},d))})}return c.displayName=(0,i.wrapDisplayName)(l,"withFirebase"),c.wrappedComponent=l,(0,r.default)(c,l)}t.exports=e.default})(Vb,Vb.exports);var Wb={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=a(Z.exports),r=a(Lv),i=Ji(),s=a(Ss.exports),o=a(iu.exports);function a(c){return c&&c.__esModule?c:{default:c}}function u(){return u=Object.assign||function(c){for(var d,h=1;h<arguments.length;h++)for(var m in d=arguments[h],d)Object.prototype.hasOwnProperty.call(d,m)&&(c[m]=d[m]);return c},u.apply(this,arguments)}function l(c){function d(h){return n.default.createElement(s.default.Consumer,null,function(m){return n.default.createElement(o.default.Consumer,null,function(g){return n.default.createElement(c,u({firestore:g,firebase:m,dispatch:m.dispatch},h))})})}return d.displayName=(0,i.wrapDisplayName)(c,"withFirestore"),d.wrappedComponent=c,(0,r.default)(d,c)}t.exports=e.default})(Wb,Wb.exports);var zb={exports:{}},Ug={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=Z.exports,r=i(Ss.exports);function i(o){return o&&o.__esModule?o:{default:o}}function s(){return(0,n.useContext)(r.default)}t.exports=e.default})(Ug,Ug.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=u(A3),r=u(Dc),i=Z.exports,s=v_,o=Ji(),a=u(Ug.exports);function u(c){return c&&c.__esModule?c:{default:c}}function l(c){var d=(0,a.default)(),h=(0,i.useRef)(),m=(0,i.useRef)(),g=(0,i.useMemo)(function(){return(0,o.invokeArrayQuery)(c)},[c]);(0,i.useEffect)(function(){if(g!==null&&!(0,r.default)(g,m.current)){var _=(0,n.default)(g,m.current,r.default),S=(0,n.default)(m.current,g,r.default);m.current=g,(0,s.unWatchEvents)(d,d.dispatch,(0,o.getEventsFromInput)(S)),h.current=(0,o.getEventsFromInput)(g),(0,s.watchEvents)(d,d.dispatch,(0,o.getEventsFromInput)(_))}},[g]),(0,i.useEffect)(function(){return function(){(0,s.unWatchEvents)(d,d.dispatch,h.current)}},[])}t.exports=e.default})(zb,zb.exports);var qb={exports:{}},Bg={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=Z.exports,r=i(iu.exports);function i(o){return o&&o.__esModule?o:{default:o}}function s(){return(0,n.useContext)(r.default)}t.exports=e.default})(Bg,Bg.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=o(Dc),r=Z.exports,i=Ji(),s=o(Bg.exports);function o(u){return u&&u.__esModule?u:{default:u}}function a(u){var l=(0,s.default)(),c=!!l,d=(0,r.useRef)(),h=(0,r.useMemo)(function(){return(0,i.invokeArrayQuery)(u)},[u]);(0,r.useEffect)(function(){if(c&&!(0,n.default)(h,d.current)){var m=(0,i.getChanges)(h,d.current);d.current=h,l.unsetListeners(m.removed),l.setListeners(m.added)}},[h]),(0,r.useEffect)(function(){return function(){c&&d.current&&l.unsetListeners(d.current)}},[])}t.exports=e.default})(qb,qb.exports);var Hb={exports:{}},C3={},f0,oD;function J1e(){if(oD)return f0;oD=1;var t=Zv,e=bu,n=SA,r=xs,i=ep,s=Tc,o=Object.prototype,a=o.hasOwnProperty,u=n(function(l,c){if(i(c)||r(c)){e(c,s(c),l);return}for(var d in c)a.call(c,d)&&t(l,d,c[d])});return f0=u,f0}var Z1e=d_,R3=Z1e("assign",J1e());R3.placeholder=Kf();var eAe=R3,p0,aD;function tAe(){if(aD)return p0;aD=1;var t=PA;function e(n,r,i,s){return s=typeof s=="function"?s:void 0,n==null?n:t(n,r,i,s)}return p0=e,p0}var nAe=d_,P3=nAe("setWith",tAe());P3.placeholder=Kf();var O3=P3;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.authErrorReducer=we,t.authReducer=fe,t.dataReducer=void 0,t.errorsReducer=x,t.isInitializingReducer=Te,t.orderedReducer=t.listenersReducer=void 0,t.profileReducer=Xe,t.requestedReducer=oe,t.requestingReducer=$e,t.timestampsReducer=H;var e=l(eAe),n=l(O3),r=l(Bt),i=l(Yi),s=l(g_),o=l(m_),a=Xi,u=y_;function l(z){return z&&z.__esModule?z:{default:z}}function c(z){return g(z)||m(z)||h(z)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(z,V){if(z){if(typeof z=="string")return _(z,V);var Q=Object.prototype.toString.call(z).slice(8,-1);return Q==="Object"&&z.constructor&&(Q=z.constructor.name),Q==="Map"||Q==="Set"?Array.from(z):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?_(z,V):void 0}}function m(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function g(z){if(Array.isArray(z))return _(z)}function _(z,V){(V==null||V>z.length)&&(V=z.length);for(var Q=0,_e=Array(V);Q<V;Q++)_e[Q]=z[Q];return _e}function S(z,V){var Q=Object.keys(z);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(z);V&&(_e=_e.filter(function(Pt){return Object.getOwnPropertyDescriptor(z,Pt).enumerable})),Q.push.apply(Q,_e)}return Q}function v(z){for(var V,Q=1;Q<arguments.length;Q++)V=arguments[Q]==null?{}:arguments[Q],Q%2?S(Object(V),!0).forEach(function(_e){y(z,_e,V[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(V)):S(Object(V)).forEach(function(_e){Object.defineProperty(z,_e,Object.getOwnPropertyDescriptor(V,_e))});return z}function y(z,V,Q){return V in z?Object.defineProperty(z,V,{value:Q,enumerable:!0,configurable:!0,writable:!0}):z[V]=Q,z}var w=a.actionTypes.START,b=a.actionTypes.SET,T=a.actionTypes.SET_PROFILE,C=a.actionTypes.MERGE,I=a.actionTypes.LOGIN,A=a.actionTypes.LOGOUT,L=a.actionTypes.LOGIN_ERROR,k=a.actionTypes.CLEAR_ERRORS,D=a.actionTypes.REMOVE,P=a.actionTypes.NO_VALUE,N=a.actionTypes.SET_LISTENER,O=a.actionTypes.UNSET_LISTENER,U=a.actionTypes.AUTHENTICATION_INIT_STARTED,F=a.actionTypes.AUTHENTICATION_INIT_FINISHED,G=a.actionTypes.AUTH_EMPTY_CHANGE,q=a.actionTypes.AUTH_LINK_SUCCESS,re=a.actionTypes.UNAUTHORIZED_ERROR,se=a.actionTypes.AUTH_UPDATE_SUCCESS,he=a.actionTypes.AUTH_RELOAD_SUCCESS,ve=a.actionTypes.PROFILE_UPDATE_SUCCESS;function Te(){var z=0<arguments.length&&arguments[0]!==void 0&&arguments[0],V=1<arguments.length?arguments[1]:void 0;switch(V.type){case U:return!0;case F:return!1;default:return z}}function $e(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},V=1<arguments.length?arguments[1]:void 0,Q=V.type,_e=V.path;return Q===w?v(v({},z),{},y({},(0,u.getSlashStrPath)(_e),!0)):Q===P||Q===b?v(v({},z),{},y({},(0,u.getSlashStrPath)(_e),!1)):z}function oe(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},V=1<arguments.length?arguments[1]:void 0,Q=V.type,_e=V.path;return Q===w?v(v({},z),{},y({},(0,u.getSlashStrPath)(_e),!1)):Q===P||Q===b?v(v({},z),{},y({},(0,u.getSlashStrPath)(_e),!0)):z}function H(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},V=1<arguments.length?arguments[1]:void 0,Q=V.type,_e=V.path;return Q===w||Q===P||Q===b?v(v({},z),{},y({},(0,u.getSlashStrPath)(_e),Date.now())):z}function te(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"data";return function(){var V=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},Q=1<arguments.length?arguments[1]:void 0;switch(Q.type){case b:return(0,n.default)(Object,(0,u.getDotStrPath)(Q.path),Q[z],V);case C:var _e=(0,i.default)(V,(0,u.getDotStrPath)(Q.path),{}),Pt=(0,e.default)(_e,Q[z]);return(0,n.default)(Object,(0,u.getDotStrPath)(Q.path),Pt,V);case P:return(0,n.default)(Object,(0,u.getDotStrPath)(Q.path),null,V);case D:return z==="data"?(0,u.recursiveUnset)((0,u.getDotStrPath)(Q.path),V):V;case A:if(Q.preserve){if(Array.isArray(Q.preserve))return(0,o.default)(V,Q.preserve);if((0,r.default)(Q.preserve))return Q.preserve[z]?(0,u.preserveValuesFromState)(V,Q.preserve[z],{}):{};throw new Error("Invalid preserve parameter. It must be an Object or an Array")}return{};default:return V}}}function fe(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{isLoaded:!1,isEmpty:!0},V=1<arguments.length?arguments[1]:void 0;switch(V.type){case I:case se:if(!V.auth)return{isEmpty:!0,isLoaded:!0};var Q=V.auth.toJSON?V.auth.toJSON():V.auth;return V.preserve&&V.preserve.auth?(0,u.preserveValuesFromState)(z,V.preserve.auth,v(v({},Q),{},{isEmpty:!1,isLoaded:!0})):v(v({},Q),{},{isEmpty:!1,isLoaded:!0});case q:case he:return V.payload?v(v({},V.payload.toJSON?V.payload.toJSON():V.payload),{},{isEmpty:!1,isLoaded:!0}):{isEmpty:!0,isLoaded:!0};case L:case G:case A:return V.reauthenticate?(0,u.preserveValuesFromState)(z,!0,{}):V.preserve&&V.preserve.auth?(0,u.preserveValuesFromState)(z,V.preserve.auth,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return z}}function we(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,V=1<arguments.length?arguments[1]:void 0;switch(V.type){case I:case A:return null;case L:case re:return V.authError;default:return z}}function Xe(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{isLoaded:!1,isEmpty:!0},V=1<arguments.length?arguments[1]:void 0;switch(V.type){case T:return V.profile?v(v({},V.profile),{},{isEmpty:!1,isLoaded:!0}):v(v({},z),{},{isEmpty:!0,isLoaded:!0});case ve:return Object.assign({},z,V.payload);case I:return V.preserve&&V.preserve.profile?(0,u.preserveValuesFromState)(z,V.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isEmpty:!0,isLoaded:!1};case A:case G:return V.preserve&&V.preserve.profile?(0,u.preserveValuesFromState)(z,V.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return z}}function x(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],V=1<arguments.length?arguments[1]:void 0;switch(V.type){case L:case re:if(!Array.isArray(z))throw new Error("Errors state must be an array");return[].concat(c(z),[V.authError]);case A:case k:if(V.preserve&&V.preserve.errors){if(typeof V.preserve.errors!="function")throw new Error("Preserve for the errors state currently only supports functions");return z.filter(V.preserve.errors)}return[];default:return z}}function $(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},V=1<arguments.length?arguments[1]:void 0,Q=V.type,_e=V.path,Pt=V.payload;return Q===N?v(v({},z),{},y({},Pt.id,{id:Pt.id,path:_e})):Q===O?(0,s.default)(z,[Pt.id]):z}function B(){var z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],V=1<arguments.length?arguments[1]:void 0,Q=V.type;V.path;var _e=V.payload;return Q===N?[].concat(c(z),[_e.id]):Q===O?z.filter(function(Pt){return Pt!==_e.id}):z}var K=(0,u.combineReducers)({byId:$,allIds:B});t.listenersReducer=K;var ce=te();t.dataReducer=ce;var le=te("ordered");t.orderedReducer=le})(C3);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=y_,r=C3,i=(0,n.combineReducers)({requesting:r.requestingReducer,requested:r.requestedReducer,timestamps:r.timestampsReducer,data:r.dataReducer,ordered:r.orderedReducer,auth:r.authReducer,authError:r.authErrorReducer,profile:r.profileReducer,listeners:r.listenersReducer,isInitializing:r.isInitializingReducer,errors:r.errorsReducer});e.default=i,t.exports=e.default})(Hb,Hb.exports);(function(t,e){function n(D){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},n(D)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=C(Gv),i=b(Ub.exports),s=b(Ss.exports),o=b(Fg.exports),a=b(iu.exports),u=b(Bb.exports),l=b(jb.exports),c=b(Vb.exports),d=b(Wb.exports),h=b(zb.exports),m=b(qb.exports),g=b(Ug.exports),_=b(Bg.exports),S=b(Hb.exports),v=C(Xi),y=$A,w=C(xA);function b(D){return D&&D.__esModule?D:{default:D}}function T(D){if(typeof WeakMap!="function")return null;var P=new WeakMap,N=new WeakMap;return(T=function(O){return O?N:P})(D)}function C(D,P){if(!P&&D&&D.__esModule)return D;if(D===null||n(D)!=="object"&&typeof D!="function")return{default:D};var N=T(P);if(N&&N.has(D))return N.get(D);var O={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in D)if(F!="default"&&Object.prototype.hasOwnProperty.call(D,F)){var G=U?Object.getOwnPropertyDescriptor(D,F):null;G&&(G.get||G.set)?Object.defineProperty(O,F,G):O[F]=D[F]}return O.default=D,N&&N.set(D,O),O}function I(D,P){var N=Object.keys(D);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(D);P&&(O=O.filter(function(U){return Object.getOwnPropertyDescriptor(D,U).enumerable})),N.push.apply(N,O)}return N}function A(D){for(var P,N=1;N<arguments.length;N++)P=arguments[N]==null?{}:arguments[N],N%2?I(Object(P),!0).forEach(function(O){L(D,O,P[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(P)):I(Object(P)).forEach(function(O){Object.defineProperty(D,O,Object.getOwnPropertyDescriptor(P,O))});return D}function L(D,P,N){return P in D?Object.defineProperty(D,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):D[P]=N,D}var k=A({ReactReduxFirebaseProvider:i.default,ReactReduxFirebaseContext:s.default,ReduxFirestoreContext:a.default,ReduxFirestoreProvider:o.default,createFirebaseInstance:r.default,firebaseConnect:u.default,firestoreConnect:l.default,withFirebase:c.default,withFirestore:d.default,useFirebase:g.default,useFirebaseConnect:h.default,useFirestore:_.default,useFirestoreConnect:m.default,reducer:S.default,firebaseReducer:S.default,constants:v.default,actionTypes:v.actionTypes,getFirebase:r.getFirebase,authIsReady:y.authIsReady},w);e.default=k,t.exports=e.default})(Rb,Rb.exports);var FA={},__={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.methodsToAddFromFirestore=mt.defaultConfig=mt.default=mt.actionsPrefix=mt.actionTypes=void 0;var Le="@@reduxFirestore";mt.actionsPrefix=Le;var k3={START:"".concat(Le,"/START"),ERROR:"".concat(Le,"/ERROR"),CLEAR_DATA:"".concat(Le,"/CLEAR_DATA"),CLEAR_ERROR:"".concat(Le,"/CLEAR_ERROR"),CLEAR_ERRORS:"".concat(Le,"/CLEAR_ERRORS"),SET_LISTENER:"".concat(Le,"/SET_LISTENER"),UNSET_LISTENER:"".concat(Le,"/UNSET_LISTENER"),GET_REQUEST:"".concat(Le,"/GET_REQUEST"),GET_SUCCESS:"".concat(Le,"/GET_SUCCESS"),GET_FAILURE:"".concat(Le,"/GET_FAILURE"),SET_REQUEST:"".concat(Le,"/SET_REQUEST"),SET_SUCCESS:"".concat(Le,"/SET_SUCCESS"),SET_FAILURE:"".concat(Le,"/SET_FAILURE"),ADD_REQUEST:"".concat(Le,"/ADD_REQUEST"),ADD_SUCCESS:"".concat(Le,"/ADD_SUCCESS"),ADD_FAILURE:"".concat(Le,"/ADD_FAILURE"),UPDATE_REQUEST:"".concat(Le,"/UPDATE_REQUEST"),UPDATE_SUCCESS:"".concat(Le,"/UPDATE_SUCCESS"),UPDATE_FAILURE:"".concat(Le,"/UPDATE_FAILURE"),DELETE_REQUEST:"".concat(Le,"/DELETE_REQUEST"),DELETE_SUCCESS:"".concat(Le,"/DELETE_SUCCESS"),DELETE_FAILURE:"".concat(Le,"/DELETE_FAILURE"),ATTACH_LISTENER:"".concat(Le,"/ATTACH_LISTENER"),LISTENER_RESPONSE:"".concat(Le,"/LISTENER_RESPONSE"),LISTENER_ERROR:"".concat(Le,"/LISTENER_ERROR"),ON_SNAPSHOT_REQUEST:"".concat(Le,"/ON_SNAPSHOT_REQUEST"),ON_SNAPSHOT_SUCCESS:"".concat(Le,"/ON_SNAPSHOT_SUCCESS"),ON_SNAPSHOT_FAILURE:"".concat(Le,"/ON_SNAPSHOT_FAILURE"),DOCUMENT_ADDED:"".concat(Le,"/DOCUMENT_ADDED"),DOCUMENT_MODIFIED:"".concat(Le,"/DOCUMENT_MODIFIED"),DOCUMENT_REMOVED:"".concat(Le,"/DOCUMENT_REMOVED"),TRANSACTION_START:"".concat(Le,"/TRANSACTION_START"),TRANSACTION_SUCCESS:"".concat(Le,"/TRANSACTION_SUCCESS"),TRANSACTION_FAILURE:"".concat(Le,"/TRANSACTION_FAILURE")};mt.actionTypes=k3;var x3={logListenerError:!0,enhancerNamespace:"firestore",helpersNamespace:null,allowMultipleListeners:!1,preserveOnDelete:null,preserveOnListenerError:null,onAttemptCollectionDelete:null,mergeOrdered:!0,mergeOrderedDocUpdates:!0,mergeOrderedCollectionUpdates:!0};mt.defaultConfig=x3;var rAe=["collection","collectionGroup","configureClient","doc","batch","disableNetwork","enableNetwork","enablePersistence","ensureClientConfigured","setLogLevel","settings"];mt.methodsToAddFromFirestore=rAe;var iAe={actionsPrefix:Le,actionTypes:k3,defaultConfig:x3};mt.default=iAe;var ip={},su={},_r={};function sAe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var oAe=sAe,aAe=Au;function uAe(t,e){var n=!0;return aAe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var lAe=uAe,cAe=oAe,dAe=lAe,hAe=Ur,fAe=yt,pAe=bA;function mAe(t,e,n){var r=fAe(t)?cAe:dAe;return n&&pAe(t,e,n)&&(e=void 0),r(t,hAe(e))}var gAe=mAe,sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.mapWithFirebaseAndDispatch=PAe;sp.wrapInDispatch=CAe;var yAe=D3(kA),m0=D3(Bt);function D3(t){return t&&t.__esModule?t:{default:t}}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){N3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vAe(t){return EAe(t)||wAe(t)||$3(t)||_Ae()}function _Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EAe(t){if(Array.isArray(t))return Gb(t)}function bAe(t,e){return TAe(t)||IAe(t,e)||$3(t,e)||SAe()}function SAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3(t,e){if(!!t){if(typeof t=="string")return Gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gb(t,e)}}function Gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function TAe(t){if(Array.isArray(t))return t}function AAe(t,e){var n=t.payload;return typeof n=="function"?n(e):n}function CAe(t,e){var n=e.ref,r=e.meta,i=r===void 0?{}:r,s=e.method,o=e.args,a=o===void 0?[]:o,u=e.types,l=bAe(u,3),c=l[0],d=l[1],h=l[2];return t({type:(0,m0.default)(c)?c.type:c,meta:i,payload:(0,m0.default)(c)?c.payload:{args:a}}),n[s].apply(n,vAe(a)).then(function(m){var g=(0,m0.default)(d),_={type:g?d.type:d,meta:i,payload:g&&d.payload?AAe(d,m):{args:a}};return g&&d.preserve&&(_.preserve=d.preserve),g&&d.merge&&(_.merge=d.merge),t(_),m}).catch(function(m){return t({type:h,meta:i,payload:m}),Promise.reject(m)})}function RAe(t,e){return function(n){return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n.apply(t,[t,e].concat(i))}}}function PAe(t,e,n,r){var i=RAe(t,e);return Hp(Hp({},(0,yAe.default)(n,i)),r.reduce(function(s,o){var a=o.action,u=o.name;return Hp(Hp({},s),{},N3({},u,i(a)))},{}))}var dt={},OAe=u_,kAe=1,xAe=4;function DAe(t){return OAe(t,kAe|xAe)}var NAe=DAe,$Ae=X1;function LAe(t,e){for(var n=t.length;n--&&$Ae(e,t[n],0)>-1;);return n}var MAe=LAe,FAe=X1;function UAe(t,e){for(var n=-1,r=t.length;++n<r&&FAe(e,t[n],0)>-1;);return n}var L3=UAe,BAe=vA,jAe=h4,VAe=LA,WAe=MAe,zAe=L3,lD=MA,qAe=Iu;function HAe(t,e,n){if(t=qAe(t),t&&(n||e===void 0))return jAe(t);if(!t||!(e=BAe(e)))return t;var r=lD(t),i=lD(e),s=zAe(r,i),o=WAe(r,i)+1;return VAe(r,s,o).join("")}var GAe=HAe,KAe=n_,QAe=Su,YAe=Zf,XAe=yt,JAe=xs,ZAe=ru.exports,eCe=ep,tCe=t_,nCe="[object Map]",rCe="[object Set]",iCe=Object.prototype,sCe=iCe.hasOwnProperty;function oCe(t){if(t==null)return!0;if(JAe(t)&&(XAe(t)||typeof t=="string"||typeof t.splice=="function"||ZAe(t)||tCe(t)||YAe(t)))return!t.length;var e=QAe(t);if(e==nCe||e==rCe)return!t.size;if(eCe(t))return!KAe(t).length;for(var n in t)if(sCe.call(t,n))return!1;return!0}var aCe=oCe;Object.defineProperty(dt,"__esModule",{value:!0});dt.attachListener=ICe;dt.dataByIdSnapshot=jA;dt.detachListener=TCe;dt.dispatchListenerResponse=OCe;dt.firestoreRef=W3;dt.getBaseQueryName=bCe;dt.getPopulateActions=kCe;dt.getPopulateChild=Vg;dt.getQueryConfig=Qb;dt.getQueryConfigs=ACe;dt.getQueryName=$c;dt.getSnapshotByObject=ECe;dt.listenerExists=SCe;dt.orderedFromSnap=K3;dt.populateList=Yb;dt.promisesForPopulate=Q3;dt.queryStrToObj=w_;dt.snapshotCache=void 0;var uCe=Zi(NAe),jg=Zi(np),cD=Zi(Yi),lCe=Zi(Nc),cCe=Zi(RA),dD=Zi(f_),dCe=Zi(GAe),M3=Zi(aCe),hCe=Zi(t3),Kl=Zi(Bt),Oa=mt,fCe=["collection","collectionGroup","doc","subcollections","storeAs"],pCe=["collection","collectionGroup","subcollections"];function Zi(t){return t&&t.__esModule?t:{default:t}}function mCe(t){return yCe(t)||j3(t)||B3(t)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yCe(t){if(Array.isArray(t))return t}function F3(t,e){if(t==null)return{};var n=vCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function vCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){U3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ki(t){return wCe(t)||j3(t)||B3(t)||_Ce()}function _Ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3(t,e){if(!!t){if(typeof t=="string")return Kb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(t,e)}}function j3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wCe(t){if(Array.isArray(t))return Kb(t)}function Kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vo=new WeakMap;dt.snapshotCache=vo;function ECe(t){return vo.get(t)}function UA(t,e){if(!Array.isArray(e))throw new Error("where parameter must be an array.");return Array.isArray(e[0])?e.reduce(function(n,r){return UA(n,r)},t):t.where.apply(t,ki(e))}function BA(t,e){if(!Array.isArray(e)&&!(typeof e=="string"||e instanceof String))throw new Error("orderBy parameter must be an array or string.");return typeof e=="string"||e instanceof String?t.orderBy(e):typeof e[0]=="string"||e[0]instanceof String?t.orderBy.apply(t,ki(e)):e.reduce(function(n,r){return BA(n,r)},t)}function to(t){return[].concat(t)}function V3(t,e){return Array.isArray(e)&&e.forEach(function(n){if(n.collection){if(typeof t.collection!="function")throw new Error('Collection can only be run on a document. Check that query config for subcollection: "'.concat(n.collection,'" contains a doc parameter.'));t=t.collection(n.collection)}if(n.doc&&(t=t.doc(n.doc)),n.where&&(t=UA(t,n.where)),n.orderBy&&(t=BA(t,n.orderBy)),n.limit&&(t=t.limit(n.limit)),n.startAt){var r;t=(r=t).startAt.apply(r,ki(to(n.startAt)))}if(n.startAfter){var i;t=(i=t).startAfter.apply(i,ki(to(n.startAfter)))}if(n.endAt){var s;t=(s=t).endAt.apply(s,ki(to(n.endAt)))}if(n.endBefore){var o;t=(o=t).endBefore.apply(o,ki(to(n.endBefore)))}t=V3(t,n.subcollections)}),t}function W3(t,e){var n,r,i,s;if(!t.firestore)throw new Error("Firestore must be required and initalized.");var o=e.collection,a=e.collectionGroup,u=e.doc,l=e.subcollections,c=e.where,d=e.orderBy,h=e.limit,m=e.startAt,g=e.startAfter,_=e.endAt,S=e.endBefore,v=t.firestore();if(o&&a)throw new Error("Reference cannot contain both Collection and CollectionGroup.");return o&&(v=v.collection(o)),a&&(v=v.collectionGroup(a)),u&&(v=v.doc(u)),v=V3(v,l),c&&(v=UA(v,c)),d&&(v=BA(v,d)),h&&(v=v.limit(h)),m&&(v=(n=v).startAt.apply(n,ki(to(m)))),g&&(v=(r=v).startAfter.apply(r,ki(to(g)))),_&&(v=(i=v).endAt.apply(i,ki(to(_)))),S&&(v=(s=v).endBefore.apply(s,ki(to(S)))),v}function z3(t,e){return typeof e=="string"||e instanceof String||(0,hCe.default)(e)?"".concat(t,"=").concat(e):typeof e[0]=="string"||e[0]instanceof String?"".concat(t,"=").concat(e.join(":")):e&&typeof e.toString=="function"?"".concat(t,"=").concat(e.toString()):e.map(function(n){return z3(t,n)})}function q3(t){return["where","orderBy","limit","startAfter","startAt","endAt","endBefore"].reduce(function(e,n){return t[n]?ls(ls({},e),{},U3({},n,t[n])):e},{})}function H3(t){return Object.keys(t).filter(function(e){return t[e]!==void 0}).map(function(e){return z3(e,t[e])}).join("&")}function $c(t){if(typeof t=="string"||t instanceof String)return t;var e=t.collection,n=t.collectionGroup,r=t.doc,i=t.subcollections,s=t.storeAs,o=F3(t,fCe);if(!e&&!n)throw new Error("Collection or Collection Group is required to build query name");if(s)return s;var a=e||n;if(r&&(a=a.concat("/".concat(r))),e&&i){console.error('Queries with subcollections must use "storeAs" to prevent invalid store updates. This closley matches the upcoming major release (v1), which stores subcollections at the top level by default.');var u=i.map(function(c){return $c(c)});a="".concat(a,"/").concat(u.join("/"))}var l=q3(o);if(!(0,M3.default)(l)){if(l.where&&!Array.isArray(l.where))throw new Error("where parameter must be an array.");a=a.concat("?",H3(l))}return a}function bCe(t){if(typeof t=="string"||t instanceof String)return t;var e=t.collection,n=t.collectionGroup,r=t.subcollections,i=F3(t,pCe);if(!e&&!n)throw new Error("Collection or Collection Group is required to build query name");var s=e||n;if(e&&r){var o=r.map(function(u){return $c(u)});s="".concat(s,"/").concat(o.join("/"))}var a=q3(i);if(!(0,M3.default)(a)){if(a.where&&!Array.isArray(a.where))throw new Error("where parameter must be an array.");s=s.concat("?",H3(a))}return s}function G3(t,e){if(!e)throw new Error("Meta data is required to attach listener.");if(!t||!t._||!t._.listeners)throw new Error("Internal Firebase object required to attach listener. Confirm that reduxFirestore enhancer was added when you were creating your store")}function SCe(t,e){G3(t,e);var n=$c(e);return!!t._.listeners[n]}function ICe(t,e,n,r){G3(t,n);var i=$c(n);return t._.listeners[i]||(t._.listeners[i]=r),e({type:Oa.actionTypes.SET_LISTENER,meta:n,payload:{name:i}}),t._.listeners}function TCe(t,e,n){var r=$c(n);t._.listeners[r]&&(t._.listeners[r](),delete t._.listeners[r]),e({type:Oa.actionTypes.UNSET_LISTENER,meta:n,payload:{name:r}})}function w_(t,e){var n=e||(0,dCe.default)(t,["/"]).split("/"),r=mCe(n),i=r[0],s=r[1],o=r.slice(2),a={};return i&&(a.collection=i),s&&(a.doc=s),o.length&&(a.subcollections=[w_("",o)]),a}function Qb(t){if(typeof t=="string"||t instanceof String)return w_(t);if((0,Kl.default)(t)){if(!t.collection&&!t.collectionGroup&&!t.doc)throw new Error("Collection, Collection Group and/or Doc are required parameters within query definition object.");return t}throw new Error("Invalid Path Definition: Only Strings and Objects are accepted.")}function ACe(t){if(Array.isArray(t))return t.map(Qb);if(typeof t=="string"||t instanceof String)return w_(t);if((0,Kl.default)(t))return[Qb(t)];throw new Error("Querie(s) must be an Array or a string.")}function K3(t){var e=[];if(t.data&&t.exists){var n=(0,Kl.default)(t.data())?ls({id:t.id},t.data()||t.data):{id:t.id,data:t.data()};vo.set(n,t),e.push(n)}else t.forEach&&t.forEach(function(r){var i=(0,Kl.default)(r.data())?ls({id:r.id},r.data()||r.data):{id:r.id,data:r.data()};vo.set(i,r),e.push(i)});return vo.set(e,t),e}function jA(t){var e={};if(t.data){var n=t.exists?t.data():null;n&&vo.set(n,t),e[t.id]=n}else t.forEach&&t.forEach(function(r){var i=r.data()||r;vo.set(i,r),e[r.id]=i});return!!e&&Object.keys(e).length?(vo.set(e,t),e):null}function Vg(t,e,n){return W3(t,{collection:e.root,doc:n}).get().then(function(r){return ls({id:n},r.data())})}function Yb(t,e,n,r){return r[n.root]||(0,jg.default)(r,n.root,{}),Promise.all((0,lCe.default)(e,function(i,s){var o=i===!0||n.populateByKey?s:i;return Vg(t,n,o).then(function(a){return a?(0,jg.default)(r,"".concat(n.root,".").concat(o),a):r})}))}function CCe(t){if(typeof t=="string"||t instanceof String)return t;var e=t.split(":");return{child:e[0],root:e[1]}}function fD(t){return Array.isArray(t)?t.map(function(e){return(0,Kl.default)(e)?e:CCe(e)}):t}function Q3(t,e,n,r){var i=[],s={},o=fD(typeof r=="function"?r(e,n):r),a=o.some(function(u){return(0,cCe.default)(n,u.child)});return a?o.forEach(function(u){var l=(0,cD.default)(n,u.child);return typeof l=="string"||l instanceof String?i.push(Vg(t,u,l).then(function(c){c&&(0,jg.default)(s,"".concat(u.storeAs?u.storeAs:u.root,".").concat(l),c)})):i.push(Yb(t,l,u,s))}):(0,dD.default)(n,function(u,l){var c=fD(typeof r=="function"?r(l,u):r);(0,dD.default)(c,function(d){var h=(0,cD.default)(u,d.child);if(!!h){if(typeof h=="string"||h instanceof String)return i.push(Vg(t,d,h).then(function(m){return m&&(0,jg.default)(s,"".concat(d.storeAs?d.storeAs:d.root,".").concat(h),m),s}));if(Array.isArray(h)||(0,Kl.default)(h))return i.push(Yb(t,h,d,s))}})}),Promise.all(i).then(function(){return s})}var RCe={added:Oa.actionTypes.DOCUMENT_ADDED,removed:Oa.actionTypes.DOCUMENT_REMOVED,modified:Oa.actionTypes.DOCUMENT_MODIFIED};function PCe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ls(ls({},(0,uCe.default)(e)),{},{path:t.doc.ref.path});return e.subcollections&&!e.storeAs?n.subcollections[0]=ls(ls({},n.subcollections[0]),{},{doc:t.doc.id}):n.doc=t.doc.id,{type:RCe[t.type]||Oa.actionTypes.DOCUMENT_MODIFIED,meta:n,payload:{data:t.doc.data(),ordered:{oldIndex:t.oldIndex,newIndex:t.newIndex}}}}function OCe(t){var e=t.dispatch,n=t.docData,r=t.meta,i=t.firebase,s=i._.config||{},o=s.mergeOrdered,a=s.mergeOrderedDocUpdates,u=s.mergeOrderedCollectionUpdates,l=typeof n.docChanges=="function"?n.docChanges():n.docChanges;l&&l.length<n.size?l.forEach(function(c){e(PCe(c,r))}):e({type:Oa.actionTypes.LISTENER_RESPONSE,meta:r,payload:{data:jA(n),ordered:K3(n)},merge:{docs:o&&a,collections:o&&u}})}function kCe(t){var e=t.firebase,n=t.docData,r=t.meta;return Q3(e,n.id,jA(n),r.populates).then(function(i){return Object.keys(i).map(function(s){return{meta:{collection:s},payload:{data:i[s]},requesting:!1,requested:!0}})}).catch(function(i){return console.error("Error with populate:",i,r),Promise.reject(i)})}Object.defineProperty(_r,"__esModule",{value:!0});_r.add=Y3;_r.default=void 0;_r.deleteRef=LCe;_r.get=X3;_r.runTransaction=tV;_r.set=$Ce;_r.setListener=Wg;_r.setListeners=Z3;_r.unsetListener=VA;_r.unsetListeners=eV;_r.update=J3;var xCe=DCe(gAe),Lc=sp,Ft=mt,at=dt;function DCe(t){return t&&t.__esModule?t:{default:t}}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){NCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NCe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ba={};function Y3(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];var o=(0,at.getQueryConfig)(n);return(0,Lc.wrapInDispatch)(e,{ref:(0,at.firestoreRef)(t,o),method:"add",meta:o,args:i,types:[Ft.actionTypes.ADD_REQUEST,{type:Ft.actionTypes.ADD_SUCCESS,payload:function(u){var l={id:u.id,data:i[0]};return at.snapshotCache.set(l,u),l}},Ft.actionTypes.ADD_FAILURE]})}function $Ce(t,e,n){for(var r=(0,at.getQueryConfig)(n),i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return(0,Lc.wrapInDispatch)(e,{ref:(0,at.firestoreRef)(t,r),method:"set",meta:r,args:s,types:[Ft.actionTypes.SET_REQUEST,Ft.actionTypes.SET_SUCCESS,Ft.actionTypes.SET_FAILURE]})}function X3(t,e,n){var r=(0,at.getQueryConfig)(n),i=t._.config||{},s=i.mergeOrdered,o=i.mergeOrderedDocUpdates,a=i.mergeOrderedCollectionUpdates;return(0,Lc.wrapInDispatch)(e,{ref:(0,at.firestoreRef)(t,r),method:"get",meta:r,types:[Ft.actionTypes.GET_REQUEST,{type:Ft.actionTypes.GET_SUCCESS,payload:function(l){return{data:(0,at.dataByIdSnapshot)(l),ordered:(0,at.orderedFromSnap)(l)}},merge:{docs:s&&o,collections:s&&a}},Ft.actionTypes.GET_FAILURE]})}function J3(t,e,n){for(var r=(0,at.getQueryConfig)(n),i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return(0,Lc.wrapInDispatch)(e,{ref:(0,at.firestoreRef)(t,r),method:"update",meta:r,args:s,types:[Ft.actionTypes.UPDATE_REQUEST,Ft.actionTypes.UPDATE_SUCCESS,Ft.actionTypes.UPDATE_FAILURE]})}function LCe(t,e,n){var r=(0,at.getQueryConfig)(n),i=t._.config;return!r.doc||r.subcollections&&!(0,xCe.default)(r.subcollections,"doc")?typeof i.onAttemptCollectionDelete=="function"?i.onAttemptCollectionDelete(n,e,t):Promise.reject(new Error("Only documents can be deleted.")):(0,Lc.wrapInDispatch)(e,{ref:(0,at.firestoreRef)(t,r),method:"delete",meta:r,types:[Ft.actionTypes.DELETE_REQUEST,{type:Ft.actionTypes.DELETE_SUCCESS,preserve:t._.config.preserveOnDelete},Ft.actionTypes.DELETE_FAILURE]})}function Wg(t,e,n,r,i){var s=(0,at.getQueryConfig)(n),o=(0,at.firestoreRef)(t,s).onSnapshot(function(a){if(!s.populates){(0,at.dispatchListenerResponse)({dispatch:e,docData:a,meta:s,firebase:t}),typeof r=="function"&&r(a);return}(0,at.getPopulateActions)({firebase:t,docData:a,meta:s}).then(function(u){u.forEach(function(l){e(mD(mD({},l),{},{type:Ft.actionTypes.LISTENER_RESPONSE,timestamp:Date.now()}))}),(0,at.dispatchListenerResponse)({dispatch:e,docData:a,meta:s,firebase:t})}).catch(function(u){var l=t._.config||{},c=l.logListenerError;c!==!1&&c!==!1&&!!console&&typeof console.error=="function"&&console.error("redux-firestore error populating:",u),typeof i=="function"&&i(u)})},function(a){var u=t._.config||{},l=u.mergeOrdered,c=u.mergeOrderedDocUpdates,d=u.mergeOrderedCollectionUpdates,h=u.logListenerError,m=u.preserveOnListenerError;h!==!1&&!!console&&typeof console.error=="function"&&console.error("redux-firestore listener error:",a),e({type:Ft.actionTypes.LISTENER_ERROR,meta:s,payload:a,merge:{docs:l&&c,collections:l&&d},preserve:m}),typeof i=="function"&&i(a)});return(0,at.attachListener)(t,e,s,o),o}function Z3(t,e,n){if(!Array.isArray(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=t._.config;if(r.oneListenerPerPath)n.forEach(function(s){var o=(0,at.getQueryName)(s),a=ba[o]||0;ba[o]=a+1,!(a>0)&&Wg(t,e,s)});else{var i=r.allowMultipleListeners;n.forEach(function(s){var o=(0,at.getQueryName)(s),a=ba[o]||0,u=typeof i=="function"?i(s,t._.listeners):i;ba[o]=a+1,(a===0||u)&&Wg(t,e,s)})}}function VA(t,e,n){return(0,at.detachListener)(t,e,(0,at.getQueryConfig)(n))}function eV(t,e,n){if(!Array.isArray(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=t._.config,i=r.allowMultipleListeners;n.forEach(function(s){var o=(0,at.getQueryName)(s),a=ba[o]>=1,u=typeof i=="function"?i(s,t._.listeners):i;a&&(ba[o]-=1,(ba[o]===0||u)&&VA(t,e,s))})}function tV(t,e,n){return(0,Lc.wrapInDispatch)(e,{ref:t.firestore(),method:"runTransaction",args:[n],types:[Ft.actionTypes.TRANSACTION_START,Ft.actionTypes.TRANSACTION_SUCCESS,Ft.actionTypes.TRANSACTION_FAILURE]})}var MCe={get:X3,firestoreRef:at.firestoreRef,add:Y3,update:J3,setListener:Wg,setListeners:Z3,unsetListener:VA,unsetListeners:eV,runTransaction:tV};_r.default=MCe;function Xb(t){return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}Object.defineProperty(su,"__esModule",{value:!0});su.firestoreActions=su.default=void 0;var nV=FCe(_r);su.firestoreActions=nV;function rV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(rV=function(i){return i?n:e})(t)}function FCe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||Xb(t)!=="object"&&typeof t!="function")return{default:t};var n=rV(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}var UCe={firestoreActions:nV};su.default=UCe;Object.defineProperty(ip,"__esModule",{value:!0});ip.default=WCe;ip.getFirestore=zCe;var BCe=VCe(IA),g0=su,jCe=sp,gD=mt;function VCe(t){return t&&t.__esModule?t:{default:t}}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){Jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zg;function WCe(t,e,n){var r={listeners:{},config:Gp(Gp({},gD.defaultConfig),e)};t._=(0,BCe.default)(r,t._);var i=[{action:g0.firestoreActions.deleteRef,name:"delete"},{action:g0.firestoreActions.setListener,name:"onSnapshot"}],s=(0,jCe.mapWithFirebaseAndDispatch)(t,n,g0.firestoreActions,i),o=gD.methodsToAddFromFirestore.reduce(function(a,u){return t.firestore&&typeof t.firestore()[u]=="function"?Gp(Gp({},a),{},Jb({},u,t.firestore()[u].bind(t.firestore()))):a},{});return zg=Object.assign(o,t.firestore,{_:t._},e.helpersNamespace?Jb({},e.helpersNamespace,s):s),zg}function zCe(){if(!zg)throw new Error("Firestore instance does not yet exist. Check your setup.");return zg}Object.defineProperty(__,"__esModule",{value:!0});__.default=QCe;__.getFirestore=YCe;var qCe=mt,HCe=GCe(ip);function GCe(t){return t&&t.__esModule?t:{default:t}}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){KCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KCe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qg;function QCe(t,e){return function(n){return function(r,i,s){var o=n(r,i,s),a=_D(_D({},qCe.defaultConfig),e);return qg=(0,HCe.default)(t.firebase_||t,a,o.dispatch),o.firestore=qg,o}}}function YCe(){if(!qg)throw new Error("Firebase instance does not yet exist. Check your compose function.");return qg}var E_={};const XCe=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=typeof e[0]!="function"&&e.shift(),i=e;if(typeof r>"u")throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(s,o){for(var a=arguments.length,u=Array(a>2?a-2:0),l=2;l<a;l++)u[l-2]=arguments[l];var c=typeof s>"u",d=typeof o>"u";return c&&d&&r?r:i.reduce(function(h,m,g){if(typeof m>"u")throw new TypeError("An undefined reducer was passed in at index "+g);return m.apply(void 0,[h,o].concat(u))},c&&!d&&r?r:s)}},JCe=Object.freeze(Object.defineProperty({__proto__:null,default:XCe},Symbol.toStringTag,{value:"Module"})),ZCe=uS(JCe);var Zn={},eRe=vA,tRe=LA,nRe=L3,wD=MA,rRe=Iu,iRe=/^\s+/;function sRe(t,e,n){if(t=rRe(t),t&&(n||e===void 0))return t.replace(iRe,"");if(!t||!(e=eRe(e)))return t;var r=wD(t),i=nRe(r,wD(e));return tRe(r,i).join("")}var oRe=sRe,aRe=Iu;function uRe(){var t=arguments,e=aRe(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var lRe=uRe,cRe=Qi,dRe=Jn,hRe="[object Boolean]";function fRe(t){return t===!0||t===!1||dRe(t)&&cRe(t)==hRe}var pRe=fRe;Object.defineProperty(Zn,"__esModule",{value:!0});Zn.combineReducers=CRe;Zn.createReducer=PRe;Zn.getDotStrPath=ARe;Zn.getSlashStrPath=TRe;Zn.pathFromMeta=sV;Zn.pathToArr=iV;Zn.preserveValuesFromState=ORe;Zn.updateItemInArray=RRe;var mRe=op(W4),gRe=op(oRe),yRe=op(lRe),vRe=op(m_),_Re=op(pRe);function op(t){return t&&t.__esModule?t:{default:t}}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){wRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wRe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y0(t){return IRe(t)||SRe(t)||bRe(t)||ERe()}function ERe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bRe(t,e){if(!!t){if(typeof t=="string")return Zb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zb(t,e)}}function SRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IRe(t){if(Array.isArray(t))return Zb(t)}function Zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iV(t){return t?t.split(/\//).filter(function(e){return!!e}):[]}function TRe(t){return(0,gRe.default)((0,yRe.default)(t,/[.]/g,"/"),"/")}function ARe(t){return iV(t).join(".")}function CRe(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object.keys(t).reduce(function(r,i){return r[i]=t[i](e[i],n),r},{})}}function sV(t){if(!t)throw new Error("Action meta is required to build path for reducers.");var e=t.collection,n=t.collectionGroup,r=t.doc,i=t.subcollections,s=t.storeAs;if(s)return r?[s,r]:[s];if(t.path)return t.path.split("/");if(!e&&!n)throw new Error("Collection or Collection Group is required to construct reducer path.");var o=[e||n];if(r&&(o=[].concat(y0(o),[r])),!i)return o;var a=i.map(sV);return[].concat(y0(o),y0((0,mRe.default)(a)))}function RRe(t,e,n){var r=!1,i=Array.isArray(t)?t.map(function(s){if(!s||s.id!==e)return s;r=!0;var o=n(s);return o}):[];return r||i.push(n({id:e})),i}function PRe(t,e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0;return e.hasOwnProperty(i.type)?e[i.type](r,i):r}}function ORe(t,e,n){if((0,_Re.default)(e))return n?bD(bD({},t),n):t;if(typeof e=="function")return e(t,n);if(Array.isArray(e))return(0,vRe.default)(t,e);throw new Error("Invalid preserve parameter. It must be an Object or an Array.")}var oV={},WA={};Object.defineProperty(WA,"__esModule",{value:!0});WA.default=URe;var hd=aV(O3),v0=aV(Yi),Ko=mt,bi=Zn;function aV(t){return t&&t.__esModule?t:{default:t}}var kRe=Ko.actionTypes.CLEAR_DATA,xRe=Ko.actionTypes.GET_SUCCESS,DRe=Ko.actionTypes.LISTENER_RESPONSE,NRe=Ko.actionTypes.LISTENER_ERROR,$Re=Ko.actionTypes.DELETE_SUCCESS,LRe=Ko.actionTypes.DOCUMENT_ADDED,MRe=Ko.actionTypes.DOCUMENT_MODIFIED,FRe=Ko.actionTypes.DOCUMENT_REMOVED;function URe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case xRe:case DRe:var n=e.meta,r=e.payload;if(!r||r.data===void 0)return t;var i=function h(m){return m.subcollections?h(m.subcollections.slice(-1)[0]):m.doc},s=i(n),o=s?(0,v0.default)(r.data,s):r.data,a=(0,v0.default)(t,n.storeAs?[n.storeAs]:(0,bi.pathFromMeta)(n));return!a||n.subcollections?(0,hd.default)(Object,n.storeAs?[n.storeAs]:(0,bi.pathFromMeta)(n),o,t):(0,hd.default)(Object,n.storeAs?[n.storeAs]:(0,bi.pathFromMeta)(n),o,t);case MRe:case LRe:return(0,hd.default)(Object,(0,bi.pathFromMeta)(e.meta),e.payload.data,t);case FRe:case $Re:var u=(0,bi.pathFromMeta)(e.meta),l=(0,hd.default)(Object,u,null,t);return e.preserve&&e.preserve.data?(0,bi.preserveValuesFromState)(t,e.preserve.data,l):l;case kRe:return e.preserve&&e.preserve.data?(0,bi.preserveValuesFromState)(t,e.preserve.data,{}):{};case NRe:var c=(0,hd.default)(Object,(0,bi.pathFromMeta)(e.meta),null,t);if(e.preserve&&e.preserve.data)return(0,bi.preserveValuesFromState)(t,e.preserve.data,c);var d=(0,v0.default)(t,(0,bi.pathFromMeta)(e.meta));return d?t:c;default:return t}}var b_={};Object.defineProperty(b_,"__esModule",{value:!0});b_.default=void 0;var S_=mt,Yd=dt,BRe=Zn;function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){eS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jRe(t){return qRe(t)||zRe(t)||WRe(t)||VRe()}function VRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WRe(t,e){if(!!t){if(typeof t=="string")return tS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(t,e)}}function zRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qRe(t){if(Array.isArray(t))return tS(t)}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var HRe=S_.actionTypes.CLEAR_ERRORS,uV=S_.actionTypes.CLEAR_ERROR,lV=S_.actionTypes.LISTENER_ERROR,cV=S_.actionTypes.ERROR;function GRe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.meta,r=e.type;switch(r){case lV:case cV:return t.indexOf((0,Yd.getQueryName)(n))!==-1?t:[].concat(jRe(t),[(0,Yd.getQueryName)(n)]);case HRe:return[];case uV:return t.filter(function(i){return i!==(0,Yd.getQueryName)(n)});default:return t}}function KRe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.meta,r=e.payload,i=e.type;switch(i){case cV:case lV:return Kp(Kp({},t),{},eS({},(0,Yd.getQueryName)(n),r));case uV:return Kp(Kp({},t),{},eS({},(0,Yd.getQueryName)(n),null));default:return t}}var QRe=(0,BRe.combineReducers)({byQuery:KRe,allIds:GRe}),YRe=QRe;b_.default=YRe;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});I_.default=void 0;var XRe=ZRe(g_),Hg=mt,JRe=Zn;function ZRe(t){return t&&t.__esModule?t:{default:t}}function ePe(t){return iPe(t)||rPe(t)||nPe(t)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(t,e){if(!!t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function rPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iPe(t){if(Array.isArray(t))return nS(t)}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){dV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sPe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.path,i=e.payload;switch(n){case Hg.actionTypes.SET_LISTENER:return TD(TD({},t),{},dV({},i.name,{name:i.name,path:r}));case Hg.actionTypes.UNSET_LISTENER:return(0,XRe.default)(t,[i.name]);default:return t}}function oPe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case Hg.actionTypes.SET_LISTENER:return[].concat(ePe(t),[r.name]);case Hg.actionTypes.UNSET_LISTENER:return t.filter(function(i){return i!==r.name});default:return t}}var aPe=(0,JRe.combineReducers)({byId:sPe,allIds:oPe}),uPe=aPe;I_.default=uPe;var zA={};function lPe(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}var cPe=lPe,dPe=Au;function hPe(t,e,n,r){return dPe(t,function(i,s,o){e(r,i,n(i),o)}),r}var fPe=hPe,pPe=cPe,mPe=fPe,gPe=Ur,yPe=yt;function vPe(t,e){return function(n,r){var i=yPe(n)?pPe:mPe,s=e?e():{};return i(n,t,gPe(r),s)}}var hV=vPe,_Pe=Ic,wPe=hV,EPe=wPe(function(t,e,n){_Pe(t,n,e)}),bPe=EPe,SPe=iA,IPe=J4,TPe=Ur,APe=yt,CPe=b3;function RPe(t,e){var n=APe(t)?SPe:IPe;return n(t,CPe(TPe(e)))}var PPe=RPe,_0=b4,OPe=e4,kPe=pA,xPe=1/0,DPe=_0&&1/kPe(new _0([,-0]))[1]==xPe?function(t){return new _0(t)}:OPe,NPe=DPe,$Pe=hA,LPe=J1,MPe=T3,FPe=fA,UPe=NPe,BPe=pA,jPe=200;function VPe(t,e,n){var r=-1,i=LPe,s=t.length,o=!0,a=[],u=a;if(n)o=!1,i=MPe;else if(s>=jPe){var l=e?null:UPe(t);if(l)return BPe(l);o=!1,i=FPe,u=new $Pe}else u=e?[]:a;e:for(;++r<s;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var h=u.length;h--;)if(u[h]===d)continue e;e&&u.push(d),a.push(c)}else i(u,d,n)||(u!==a&&u.push(d),a.push(c))}return a}var WPe=VPe,zPe=c_,qPe=Ur,HPe=h_,GPe=WPe,AD=wA,KPe=AA,QPe=HPe(function(t){var e=KPe(t);return AD(e)&&(e=void 0),GPe(zPe(t,1,AD,!0),qPe(e))}),YPe=QPe;Object.defineProperty(zA,"__esModule",{value:!0});zA.default=vOe;var fV=Ds(IA),XPe=Ds(Dc),JPe=Ds(bPe),ZPe=Ds(Nc),pV=Ds(g_),CD=Ds(PPe),eOe=Ds(YPe),Jh=Ds(Yi),w0=Ds(NA),Cu=mt,xi=Zn,js;function Ds(t){return t&&t.__esModule?t:{default:t}}function tOe(t,e){return iOe(t)||rOe(t,e)||mV(t,e)||nOe()}function nOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function iOe(t){if(Array.isArray(t))return t}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nl(t){return aOe(t)||oOe(t)||mV(t)||sOe()}function sOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mV(t,e){if(!!t){if(typeof t=="string")return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(t,e)}}function oOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aOe(t){if(Array.isArray(t))return rS(t)}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uOe=Cu.actionTypes.DOCUMENT_ADDED,lOe=Cu.actionTypes.GET_SUCCESS,cOe=Cu.actionTypes.LISTENER_RESPONSE,dOe=Cu.actionTypes.CLEAR_DATA,hOe=Cu.actionTypes.DELETE_SUCCESS,fOe=Cu.actionTypes.DOCUMENT_REMOVED,pOe=Cu.actionTypes.DOCUMENT_MODIFIED;function mOe(t,e,n,r){var i=e.doc,s=n||{},o=s.oldIndex,a=s.newIndex,u=[].concat(nl(t.slice(0,o)),nl(t.slice(o+1)));return[].concat(nl(u.slice(0,a)),[cr({id:i},r)||cr({},t[o])],nl(u.slice(a)))}function qA(t,e){if(e.payload.ordered){var n=e.payload.ordered,r=n.newIndex,i=n.oldIndex;if(r!==null&&i!==null&&r>-1&&i>-1&&r!==i)return mOe(t,e.meta,e.payload.ordered,e.payload.data)}if(!e.meta.subcollections||e.meta.storeAs)return(0,xi.updateItemInArray)(t,e.meta.doc,function(c){return cr({id:e.meta.doc},e.payload.data)});var s=(0,xi.pathToArr)(e.meta.path),o=tOe(s,4),a=o[1],u=o[2],l=o[3];return(0,xi.updateItemInArray)(t,a,function(c){return cr(cr({},c),{},Vr({},u,(0,xi.updateItemInArray)((0,Jh.default)(c,u,[]),l,function(d){return(0,fV.default)(d,e.payload.data)})))})}function gOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.meta,r=e.payload;return!n.subcollections||n.storeAs?[].concat(nl(t.slice(0,r.ordered.newIndex)),[cr({id:n.doc},r.data)],nl(t.slice(r.ordered.newIndex))):qA(t,e)}function PD(t,e){if(!e.meta.subcollections||e.meta.storeAs)return(0,CD.default)(t,{id:e.meta.doc});var n=e.meta.subcollections[0];return n.doc?(0,xi.updateItemInArray)(t,e.meta.doc,function(r){var i=(0,Jh.default)(r,n.collection,[]);return i.length?cr(cr({},r),{},Vr({},n.collection,(0,CD.default)(t,{id:n.doc}))):r}):(0,xi.updateItemInArray)(t,e.meta.doc,function(r){return(0,pV.default)(r,[n.collection])})}function OD(t,e){var n=e.meta,r=e.merge,i=r===void 0?{doc:!0,collections:!0}:r;if(n.storeAs)return e.payload.ordered;var s=(0,w0.default)(t),o=!!(0,w0.default)(e.payload.ordered);if(n.doc&&i.doc&&s)return qA(t,e);if(s&&i.collections){if(!o)return[];var a=t&&(0,JPe.default)(t,"id");return(0,ZPe.default)(e.payload.ordered,function(l){var c=(0,Jh.default)(a,l.id);return!!c&&!(0,XPe.default)(c,l)?cr(cr({},c),l):l})}if(n.doc&&n.subcollections){var u=n.subcollections[0];return s?(0,xi.updateItemInArray)(t,n.doc,function(l){return o?cr(cr({},l),{},Vr({},u.collection,(0,eOe.default)((0,Jh.default)(l,u.collection,[]),e.payload.ordered,"id"))):(0,pV.default)(l,[u.collection])}):[Vr({id:n.doc},u.collection,e.payload.ordered)]}return n.doc&&s?(0,w0.default)(e.payload.ordered)?(0,xi.updateItemInArray)(t,n.doc,function(l){return(0,fV.default)(l,e.payload.ordered[0])}):t:e.payload.ordered}var gV=(js={},Vr(js,uOe,gOe),Vr(js,pOe,qA),Vr(js,fOe,PD),Vr(js,hOe,PD),Vr(js,cOe,OD),Vr(js,lOe,OD),js),yOe=(0,xi.createReducer)(void 0,gV);function vOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!e.type)return t;if(e.type===dOe)return e.preserve&&e.preserve.ordered?(0,xi.preserveValuesFromState)(t,e.preserve.ordered,{}):{};if(!Object.prototype.hasOwnProperty.call(gV,e.type)||!e.meta||!e.meta.storeAs&&!e.meta.collection)return t;var n=e.meta.storeAs||e.meta.collection,r=(0,Jh.default)(t,n);return cr(cr({},t),{},Vr({},n,yOe(r,e)))}var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.default=void 0;Ru.requestedReducer=EV;Ru.requestingReducer=wV;Ru.timestampsReducer=bV;var T_=mt,iS=Zn,Zh=dt;function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){Ql(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HA=T_.actionTypes.SET_LISTENER,yV=T_.actionTypes.UNSET_LISTENER,vV=T_.actionTypes.LISTENER_ERROR,_V=T_.actionTypes.LISTENER_RESPONSE;function wV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case HA:return Di(Di({},t),{},Ql({},(0,iS.getSlashStrPath)((0,Zh.getQueryName)(r)),!0));case vV:case _V:case yV:return Di(Di({},t),{},Ql({},(0,iS.getSlashStrPath)((0,Zh.getQueryName)(r)),!1));default:return t}}function EV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case HA:case yV:return Di(Di({},t),{},Ql({},(0,Zh.getQueryName)(r),!1));case vV:case _V:return Di(Di({},t),{},Ql({},(0,Zh.getQueryName)(r),!0));default:return t}}function bV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case HA:return Di(Di({},t),{},Ql({},(0,Zh.getQueryName)(r),Date.now()));default:return t}}var _Oe=(0,iS.combineReducers)({requesting:wV,requested:EV,timestamps:bV});Ru.default=_Oe;var A_={};function rn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ki(t){return!!t&&!!t[Ce]}function mi(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var n=Object.getPrototypeOf(e);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===ROe}(t)||Array.isArray(t)||!!t[yl]||!!t.constructor[yl]||C_(t)||R_(t))}function wOe(t){return Ki(t)||rn(23,t),t[Ce].t}function Is(t,e,n){n===void 0&&(n=!1),Mo(t)===0?(n?Object.keys:vl)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Mo(t){var e=t[Ce];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:C_(t)?2:R_(t)?3:0}function _o(t,e){return Mo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vm(t,e){return Mo(t)===2?t.get(e):t[e]}function SV(t,e,n){var r=Mo(t);r===2?t.set(e,n):r===3?(t.delete(e),t.add(n)):t[e]=n}function IV(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function C_(t){return AOe&&t instanceof Map}function R_(t){return COe&&t instanceof Set}function Qt(t){return t.o||t.t}function GA(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=PV(t);delete e[Ce];for(var n=vl(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function P_(t,e){return e===void 0&&(e=!1),KA(t)||Ki(t)||!mi(t)||(Mo(t)>1&&(t.set=t.add=t.clear=t.delete=EOe),Object.freeze(t),e&&Is(t,function(n,r){return P_(r,!0)},!0)),t}function EOe(){rn(2)}function KA(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ui(t){var e=oS[t];return e||rn(18,t),e}function QA(t,e){oS[t]||(oS[t]=e)}function ef(){return nf}function E0(t,e){e&&(Ui("Patches"),t.u=[],t.s=[],t.v=e)}function Gg(t){sS(t),t.p.forEach(bOe),t.p=null}function sS(t){t===nf&&(nf=t.l)}function xD(t){return nf={p:[],l:nf,h:t,m:!0,_:0}}function bOe(t){var e=t[Ce];e.i===0||e.i===1?e.j():e.O=!0}function b0(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Ui("ES5").S(e,t,r),r?(n[Ce].P&&(Gg(e),rn(4)),mi(t)&&(t=Kg(e,t),e.l||Qg(e,t)),e.u&&Ui("Patches").M(n[Ce].t,t,e.u,e.s)):t=Kg(e,n,[]),Gg(e),e.u&&e.v(e.u,e.s),t!==O_?t:void 0}function Kg(t,e,n){if(KA(e))return e;var r=e[Ce];if(!r)return Is(e,function(s,o){return DD(t,r,e,s,o,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Qg(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=GA(r.k):r.o;Is(r.i===3?new Set(i):i,function(s,o){return DD(t,r,i,s,o,n)}),Qg(t,i,!1),n&&t.u&&Ui("Patches").R(r,n,t.u,t.s)}return r.o}function DD(t,e,n,r,i,s){if(Ki(i)){var o=Kg(t,i,s&&e&&e.i!==3&&!_o(e.D,r)?s.concat(r):void 0);if(SV(n,r,o),!Ki(o))return;t.m=!1}if(mi(i)&&!KA(i)){if(!t.h.F&&t._<1)return;Kg(t,i),e&&e.A.l||Qg(t,i)}}function Qg(t,e,n){n===void 0&&(n=!1),t.h.F&&t.m&&P_(e,n)}function S0(t,e){var n=t[Ce];return(n?Qt(n):t)[e]}function ND(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ir(t){t.P||(t.P=!0,t.l&&ir(t.l))}function I0(t){t.o||(t.o=GA(t.t))}function tf(t,e,n){var r=C_(e)?Ui("MapSet").N(e,n):R_(e)?Ui("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:ef(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=rf;o&&(u=[a],l=Sd);var c=Proxy.revocable(u,l),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(e,n):Ui("ES5").J(e,n);return(n?n.A:ef()).p.push(r),r}function TV(t){return Ki(t)||rn(22,t),function e(n){if(!mi(n))return n;var r,i=n[Ce],s=Mo(n);if(i){if(!i.P&&(i.i<4||!Ui("ES5").K(i)))return i.t;i.I=!0,r=$D(n,s),i.I=!1}else r=$D(n,s);return Is(r,function(o,a){i&&vm(i.t,o)===a||SV(r,o,e(a))}),s===3?new Set(r):r}(t)}function $D(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return GA(t)}function AV(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[Ce];return rf.get(u,s)},set:function(u){var l=this[Ce];rf.set(l,s,u)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Ce];if(!a.P)switch(a.i){case 5:r(a)&&ir(a);break;case 4:n(a)&&ir(a)}}}function n(s){for(var o=s.t,a=s.k,u=vl(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==Ce){var d=o[c];if(d===void 0&&!_o(o,c))return!0;var h=a[c],m=h&&h[Ce];if(m?m.t!==d:!IV(h,d))return!0}}var g=!!o[Ce];return u.length!==vl(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};QA("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,d){if(c){for(var h=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(h,""+m,t(m,!0));return h}var g=PV(d);delete g[Ce];for(var _=vl(g),S=0;S<_.length;S++){var v=_[S];g[v]=t(v,c||!!g[v].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(a,s),l={i:a?5:4,A:o?o.A:ef(),P:!1,I:!1,D:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,Ce,{value:l,writable:!0}),u},S:function(s,o,a){a?Ki(o)&&o[Ce].A===s&&e(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[Ce];if(c){var d=c.t,h=c.k,m=c.D,g=c.i;if(g===4)Is(h,function(w){w!==Ce&&(d[w]!==void 0||_o(d,w)?m[w]||u(h[w]):(m[w]=!0,ir(c)))}),Is(d,function(w){h[w]!==void 0||_o(h,w)||(m[w]=!1,ir(c))});else if(g===5){if(r(c)&&(ir(c),m.length=!0),h.length<d.length)for(var _=h.length;_<d.length;_++)m[_]=!1;else for(var S=d.length;S<h.length;S++)m[S]=!0;for(var v=Math.min(h.length,d.length),y=0;y<v;y++)h.hasOwnProperty(y)||(m[y]=!0),m[y]===void 0&&u(h[y])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}function CV(){function t(r){if(!mi(r))return r;if(Array.isArray(r))return r.map(t);if(C_(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],t(o[1])]}));if(R_(r))return new Set(Array.from(r).map(t));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=t(r[s]);return _o(r,yl)&&(i[yl]=r[yl]),i}function e(r){return Ki(r)?t(r):r}var n="add";QA("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=Mo(u),d=""+o[l];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||rn(24),typeof u=="function"&&d==="prototype"&&rn(24),typeof(u=vm(u,d))!="object"&&rn(15,o.join("/"))}var h=Mo(u),m=t(s.value),g=o[o.length-1];switch(a){case"replace":switch(h){case 2:return u.set(g,m);case 3:rn(16);default:return u[g]=m}case n:switch(h){case 1:return g==="-"?u.push(m):u.splice(g,0,m);case 2:return u.set(g,m);case 3:return u.add(m);default:return u[g]=m}case"remove":switch(h){case 1:return u.splice(g,1);case 2:return u.delete(g);case 3:return u.delete(s.value);default:return delete u[g]}default:rn(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var d=a.t,h=a.o;Is(a.D,function(m,g){var _=vm(d,m),S=vm(h,m),v=g?_o(d,m)?"replace":n:"remove";if(_!==S||v!=="replace"){var y=u.concat(m);l.push(v==="remove"?{op:v,path:y}:{op:v,path:y,value:S}),c.push(v===n?{op:"remove",path:y}:v==="remove"?{op:n,path:y,value:e(_)}:{op:"replace",path:y,value:e(_)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var d=a.t,h=a.D,m=a.o;if(m.length<d.length){var g=[m,d];d=g[0],m=g[1];var _=[c,l];l=_[0],c=_[1]}for(var S=0;S<d.length;S++)if(h[S]&&m[S]!==d[S]){var v=u.concat([S]);l.push({op:"replace",path:v,value:e(m[S])}),c.push({op:"replace",path:v,value:e(d[S])})}for(var y=d.length;y<m.length;y++){var w=u.concat([y]);l.push({op:n,path:w,value:e(m[y])})}d.length<m.length&&c.push({op:"replace",path:u.concat(["length"]),value:d.length})}(r,i,s,o);case 3:return function(a,u,l,c){var d=a.t,h=a.o,m=0;d.forEach(function(g){if(!h.has(g)){var _=u.concat([m]);l.push({op:"remove",path:_,value:g}),c.unshift({op:n,path:_,value:g})}m++}),m=0,h.forEach(function(g){if(!d.has(g)){var _=u.concat([m]);l.push({op:n,path:_,value:g}),c.unshift({op:"remove",path:_,value:g})}m++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===O_?void 0:i}),o.push({op:"replace",path:[],value:r})}})}function RV(){function t(a,u){function l(){this.constructor=a}i(a,u),a.prototype=(l.prototype=u.prototype,new l)}function e(a){a.o||(a.D=new Map,a.o=new Map(a.t))}function n(a){a.o||(a.o=new Set,a.t.forEach(function(u){if(mi(u)){var l=tf(a.A.h,u,a);a.p.set(u,l),a.o.add(l)}else a.o.add(u)}))}function r(a){a.O&&rn(3,JSON.stringify(Qt(a)))}var i=function(a,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])})(a,u)},s=function(){function a(l,c){return this[Ce]={i:2,l:c,A:c?c.A:ef(),P:!1,I:!1,o:void 0,D:void 0,t:l,k:this,C:!1,O:!1},this}t(a,Map);var u=a.prototype;return Object.defineProperty(u,"size",{get:function(){return Qt(this[Ce]).size}}),u.has=function(l){return Qt(this[Ce]).has(l)},u.set=function(l,c){var d=this[Ce];return r(d),Qt(d).has(l)&&Qt(d).get(l)===c||(e(d),ir(d),d.D.set(l,!0),d.o.set(l,c),d.D.set(l,!0)),this},u.delete=function(l){if(!this.has(l))return!1;var c=this[Ce];return r(c),e(c),ir(c),c.t.has(l)?c.D.set(l,!1):c.D.delete(l),c.o.delete(l),!0},u.clear=function(){var l=this[Ce];r(l),Qt(l).size&&(e(l),ir(l),l.D=new Map,Is(l.t,function(c){l.D.set(c,!1)}),l.o.clear())},u.forEach=function(l,c){var d=this;Qt(this[Ce]).forEach(function(h,m){l.call(c,d.get(m),m,d)})},u.get=function(l){var c=this[Ce];r(c);var d=Qt(c).get(l);if(c.I||!mi(d)||d!==c.t.get(l))return d;var h=tf(c.A.h,d,c);return e(c),c.o.set(l,h),h},u.keys=function(){return Qt(this[Ce]).keys()},u.values=function(){var l,c=this,d=this.keys();return(l={})[Qp]=function(){return c.values()},l.next=function(){var h=d.next();return h.done?h:{done:!1,value:c.get(h.value)}},l},u.entries=function(){var l,c=this,d=this.keys();return(l={})[Qp]=function(){return c.entries()},l.next=function(){var h=d.next();if(h.done)return h;var m=c.get(h.value);return{done:!1,value:[h.value,m]}},l},u[Qp]=function(){return this.entries()},a}(),o=function(){function a(l,c){return this[Ce]={i:3,l:c,A:c?c.A:ef(),P:!1,I:!1,o:void 0,t:l,k:this,p:new Map,O:!1,C:!1},this}t(a,Set);var u=a.prototype;return Object.defineProperty(u,"size",{get:function(){return Qt(this[Ce]).size}}),u.has=function(l){var c=this[Ce];return r(c),c.o?!!c.o.has(l)||!(!c.p.has(l)||!c.o.has(c.p.get(l))):c.t.has(l)},u.add=function(l){var c=this[Ce];return r(c),this.has(l)||(n(c),ir(c),c.o.add(l)),this},u.delete=function(l){if(!this.has(l))return!1;var c=this[Ce];return r(c),n(c),ir(c),c.o.delete(l)||!!c.p.has(l)&&c.o.delete(c.p.get(l))},u.clear=function(){var l=this[Ce];r(l),Qt(l).size&&(n(l),ir(l),l.o.clear())},u.values=function(){var l=this[Ce];return r(l),n(l),l.o.values()},u.entries=function(){var l=this[Ce];return r(l),n(l),l.o.entries()},u.keys=function(){return this.values()},u[Qp]=function(){return this.values()},u.forEach=function(l,c){for(var d=this.values(),h=d.next();!h.done;)l.call(c,h.value,h.value,this),h=d.next()},a}();QA("MapSet",{N:function(a,u){return new s(a,u)},T:function(a,u){return new o(a,u)}})}function SOe(){AV(),RV(),CV()}function IOe(t){return t}function TOe(t){return t}var LD,nf,YA=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",AOe=typeof Map<"u",COe=typeof Set<"u",MD=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",O_=YA?Symbol.for("immer-nothing"):((LD={})["immer-nothing"]=!0,LD),yl=YA?Symbol.for("immer-draftable"):"__$immer_draftable",Ce=YA?Symbol.for("immer-state"):"__$immer_state",Qp=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",ROe=""+Object.prototype.constructor,vl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,PV=Object.getOwnPropertyDescriptors||function(t){var e={};return vl(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},oS={},rf={get:function(t,e){if(e===Ce)return t;var n=Qt(t);if(!_o(n,e))return function(i,s,o){var a,u=ND(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!mi(r)?r:r===S0(t.t,e)?(I0(t),t.o[e]=tf(t.A.h,r,t)):r},has:function(t,e){return e in Qt(t)},ownKeys:function(t){return Reflect.ownKeys(Qt(t))},set:function(t,e,n){var r=ND(Qt(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=S0(Qt(t),e),s=i==null?void 0:i[Ce];if(s&&s.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(IV(n,i)&&(n!==void 0||_o(t.t,e)))return!0;I0(t),ir(t)}return t.o[e]===n&&typeof n!="number"&&(n!==void 0||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return S0(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,I0(t),ir(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Qt(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){rn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){rn(12)}},Sd={};Is(rf,function(t,e){Sd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Sd.deleteProperty=function(t,e){return Sd.set.call(this,t,e,void 0)},Sd.set=function(t,e,n){return rf.set.call(this,t[0],e,n,t[0])};var OV=function(){function t(n){var r=this;this.g=MD,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(_){var S=this;_===void 0&&(_=a);for(var v=arguments.length,y=Array(v>1?v-1:0),w=1;w<v;w++)y[w-1]=arguments[w];return u.produce(_,function(b){var T;return(T=s).call.apply(T,[S,b].concat(y))})}}var l;if(typeof s!="function"&&rn(6),o!==void 0&&typeof o!="function"&&rn(7),mi(i)){var c=xD(r),d=tf(r,i,void 0),h=!0;try{l=s(d),h=!1}finally{h?Gg(c):sS(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(_){return E0(c,o),b0(_,c)},function(_){throw Gg(c),_}):(E0(c,o),b0(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===O_&&(l=void 0),r.F&&P_(l,!0),o){var m=[],g=[];Ui("Patches").M(i,l,m,g),o(m,g)}return l}rn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(l,function(m){return i.apply(void 0,[m].concat(d))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){mi(n)||rn(8),Ki(n)&&(n=TV(n));var r=xD(this),i=tf(this,n,void 0);return i[Ce].C=!0,sS(r),i},e.finishDraft=function(n,r){var i=n&&n[Ce],s=i.A;return E0(s,r),b0(void 0,s)},e.setAutoFreeze=function(n){this.F=n},e.setUseProxies=function(n){n&&!MD&&rn(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ui("Patches").$;return Ki(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),$r=new OV,FD=$r.produce,POe=$r.produceWithPatches.bind($r),OOe=$r.setAutoFreeze.bind($r),kOe=$r.setUseProxies.bind($r),xOe=$r.applyPatches.bind($r),DOe=$r.createDraft.bind($r),NOe=$r.finishDraft.bind($r);const $Oe=Object.freeze(Object.defineProperty({__proto__:null,default:FD,Immer:OV,applyPatches:xOe,castDraft:IOe,castImmutable:TOe,createDraft:DOe,current:TV,enableAllPlugins:SOe,enableES5:AV,enableMapSet:RV,enablePatches:CV,finishDraft:NOe,freeze:P_,immerable:yl,isDraft:Ki,isDraftable:mi,nothing:O_,original:wOe,produce:FD,produceWithPatches:POe,setAutoFreeze:OOe,setUseProxies:kOe},Symbol.toStringTag,{value:"Module"})),kV=uS($Oe);Object.defineProperty(A_,"__esModule",{value:!0});A_.default=VOe;A_.isComposable=xV;var LOe=k_(h3),UD=k_(Yi),MOe=k_(np),FOe=k_(kV),Zo=mt,UOe=dt;function k_(t){return t&&t.__esModule?t:{default:t}}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BOe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){jOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jOe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t){return!!(0,UD.default)(t,"meta.where")&&!!(0,UD.default)(t,"meta.collection")}function VOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return(0,FOe.default)(t,function(n){if(!xV(e))return t;var r=(0,UOe.getBaseQueryName)(e.meta);switch(e.type){case Zo.actionTypes.GET_SUCCESS:case Zo.actionTypes.LISTENER_RESPONSE:return n[r]=BOe({data:e.payload.data},e.meta),n;case Zo.actionTypes.UNSET_LISTENER:return n[r]&&(n[r].data=void 0),n;case Zo.actionTypes.DOCUMENT_ADDED:case Zo.actionTypes.DOCUMENT_MODIFIED:return(0,MOe.default)(n,[r,"data",e.meta.doc],e.payload.data),n;case Zo.actionTypes.DOCUMENT_REMOVED:case Zo.actionTypes.DELETE_SUCCESS:return(0,LOe.default)(n,[r,"data",e.meta.doc]),n;default:return t}})}var XA={},WOe=Ic,zOe=hV,qOe=Object.prototype,HOe=qOe.hasOwnProperty,GOe=zOe(function(t,e,n){HOe.call(t,n)?t[n].push(e):WOe(t,n,[e])}),KOe=GOe;Object.defineProperty(XA,"__esModule",{value:!0});XA.default=eke;var QOe=ap(Yi),YOe=ap(np),XOe=ap(Q4()),JOe=ap(KOe),ZOe=ap(kV),fd=mt;function ap(t){return t&&t.__esModule?t:{default:t}}function eke(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return(0,ZOe.default)(t,function(n){switch(e.type){case fd.actionTypes.DOCUMENT_MODIFIED:case fd.actionTypes.DOCUMENT_ADDED:case fd.actionTypes.DOCUMENT_REMOVED:case fd.actionTypes.LISTENER_RESPONSE:case fd.actionTypes.UNSET_LISTENER:var r=(0,JOe.default)(!!t.queries&&Object.values(t.queries)||[],function(i){return i.storeAs||i.collection});return Object.keys(r).forEach(function(i){var s={};r[i].forEach(function(o){return(0,XOe.default)(s,(0,QOe.default)(o,"data",{}))}),(0,YOe.default)(n,["composite",i],s)}),n;default:return t}})}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"crossSliceReducer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"dataReducer",{enumerable:!0,get:function(){return e.default}}),t.default=void 0,Object.defineProperty(t,"errorsReducer",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"listenersReducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"orderedReducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"queriesReducer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"statusReducer",{enumerable:!0,get:function(){return s.default}});var e=u(WA),n=u(b_),r=u(I_),i=u(zA),s=u(Ru),o=u(A_),a=u(XA);function u(c){return c&&c.__esModule?c:{default:c}}var l={dataReducer:e.default,errorsReducer:n.default,listenersReducer:r.default,orderedReducer:i.default,statusReducer:s.default,queriesReducer:o.default,crossSliceReducer:a.default};t.default=l})(oV);Object.defineProperty(E_,"__esModule",{value:!0});E_.default=void 0;var tke=rke(ZCe),nke=Zn,oa=oV;function rke(t){return t&&t.__esModule?t:{default:t}}var ike=(0,nke.combineReducers)({status:oa.statusReducer,data:oa.dataReducer,ordered:oa.orderedReducer,listeners:oa.listenersReducer,errors:oa.errorsReducer,queries:oa.queriesReducer,composite:function(e){return e}}),ske=(0,tke.default)(ike,oa.crossSliceReducer);E_.default=ske;var up={};Object.defineProperty(up,"__esModule",{value:!0});up.CALL_FIRESTORE=void 0;up.default=pke;var T0=mt;function oke(t,e){return cke(t)||lke(t,e)||uke(t,e)||ake()}function ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uke(t,e){if(!!t){if(typeof t=="string")return jD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jD(t,e)}}function jD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function cke(t){if(Array.isArray(t))return t}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){dke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hke(t,e){var n=e.method;e.modelArgs;var r=e.methodArgs;if(Array.isArray(r)||(r=[r]),!t||!t.firestore)throw new Error("firestore is not a Firebase namespace");return r?t.firestore()[n].apply(t,r):t.firestore()[n]}var aS="CALL_FIRESTORE";up.CALL_FIRESTORE=aS;var fke={get:[T0.actionTypes.GET_REQUEST,T0.actionTypes.GET_SUCCESS,T0.actionTypes.GET_FAILURE]};function pke(t){return function(e){return function(n){return function(r){var i=r.type===aS?r:void 0;if(typeof i>"u")return n(r);var s=i.method;if(typeof s=="function"&&(s=s(e.getState())),typeof s!="string")throw new Error("Specify a method.");var o=i.args,a=fke[s];if(!Array.isArray(a)||a.length!==3)throw new Error("Expected an array of three action types.");if(!a.every(function(g){return typeof g=="string"}))throw new Error("Expected action types to be strings.");function u(g){var _=WD(WD({},r),g);return delete _[aS],_}var l=oke(a,3),c=l[0],d=l[1],h=l[2];n({type:c});var m={method:s};return hke(t,m).then(function(g){return n({response:g,method:s,args:o,type:d})}).catch(function(g){return n(u({type:h,error:g.message||g||"Something bad happened"}))})}}}}(function(t){function e(g){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(g)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CALL_FIRESTORE",{enumerable:!0,get:function(){return a.CALL_FIRESTORE}}),Object.defineProperty(t,"actionTypes",{enumerable:!0,get:function(){return o.actionTypes}}),Object.defineProperty(t,"actions",{enumerable:!0,get:function(){return i.firestoreActions}}),Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"createFirestoreInstance",{enumerable:!0,get:function(){return s.default}}),t.default=void 0,Object.defineProperty(t,"enhancer",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"firestoreReducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getFirestore",{enumerable:!0,get:function(){return s.getFirestore}}),Object.defineProperty(t,"getSnapshotByObject",{enumerable:!0,get:function(){return u.getSnapshotByObject}}),Object.defineProperty(t,"middleware",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"reduxFirestore",{enumerable:!0,get:function(){return n.default}}),t.version=void 0;var n=d(__),r=d(E_),i=su,s=c(ip),o=c(mt),a=c(up),u=dt;function l(g){if(typeof WeakMap!="function")return null;var _=new WeakMap,S=new WeakMap;return(l=function(y){return y?S:_})(g)}function c(g,_){if(!_&&g&&g.__esModule)return g;if(g===null||e(g)!=="object"&&typeof g!="function")return{default:g};var S=l(_);if(S&&S.has(g))return S.get(g);var v={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in g)if(w!=="default"&&Object.prototype.hasOwnProperty.call(g,w)){var b=y?Object.getOwnPropertyDescriptor(g,w):null;b&&(b.get||b.set)?Object.defineProperty(v,w,b):v[w]=g[w]}return v.default=g,S&&S.set(g,v),v}function d(g){return g&&g.__esModule?g:{default:g}}var h="1.0.0";t.version=h;var m={version:h,reducer:r.default,firestoreReducer:r.default,enhancer:n.default,reduxFirestore:n.default,createFirestoreInstance:s.default,actions:i.firestoreActions,getFirestore:s.getFirestore,getSnapshotByObject:u.getSnapshotByObject,constants:o.default,actionTypes:o.actionTypes,middleware:a.default,CALL_FIRESTORE:a.CALL_FIRESTORE};t.default=m})(FA);function mke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){mke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var HD=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),A0=function(){return Math.random().toString(36).substring(7).split("").join(".")},sf={INIT:"@@redux/INIT"+A0(),REPLACE:"@@redux/REPLACE"+A0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+A0()}};function gke(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function x_(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vn(1));return n(x_)(t,e)}if(typeof t!="function")throw new Error(vn(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(vn(3));return s}function d(_){if(typeof _!="function")throw new Error(vn(4));if(u)throw new Error(vn(5));var S=!0;return l(),a.push(_),function(){if(!!S){if(u)throw new Error(vn(6));S=!1,l();var y=a.indexOf(_);a.splice(y,1),o=null}}}function h(_){if(!gke(_))throw new Error(vn(7));if(typeof _.type>"u")throw new Error(vn(8));if(u)throw new Error(vn(9));try{u=!0,s=i(s,_)}finally{u=!1}for(var S=o=a,v=0;v<S.length;v++){var y=S[v];y()}return _}function m(_){if(typeof _!="function")throw new Error(vn(10));i=_,h({type:sf.REPLACE})}function g(){var _,S=d;return _={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(vn(11));function w(){y.next&&y.next(c())}w();var b=S(w);return{unsubscribe:b}}},_[HD]=function(){return this},_}return h({type:sf.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:m},r[HD]=g,r}var yke=x_;function vke(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:sf.INIT});if(typeof r>"u")throw new Error(vn(12));if(typeof n(void 0,{type:sf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vn(13))})}function DV(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{vke(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var m=s[h],g=n[m],_=u[m],S=g(_,l);if(typeof S>"u")throw l&&l.type,new Error(vn(14));d[m]=S,c=c||S!==_}return c=c||s.length!==Object.keys(u).length,c?d:u}}function GD(t,e){return function(){return e(t.apply(this,arguments))}}function _ke(t,e){if(typeof t=="function")return GD(t,e);if(typeof t!="object"||t===null)throw new Error(vn(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=GD(i,e))}return n}function NV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function $V(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(vn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(u){return u(o)});return s=NV.apply(void 0,a)(i.dispatch),qD(qD({},i),{},{dispatch:s})}}}const wke=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:sf,applyMiddleware:$V,bindActionCreators:_ke,combineReducers:DV,compose:NV,createStore:x_,legacy_createStore:yke},Symbol.toStringTag,{value:"Module"})),Eke=uS(wke);var KD=Eke.compose,bke=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?KD:KD.apply(null,arguments)};function LV(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var MV=LV();MV.withExtraArgument=LV;const Ske=MV,FV="Package Added",UV="Scrap Added",BV="Inquiry Added",jV="User Added",Ike="Log Added",es="Error",rxe=({firestore:t},e)=>n=>{t.collection("packages").add(e).then(r=>{t.collection("packages").doc(r.id).update({id:r.id}),n({type:FV,packages:e})}).catch(r=>{n({type:es,err:r})})},ixe=({firestore:t},e)=>n=>{t.collection("scraps").add(e).then(r=>{t.collection("scraps").doc(r.id).update({id:r.id}),n({type:UV,scraps:e})}).catch(r=>{n({type:es,err:r})})},sxe=({firestore:t},e)=>n=>{t.collection("inquiries").add(e).then(r=>{t.collection("inquiries").doc(r.id).update({id:r.id}),n({type:BV,inquiry:e})}).catch(r=>{n({type:es,err:r})})},oxe=({firestore:t},e)=>n=>{t.collection("users").add(e).then(r=>{t.collection("users").doc(r.id).update({id:r.id}),n({type:jV,users:e})}).catch(r=>{n({type:es,err:r})})},axe=({firestore:t},e)=>n=>{t.collection("serverlogs").add(e).then(()=>{n({type:SERVERLOG_ADDED,log:e})}).catch(r=>{n({type:es,err:r})})},Tke={},Ake=(t=Tke,e)=>{switch(e.type){case FV:return t;case es:return console.log("package error : "+e.err),t;default:return t}},Cke={},Rke=(t=Cke,e)=>{switch(e.type){case UV:return t;case es:return console.log("scrap error : "+e.err),t;default:return t}},Pke={},Oke=(t=Pke,e)=>{switch(e.type){case BV:return t;case es:return console.log("inquiry error : "+e.err),t;default:return t}},kke={},xke=(t=kke,e)=>{switch(e.type){case Ike:return t;case es:return console.log("log error : "+e.err),t;default:return t}},Dke={},Nke=(t=Dke,e)=>{switch(e.type){case jV:return t;case es:return console.log("user error : "+e.err),t;default:return t}},$ke=DV({package:Ake,scrap:Rke,inquiry:Oke,log:xke,user:Nke,firestore:FA.firestoreReducer}),Lke=bke({realtime:!0}),VV=x_($ke,Lke($V(Ske))),Mke={firebase:Es,config:{userProfile:"users"},dispatch:VV.dispatch,createFirestoreInstance:FA.createFirestoreInstance};C0.createRoot(document.getElementById("root")).render(de(Poe,{store:VV,children:de(Rb.exports.ReactReduxFirebaseProvider,{...Mke,children:de(Bee,{})})}));export{Fke as A,FT as B,fS as C,ST as D,xF as E,Bke as F,Jke as G,d9 as H,Zke as I,Qke as J,Us as K,Uke as L,At as M,Kke as N,rxe as O,ixe as P,nxe as Q,OT as R,rp as S,_O as T,axe as U,sxe as V,c9 as W,Wm as _,qR as a,Z as b,oxe as c,po as d,Rb as e,Ct as f,coe as g,Gke as h,Hke as i,de as j,Xke as k,exe as l,Wke as m,zke as n,eZ as o,jke as p,Vke as q,Yke as r,qke as s,TU as t,hy as u,xT as v,Id as w,Po as x,txe as y,Er as z};
