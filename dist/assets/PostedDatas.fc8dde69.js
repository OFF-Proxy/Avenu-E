import{b as t,D as p,R as A,j as u,a as s,M as c,E as S,x as k,d as n}from"./index.61613632.js";import{a as v,A as j}from"./index.esm.e6574437.js";import{T as x,a as F,I as B,c as T,b as I}from"./index.esm.5f8e3b5d.js";/* empty css                *//* empty css               *//* empty css                */const M=l=>{const[i,E]=t.exports.useState(Array()),[w,C]=t.exports.useState(Object()),[o,D]=t.exports.useState(Boolean(!0)),[d,N]=t.exports.useState(Array()),[b,m]=t.exports.useState(Boolean(!1)),[f]=t.exports.useState(Array()),[h]=t.exports.useState(Array()),g=async()=>{await c.fire({title:"\u30A8\u30E9\u30FC aE-0307",html:"\u8A8D\u8A3C\u3057\u3066\u3044\u306A\u3044\u30A2\u30AB\u30A6\u30F3\u30C8\u306F\u3053\u306E\u6A5F\u80FD\u3092\u3054\u5229\u7528\u3067\u304D\u307E\u305B\u3093\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location="/package"})},y=async e=>{c.fire({title:"\u30B9\u30AF\u30E9\u30C3\u30D7\u306E\u524A\u9664",html:"<strong>\u672C\u5F53\u306B\u5B9F\u884C\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F</strong>",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"\u7D9A\u3051\u308B",cancelButtonText:"\u3084\u3081\u308B",confirmButtonColor:"#d33",reverseButtons:!0}).then(async a=>{!a.value||(await S(k(n,"scraps",e)),c.fire({title:"\u51E6\u7406\u7D42\u4E86",html:"\u9078\u629E\u3057\u305F\u30B9\u30AF\u30E9\u30C3\u30D7\u304C\u524A\u9664\u3055\u308C\u307E\u3057\u305F\u3002",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location.reload()}))})};switch(t.exports.useEffect(()=>{const e=p(n,"scraps");A(e,a=>{E(a.docs.map(r=>r.data()))})},[w]),t.exports.useEffect(()=>{i&&i.map(e=>{!d.includes(e.uid)&&N(a=>[...a,e.uid])}),d.includes(l.user.uid)?m(!0):m(!1)},[i]),t.exports.useEffect(()=>{if(!l.user)window.location="/login";else if(!l.user.emailVerified)g();else{const e=p(n,"users");A(e,a=>{a.docs.map(r=>{r.data().email===l.user.email&&C(r.data())})}),D(!1)}},[l]),o){case!1:return u("div",{className:"scraps-wrapper",children:!o&&s("div",{className:"container d-flex flex-wrap justify-content-center py-3",children:[i&&i.map((e,a)=>e.uid===l.user.uid&&s("div",{className:"scrap",children:[u("a",{href:"/profile?user="+e.userName,children:u("img",{className:"scrap-userIcon",src:e.userIcon,alt:"userIcon"})}),s("p",{className:"scrap-userName",children:[u("i",{className:"fas fa-circle-question"}),"\u8CEA\u554F\u6295\u7A3F\u8005 \u21E2 ",u("a",{href:"/profile?user="+e.userName,children:e.userName})]}),u("p",{className:"scrap-createAt",children:e.createAt}),u("div",{className:"scrap-good ps-1",children:u(x,{label:"\u3044\u3044\u306D\uFF01",bg:"gray",p:"0px 10px",fontSize:"11px",color:"white",children:s(F,{cursor:"pointer",children:[u(B,{as:h[a]?T:I,mr:"2.5",fontSize:"22px",color:h[a]?"#80CBC4":""}),e.goods]})})}),u("div",{className:"scrap-like ps-2",children:u(x,{label:"\u304A\u6C17\u306B\u5165\u308A\u306B\u8FFD\u52A0",bg:"gray",p:"0px 10px",fontSize:"11px",color:"white",children:s(F,{cursor:"pointer",children:[u(B,{as:f[a]?v:j,mr:"2.5",fontSize:"22px",color:f[a]?"red":""}),e.likes]})})}),u("h1",{className:"scrap-title",children:e.title}),u("p",{className:"scrap-content",id:"scrap-content",children:e.subtitle&&e.subtitle.length>20?e.subtitle.slice(0,80)+"\u2026":e.subtitle}),s("p",{children:["\u4F7F\u7528\u8A00\u8A9E: ",e.languages&&e.languages.join(", ")]}),s("p",{children:["\u305D\u306E\u4ED6: ",e.others&&e.others.join(", ")]}),s("div",{className:e.uid===l.user.uid?"scraps-btn-wrapper":"",children:[u("a",{href:"/scraps/detail?user="+e.userName+"&id="+e.id,children:u("button",{className:"btn",children:"\u8A73\u7D30\u3092\u78BA\u8A8D"})}),e.uid===l.user.uid&&s("button",{className:"btn btn-danger",onClick:()=>y(e.id),children:[u("i",{className:"fas fa-xmark me-2"}),"\u3053\u306E\u30B9\u30AF\u30E9\u30C3\u30D7\u3092\u524A\u9664\u3059\u308B"]})]})]},e.title)),!b&&u("div",{className:"my-5 py-5",children:u("h3",{className:"text-secondary text-center my-5 py-5",children:"\u6295\u7A3F\u30C7\u30FC\u30BF\u304C\u5B58\u5728\u3057\u307E\u305B\u3093\u3002"})})]})});default:return null}};export{M as default};
