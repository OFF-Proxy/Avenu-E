import{b as l,e as E,c as D,a as t,j as e,M as o,s as x,o as v,f as S}from"./index.61613632.js";/* empty css                */import{u as k}from"./useDispatch.0b74632c.js";const P="/assets/authentication.38b27993.svg",R="/assets/default_user.be32766e.svg",_=()=>{const[O,B]=l.exports.useState(String()),m=E.exports.useFirestore();E.exports.useFirestoreConnect("users");const F=k(),b=l.exports.useCallback(s=>F(D({firestore:m},s)),[m]),[d,g]=l.exports.useState(Boolean(!1)),[p,y]=l.exports.useState(Boolean(!1)),h=s=>{s===0?g(a=>!a):s===1&&y(a=>!a)},[n,N]=l.exports.useState(Boolean(!1)),[c,C]=l.exports.useState(Boolean(!1)),A=()=>{C(!c)},[u,w]=l.exports.useState({displayName:String(),email:String(),icon:R,id:String(),uid:String(),password:String(),repassword:String(),twitter:String(),github:String(),introduce:String(),likeScraps:Array(),goodScraps:Array(),bookmarks:Array(),pt:Number(0)}),i=s=>{const a=s.target,r=a.value,f=a.name;w({...u,[f]:r})};return t("div",{className:"container my-5",children:[e("h1",{className:"text-center emailAuth-title",children:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u767B\u9332\u3059\u308B\u3002"}),e("div",{className:"text-center",children:e("img",{src:P,width:"300",height:"200",alt:"AuthImage"})}),e("form",{onSubmit:async s=>{s.preventDefault(),u.displayName?u.password!==u.repassword?o.fire({title:"\u30A8\u30E9\u30FC aE-0302",html:"\u5165\u529B\u3057\u305F\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u5408\u81F4\u3057\u307E\u305B\u3093\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}):c?new Promise(a=>{N(!0),x(u.displayName.toString(),u.email.toString(),u.password.toString());try{b(u),v(S,r=>{B(r)})}catch(r){console.log(r)}a(u.displayName),o.fire({title:"\u51E6\u7406\u4E2D",html:"\u51E6\u7406\u7D42\u4E86\u307E\u3067\u753B\u9762\u306F\u305D\u306E\u307E\u307E\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",allowOutsideClick:!1,showConfirmButton:!1,timer:2e3})}).then(a=>new Promise((r,f)=>{setTimeout(()=>{o.fire({title:`\u3088\u3046\u3053\u305DAvenu-E\u3078\u3001${a}\u3055\u3093`,html:"\u767B\u9332\u3057\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306B\u8A8D\u8A3C\u30E1\u30FC\u30EB\u304C\u9001\u4FE1\u3055\u308C\u307E\u3059\u3002",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location="/"})},2e3)})).catch(a=>{console.log(a)}):o.fire({title:"\u30A8\u30E9\u30FC aE-0303",html:"\u5229\u7528\u898F\u7D04\u3068\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC\u306E\u78BA\u8A8D\u306E\u4E0A\u3001\u30C1\u30A7\u30C3\u30AF\u30DC\u30C3\u30AF\u30B9\u306B\u30C1\u30A7\u30C3\u30AF\u3092\u5165\u308C\u3066\u304F\u3060\u3055\u3044\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}):o.fire({title:"\u30A8\u30E9\u30FC aE-0301",html:"\u540D\u524D\u304C\u5165\u529B\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1})},children:t("div",{className:"bg-light d-flex p-5 col-6 mx-auto emailAuth-wrapper",children:[t("div",{className:"mt-3",children:[e("label",{className:"form-label",children:"\u30E6\u30FC\u30B6\u30FC\u540D"}),e("input",{type:"text",className:"form-control mb-3",placeholder:"\u7530\u4E2D\u592A\u90CE",name:"displayName",value:u.displayName,onChange:i})]}),t("div",{className:"mb-3",children:[e("label",{className:"form-label",children:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"}),e("input",{type:"email",className:"form-control",placeholder:"taro1234@xxxx.com",name:"email",value:u.email,onChange:i})]}),e("label",{className:"form-label mt-3",children:"\u30D1\u30B9\u30EF\u30FC\u30C9\uFF08\u82F1\u6570\u5B576\u6587\u5B57\u4EE5\u4E0A\uFF09"}),t("div",{className:"position-relative",children:[e("input",{type:d?"text":"password",className:"form-control mb-3",placeholder:"\u30D1\u30B9\u30EF\u30FC\u30C9",name:"password",value:u.password,onChange:i}),e("span",{className:"position-absolute bottom-50 end-0 pe-3",role:"presentation",onClick:()=>h(0),children:d?e("i",{className:"fas fa-eye-slash pointer"}):e("i",{className:"fas fa-eye pointer"})})]}),e("label",{className:"form-label mt-3",children:"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u518D\u5165\u529B"}),t("div",{className:"position-relative",children:[e("input",{type:p?"text":"password",className:"form-control mb-3",placeholder:"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u518D\u5165\u529B",name:"repassword",value:u.repassword,onChange:i}),e("span",{className:"position-absolute bottom-50 end-0 pe-3",role:"presentation",onClick:()=>h(1),children:p?e("i",{className:"fas fa-eye-slash pointer"}):e("i",{className:"fas fa-eye pointer"})})]}),e("div",{className:"row mb-3",children:e("div",{className:"col-sm-10 offset-sm-2",children:t("div",{className:"form-check",children:[e("input",{type:"checkbox",className:"form-check-input",name:"policy",onClick:A,defaultChecked:c}),t("label",{className:"form-check-label",htmlFor:"policy",children:[e("a",{href:"/term",target:"_blank",rel:"noopener noreferrer",children:"\u5229\u7528\u898F\u7D04"}),"\u3068",e("a",{href:"/privacypolicy",target:"_blank",rel:"noopener noreferrer",children:"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC"}),"\u306B\u540C\u610F\u3059\u308B\u3002"]})]})})}),e("button",{className:n?"btn btn-secondary py-3 my-1 mx-5 mb-3":"btn btn-primary py-3 my-1 mx-5 mb-3",disabled:n,children:n?"\u51E6\u7406\u4E2D":"\u767B\u9332"}),e("a",{className:"my-2 text-center",href:"./login",children:"\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u306E\u65B9\u306F\u3053\u3061\u3089"})]})}),e("div",{className:"text-center",children:e("a",{className:"btn btn-dark py-2 my-5 mx-5 col-6",href:"/",children:"\u623B\u308B"})})]})};export{_ as default};
