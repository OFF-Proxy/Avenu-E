import{b as r,e as B,P as S,a as u,j as e,M as d}from"./index.61613632.js";import{q as F}from"./index.49b092ce.js";import{r as k,a as M}from"./index.e2c02267.js";import{A as P}from"./index.esm.e6574437.js";import{T as E,a as g,I as b,b as I}from"./index.esm.5f8e3b5d.js";/* empty css               */import{R as H}from"./react-markdown.6538e4a4.js";import{u as Y}from"./useDispatch.0b74632c.js";const O="/assets/scrapPost.a9a1b93d.svg",G=t=>{const[c,f]=r.exports.useState(Array()),[l,N]=r.exports.useState(Array()),[C,x]=r.exports.useState(Boolean(!0)),D=async()=>{await d.fire({title:"\u30A8\u30E9\u30FC aE-0307",html:"\u8A8D\u8A3C\u3057\u3066\u3044\u306A\u3044\u30A2\u30AB\u30A6\u30F3\u30C8\u306F\u3053\u306E\u6A5F\u80FD\u3092\u3054\u5229\u7528\u3067\u304D\u307E\u305B\u3093\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location="/scraps"})},m=B.exports.useFirestore();B.exports.useFirestoreConnect("scraps");const w=Y(),v=r.exports.useCallback(s=>w(S({firestore:m},s)),[m]),[a,n]=r.exports.useState({title:String(),subtitle:String(),createAt:String(),content:String(),languages:Array(),others:Array(),userName:String(),userIcon:String(),goods:Number(),likes:Number(),id:String(),uid:String()});r.exports.useEffect(()=>{n(s=>({...s,languages:c}))},[c||l]),r.exports.useEffect(()=>{n(s=>({...s,others:l}))},[l]);const i=s=>{n({...a,[s.target.id]:s.target.value})},y=async s=>{s.preventDefault();try{if(a.title.trim()===""||a.subtitle.trim()===""||a.createAt.trim()===""||a.content.trim()==="")return;v(a),await d.fire({title:"\u6295\u7A3F\u5B8C\u4E86",html:"\u30B9\u30AF\u30E9\u30C3\u30D7\u304C\u6295\u7A3F\u3055\u308C\u307E\u3057\u305F\u3002",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location="/scraps"})}catch{await d.fire({title:"aE-0405",html:"\u30B9\u30AF\u30E9\u30C3\u30D7\u306E\u6295\u7A3F\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1})}},o=new Date,h=o.getFullYear(),p=o.getMonth()+1,A=o.getDate();switch(a.createAt=h+"\u5E74"+p+"\u6708"+A+"\u65E5",r.exports.useEffect(()=>{t.user?t.user.emailVerified?(x(!1),n({userName:t.user.displayName,userIcon:t.user.photoURL,uid:t.user.uid,goods:0,likes:0})):D():window.location="/login"},[t]),C){case!1:return u("div",{className:"post-wrapper",children:[u("div",{className:"container py-5 border col-6 p-5 bg-light",children:[u("div",{children:[u("h2",{className:"d-inline-block",children:[e("span",{className:"post-title",children:"\u7591\u554F"}),"\u3092",e("span",{className:"post-title",children:"\u30B9\u30AF\u30E9\u30C3\u30D7"}),"\u306B\u6B8B\u3057\u3066\u307F\u3088\u3046\u3002"]}),e("img",{className:"d-inline-block",src:O,width:"250",alt:"ScrapPost"}),u("p",{className:"text-secondary",children:["\u6295\u7A3F\u4F5C\u6210\u65E5: ",h+"\u5E74"+p+"\u6708"+A+"\u65E5"]})]}),e("div",{className:"row",children:e("div",{className:"col-md",children:u("form",{onSubmit:y,children:[u("div",{className:"form-group mb-3",children:[u("label",{children:[e("h3",{className:"d-inline-block me-2",children:"\u30BF\u30A4\u30C8\u30EB"}),e("small",{className:"text-secondary text-decoration-underline",children:"...\u30B9\u30AF\u30E9\u30C3\u30D7\u306E\u8868\u984C\uFF08\u6700\u592720\u6587\u5B57\uFF09"})]}),e("input",{className:"form-control",id:"title",type:"text",placeholder:"\u30BF\u30A4\u30C8\u30EB",value:a.title,onChange:i})]}),u("div",{className:"form-group mb-3",children:[u("label",{children:[e("h3",{className:"d-inline-block me-2",children:"\u30B5\u30D6\u30BF\u30A4\u30C8\u30EB"}),e("small",{className:"text-secondary text-decoration-underline",children:"...\u4E00\u89A7\u306B\u8868\u793A\u3055\u308C\u308B\u30B3\u30F3\u30C6\u30F3\u30C4\uFF08\u6700\u592750\u6587\u5B57\uFF09"})]}),e("textarea",{className:"form-control",id:"subtitle",placeholder:"\u30B5\u30D6\u30BF\u30A4\u30C8\u30EB",value:a.subtitle,onChange:i})]}),u("div",{className:"form-group mb-3",children:[u("label",{children:[e("h3",{className:"d-inline-block me-2",children:"\u8A18\u4E8B\u5185\u5BB9"}),e("small",{className:"text-secondary text-decoration-underline",children:"...\u8A18\u4E8B\u306B\u66F8\u304D\u8FBC\u3080\u5185\u5BB9\uFF08Markdown\u5BFE\u5FDC\uFF09"})]}),u("p",{children:["*Markdown\u306E\u8A18\u8FF0\u65B9\u6CD5\u306B\u95A2\u3057\u3066\u306F",e("a",{href:"/scraps/detail?user=RikiYa&id=vfabbc6HoE7WPKaP1aM6",target:"_blank",rel:"nofollow noopener noreferrer",children:"\u3053\u3061\u3089\u3092\u53C2\u7167"}),"\u304F\u3060\u3055\u3044\u3002"]}),e("textarea",{className:"form-control",id:"content",placeholder:"\u8A18\u4E8B\u5185\u5BB9",value:a.content,onChange:i})]}),u("div",{className:"form-group mb-3",children:[u("label",{children:[e("h3",{className:"d-inline-block me-2",children:"\u8A00\u8A9E"}),e("small",{className:"text-secondary text-decoration-underline",children:"...\u8A18\u4E8B\u306B\u95A2\u9023\u3059\u308B\u8A00\u8A9E"})]}),e(F,{classNames:"tag-form",value:c,onChange:f,name:"language",placeHolder:"\u8A00\u8A9E\u306E\u8FFD\u52A0"})]}),u("div",{className:"form-group mb-3",children:[u("label",{children:[e("h3",{className:"d-inline-block me-2",children:"\u305D\u306E\u4ED6"}),e("small",{className:"text-secondary text-decoration-underline",children:"...\u958B\u767A\u74B0\u5883\u3084\u305D\u306E\u4ED6\u30BF\u30B0"})]}),e(F,{classNames:"tag-form",value:l,onChange:N,name:"others",placeHolder:"\u305D\u306E\u4ED6\u3001\u958B\u767A\u74B0\u5883\u306A\u3069"})]}),e("hr",{}),u("div",{className:"text-center",children:[e("a",{className:"btn btn-secondary me-4",href:"/scraps",children:"\u3084\u3081\u308B"}),e("button",{className:"btn btn-success",children:"\u6295\u7A3F\u3059\u308B"})]})]})})})]}),u("div",{className:"container py-5 border col-6 bg-light preview-wrapper",children:[e("div",{className:"mb-5",children:e("h3",{className:"fw-bold text-secondary",children:"\u30B9\u30AF\u30E9\u30C3\u30D7\u306E\u30D7\u30EC\u30D3\u30E5\u30FC"})}),u("div",{className:"scrap",children:[e("a",{children:e("img",{className:"scrap-userIcon",src:a.userIcon,alt:"userIcon"})}),u("p",{className:"scrap-userName",children:[e("i",{className:"fas fa-circle-question"}),"\u30B9\u30AF\u30E9\u30C3\u30D7\u6295\u7A3F\u8005 \u21E2 ",e("a",{className:"text-primary",children:a.userName})]}),e("p",{className:"scrap-createAt",children:a.createAt}),e("div",{className:"scrap-good ps-1",children:e(E,{label:"\u3044\u3044\u306D\uFF01",bg:"gray",p:"0px 10px",fontSize:"11px",color:"white",children:u(g,{cursor:"pointer",children:[e(b,{as:I,mr:"2.5",fontSize:"22px"}),"0"]})})}),e("div",{className:"scrap-like ps-2",children:e(E,{label:"\u304A\u6C17\u306B\u5165\u308A\u306B\u8FFD\u52A0",bg:"gray",p:"0px 10px",fontSize:"11px",color:"white",children:u(g,{cursor:"pointer",children:[e(b,{as:P,mr:"2.5",fontSize:"22px"}),"0"]})})}),e("h1",{className:"scrap-title",children:a.title?a.title:"\u30BF\u30A4\u30C8\u30EB\u3092\u5165\u529B"}),e("p",{className:"scrap-content",id:"scrap-content",children:a.subtitle?a.subtitle&&a.subtitle.length>20?a.subtitle.slice(0,80)+"\u2026":a.subtitle:"\u30B5\u30D6\u30BF\u30A4\u30C8\u30EB\u3092\u5165\u529B"}),u("p",{children:["\u8A00\u8A9E: ",c]}),u("p",{children:["\u305D\u306E\u4ED6: ",l]}),u("div",{className:"scraps-btn-wrapper",children:[e("a",{children:e("button",{className:"btn",children:"\u8A73\u7D30\u3092\u78BA\u8A8D"})}),u("button",{className:"btn btn-danger",children:[e("i",{className:"fas fa-xmark me-2"}),"\u3053\u306E\u30B9\u30AF\u30E9\u30C3\u30D7\u3092\u524A\u9664\u3059\u308B"]})]})]}),e("div",{className:"mx-5",children:e(H,{rehypePlugins:[k],remarkPlugins:[M],children:a.content})})]})]});default:return null}};export{G as default};
