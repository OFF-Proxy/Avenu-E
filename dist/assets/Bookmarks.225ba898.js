import{b as t,D as f,R as p,a as u,j as e,M as k,d as N}from"./index.61613632.js";import{A as I}from"./index.esm.e6574437.js";import{T as x,a as A,I as B,B as j,b as U}from"./index.esm.5f8e3b5d.js";/* empty css                *//* empty css               *//* empty css                */const R=i=>{const[c,D]=t.exports.useState(Array()),[n,C]=t.exports.useState(Array()),[d,g]=t.exports.useState(Object()),[m,v]=t.exports.useState(Boolean(!0)),[E,b]=t.exports.useState(Boolean(!1)),[y,F]=t.exports.useState(Boolean(!1)),[w,o]=t.exports.useState(Boolean(!1)),S=async()=>{await k.fire({title:"\u30A8\u30E9\u30FC aE-0307",html:"\u8A8D\u8A3C\u3057\u3066\u3044\u306A\u3044\u30A2\u30AB\u30A6\u30F3\u30C8\u306F\u3053\u306E\u6A5F\u80FD\u3092\u3054\u5229\u7528\u3067\u304D\u307E\u305B\u3093\u3002",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location="/package"})};switch(t.exports.useEffect(()=>{const a=f(N,"scraps"),s=f(N,"packages");p(a,l=>{l.docs.map(r=>d.likeScraps.includes(r.id)&&D(h=>[...h,r.data()]))}),p(s,l=>{l.docs.map(r=>d.bookmarks.includes(r.id)&&C(h=>[...h,r.data()]))})},[d]),t.exports.useEffect(()=>{c.length>0?b(!0):b(!1)},[c]),t.exports.useEffect(()=>{n.length>0?F(!0):F(!1)},[n]),t.exports.useEffect(()=>{if(!i.user)window.location="/login";else if(!i.user.emailVerified)S();else{const a=f(N,"users");p(a,s=>{s.docs.map(l=>{l.data().email===i.user.email&&g(l.data())})}),v(!1)}},[i]),m){case!1:switch(w){case!1:return e("div",{children:!m&&u("div",{className:"container d-flex flex-wrap justify-content-center py-3",children:[e("button",{className:"radio",onClick:()=>o(!1),children:e("strong",{className:"text-decoration-underline",children:"\u30B9\u30AF\u30E9\u30C3\u30D7"})}),e("button",{className:"radio",onClick:()=>o(!0),children:"\u30D1\u30C3\u30B1\u30FC\u30B8"}),c&&e("div",{className:"card-wrapper m-5",children:c.map((a,s)=>u("div",{className:"scrap",children:[e("a",{href:"/profile?user="+a.userName,children:e("img",{className:"scrap-userIcon",src:a.userIcon,alt:"userIcon"})}),u("p",{className:"scrap-userName",children:[e("i",{className:"fas fa-circle-question"}),"\u8CEA\u554F\u6295\u7A3F\u8005 \u21E2 ",e("a",{href:"/profile?user="+a.userName,children:a.userName})]}),e("p",{className:"scrap-createAt",children:a.createAt}),e("div",{className:"scrap-good ps-1",children:e(x,{label:"\u3044\u3044\u306D\uFF01",bg:"gray",p:"0px 10px",fontSize:"11px",color:"white",children:u(A,{cursor:"pointer",children:[e(B,{as:U,mr:"2.5",fontSize:"22px",color:""}),a.goods]})})}),e("div",{className:"scrap-like ps-2",children:e(x,{label:"\u304A\u6C17\u306B\u5165\u308A\u306B\u8FFD\u52A0",bg:"gray",p:"0px 10px",fontSize:"11px",color:"white",children:u(A,{cursor:"pointer",children:[e(B,{as:I,mr:"2.5",fontSize:"22px",color:""}),a.likes]})})}),e("h1",{className:"scrap-title",children:a.title}),e("p",{className:"scrap-content",id:"scrap-content",children:a.subtitle&&a.subtitle.length>20?a.subtitle.slice(0,80)+"\u2026":a.subtitle}),u("p",{children:["\u4F7F\u7528\u8A00\u8A9E: ",a.languages&&a.languages.join(", ")]}),u("p",{children:["\u305D\u306E\u4ED6: ",a.others&&a.others.join(", ")]}),u("div",{className:a.uid===i.user.uid?"scraps-btn-wrapper":"",children:[e("a",{href:"/scraps/detail?user="+a.userName+"&id="+a.id,children:e("button",{className:"btn",children:"\u8A73\u7D30\u3092\u78BA\u8A8D"})}),a.uid===i.user.uid&&u("button",{className:"btn btn-danger",onClick:()=>deleteScrap(a.id),children:[e("i",{className:"fas fa-xmark me-2"}),"\u3053\u306E\u30B9\u30AF\u30E9\u30C3\u30D7\u3092\u524A\u9664\u3059\u308B"]})]})]},a.title))}),!E&&e("div",{className:"my-5 py-5",children:e("h3",{className:"text-secondary text-center my-5 py-5",children:"\u304A\u6C17\u306B\u5165\u308A\u767B\u9332\u3057\u3066\u3044\u308B\u30B9\u30AF\u30E9\u30C3\u30D7\u304C\u5B58\u5728\u3057\u307E\u305B\u3093\u3002"})})]})});default:return u("div",{children:[!m&&u("div",{className:"container d-flex flex-wrap justify-content-center py-3",children:[e("button",{className:"radio",onClick:()=>o(!1),children:"\u30B9\u30AF\u30E9\u30C3\u30D7"}),e("button",{className:"radio",onClick:()=>o(!0),children:e("strong",{className:"text-decoration-underline",children:"\u30D1\u30C3\u30B1\u30FC\u30B8"})}),n&&e("div",{className:"card-wrapper m-5",children:n.map(a=>u("div",{className:"portfolio-card card-wrapper-cel",children:[e("div",{className:"portfolio-thumnail",children:e("a",{href:"package/detail?id="+a.id,children:e("img",{src:a.images[0],alt:"",className:"portfolio-image"})})}),u("div",{className:"portfolio-detail",children:[u("h4",{className:"head-title head-title-middle",children:[e("a",{className:"d-inline-block",href:"package/detail?id="+a.id,children:a.title}),e("div",{className:"d-inline-block ms-2",children:e(x,{label:"\u30D6\u30C3\u30AF\u30DE\u30FC\u30AF\u306B\u8FFD\u52A0",bg:"gray",p:"0px 10px",fontSize:"11px",color:"white",children:e(A,{cursor:"pointer",children:e(B,{as:j,mr:"2.5",fontSize:"22px",color:""})})})})]}),e("p",{className:"portfolio-overview text-muted p-0",children:a.createAt}),e("div",{className:"social-icon-list",children:a.types.map((s,l)=>e("a",{href:"package/detail?id="+a.id,className:"tags-listItem",children:s},s+"_"+l))}),e("span",{className:"line"}),u("div",{className:"m-1",children:[e("a",{className:"d-inline-block",href:"/profile?user="+a.masterUserName,children:e("img",{src:a.masterUserIcon,className:"package-masterUserIcon"})}),u("div",{className:"portfolio-note d-inline-block",children:["\u958B\u767A\u8005\u540D\uFF1A",e("a",{href:"/profile?user="+a.masterUserName,children:a.masterUserName})]})]}),e("p",{className:"portfolio-overview",children:a.content&&a.content.length>150?a.content.slice(0,150)+"\u2026":a.content})]})]},a.title))}),!y&&e("div",{className:"my-5 py-5",children:e("h3",{className:"text-secondary text-center my-5 py-5",children:"\u30D6\u30C3\u30AF\u30DE\u30FC\u30AF\u3057\u3066\u3044\u308B\u30D1\u30C3\u30B1\u30FC\u30B8\u304C\u5B58\u5728\u3057\u307E\u305B\u3093\u3002"})})]}),";"]})}default:return null}};export{R as default};
